<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Antargis-svn] r1289 - in antargis/trunk/rookey:	examples/simplistic lib/rookey lib/rookey/cpp lib/rookey/cpp/spec
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/antargis-svn/2009-February/index.html" >
   <LINK REL="made" HREF="mailto:antargis-svn%40lists.berlios.de?Subject=Re%3A%20%5BAntargis-svn%5D%20r1289%20-%20in%20antargis/trunk/rookey%3A%0A%09examples/simplistic%20lib/rookey%20lib/rookey/cpp%20lib/rookey/cpp/spec&In-Reply-To=%3C200902171914.n1HJEvGN022688%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000244.html">
   <LINK REL="Next"  HREF="000246.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Antargis-svn] r1289 - in antargis/trunk/rookey:	examples/simplistic lib/rookey lib/rookey/cpp lib/rookey/cpp/spec</H1>
    <B>davidkamphausen at BerliOS</B> 
    <A HREF="mailto:antargis-svn%40lists.berlios.de?Subject=Re%3A%20%5BAntargis-svn%5D%20r1289%20-%20in%20antargis/trunk/rookey%3A%0A%09examples/simplistic%20lib/rookey%20lib/rookey/cpp%20lib/rookey/cpp/spec&In-Reply-To=%3C200902171914.n1HJEvGN022688%40sheep.berlios.de%3E"
       TITLE="[Antargis-svn] r1289 - in antargis/trunk/rookey:	examples/simplistic lib/rookey lib/rookey/cpp lib/rookey/cpp/spec">davidkamphausen at mail.berlios.de
       </A><BR>
    <I>Tue Feb 17 20:14:57 CET 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="000244.html">[Antargis-svn] r1288 - antargis/trunk/rookey/lib/rookey/cpp
</A></li>
        <LI>Next message: <A HREF="000246.html">[Antargis-svn] r1290 - in antargis/trunk: . rookey/lib	rookey/lib/rookey rookey/lib/rookey/cpp	rookey/lib/rookey/cpp/spec ruby/editor/campaign
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#245">[ date ]</a>
              <a href="thread.html#245">[ thread ]</a>
              <a href="subject.html#245">[ subject ]</a>
              <a href="author.html#245">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: davidkamphausen
Date: 2009-02-17 20:14:57 +0100 (Tue, 17 Feb 2009)
New Revision: 1289

Added:
   antargis/trunk/rookey/lib/rookey/cpp/spec/
   antargis/trunk/rookey/lib/rookey/cpp/spec/Rakefile
   antargis/trunk/rookey/lib/rookey/cpp/spec/singleton_spec.cc
Modified:
   antargis/trunk/rookey/examples/simplistic/
   antargis/trunk/rookey/examples/simplistic/rookey.log
   antargis/trunk/rookey/examples/simplistic/test
   antargis/trunk/rookey/examples/simplistic/test.bundle
   antargis/trunk/rookey/lib/rookey/cpp/rk_debug.cc
   antargis/trunk/rookey/lib/rookey/cpp/rk_logging.h
   antargis/trunk/rookey/lib/rookey/cpp/rk_singleton.cc
   antargis/trunk/rookey/lib/rookey/cpp/rk_singleton.h
   antargis/trunk/rookey/lib/rookey/tasks.rb
Log:
 rookey fixes


Property changes on: antargis/trunk/rookey/examples/simplistic
___________________________________________________________________
Name: svn:ignore
   + .build_darwin9.0
.deps


Modified: antargis/trunk/rookey/examples/simplistic/rookey.log
===================================================================
--- antargis/trunk/rookey/examples/simplistic/rookey.log	2009-02-16 20:16:03 UTC (rev 1288)
+++ antargis/trunk/rookey/examples/simplistic/rookey.log	2009-02-17 19:14:57 UTC (rev 1289)
@@ -13,24 +13,24 @@
 /usr/bin/rake:19:in `load'
 /usr/bin/rake:19
 Running configurator Rookey::SwigConfig
-#&lt;Rookey::Config:0x5455d8 @hash={&quot;SWIG_OPTIONS&quot;=&gt;&quot; -Wall -DAGEXPORT&quot;, &quot;SWIG&quot;=&gt;&quot; /opt/local/bin/swig&quot;}&gt;
+#&lt;Rookey::Config:0x52213c @hash={&quot;SWIG_OPTIONS&quot;=&gt;&quot; -Wall -DAGEXPORT&quot;, &quot;SWIG&quot;=&gt;&quot; /opt/local/bin/swig&quot;}&gt;
 Running configurator Rookey::MinGWConfig
-#&lt;Rookey::Config:0x5455d8 @hash={&quot;SWIG_OPTIONS&quot;=&gt;&quot; -Wall -DAGEXPORT&quot;, &quot;SWIG&quot;=&gt;&quot; /opt/local/bin/swig&quot;}&gt;
+#&lt;Rookey::Config:0x52213c @hash={&quot;SWIG_OPTIONS&quot;=&gt;&quot; -Wall -DAGEXPORT&quot;, &quot;SWIG&quot;=&gt;&quot; /opt/local/bin/swig&quot;}&gt;
 Running configurator Rookey::RubyConfig
-#&lt;Rookey::Config:0x5455d8 @hash={&quot;CC&quot;=&gt;&quot;/usr/bin/gcc&quot;, &quot;SWIG_OPTIONS&quot;=&gt;&quot; -Wall -DAGEXPORT&quot;, &quot;SWIG&quot;=&gt;&quot; /opt/local/bin/swig&quot;, &quot;CPP&quot;=&gt;&quot;/usr/bin/g++&quot;, &quot;CFLAGS&quot;=&gt;&quot; -arch ppc -arch i386 -Os -pipe -fno-common&quot;, &quot;host_os&quot;=&gt;&quot;darwin9.0&quot;, &quot;DLEXT&quot;=&gt;&quot;bundle&quot;, &quot;INCLUDEDIRS&quot;=&gt;&quot; /System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/universal-darwin9.0 /System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/include&quot;, &quot;LDFLAGS&quot;=&gt;&quot; -lpthread -ldl -lm  -lruby&quot;, &quot;GCC_BASE&quot;=&gt;&quot;gcc&quot;, &quot;GPP_BASE&quot;=&gt;&quot;g++&quot;, &quot;LDSHAREDFLAGS&quot;=&gt;&quot; -arch ppc -arch i386 -pipe -bundle -undefined dynamic_lookup&quot;}&gt;
+#&lt;Rookey::Config:0x52213c @hash={&quot;CC&quot;=&gt;&quot;/usr/bin/gcc&quot;, &quot;SWIG_OPTIONS&quot;=&gt;&quot; -Wall -DAGEXPORT&quot;, &quot;SWIG&quot;=&gt;&quot; /opt/local/bin/swig&quot;, &quot;CPP&quot;=&gt;&quot;/usr/bin/g++&quot;, &quot;CFLAGS&quot;=&gt;&quot; -arch ppc -arch i386 -Os -pipe -fno-common&quot;, &quot;host_os&quot;=&gt;&quot;darwin9.0&quot;, &quot;DLEXT&quot;=&gt;&quot;bundle&quot;, &quot;INCLUDEDIRS&quot;=&gt;&quot; /System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/universal-darwin9.0 /System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/include&quot;, &quot;LDFLAGS&quot;=&gt;&quot; -lpthread -ldl -lm  -lruby&quot;, &quot;GCC_BASE&quot;=&gt;&quot;gcc&quot;, &quot;GPP_BASE&quot;=&gt;&quot;g++&quot;, &quot;LDSHAREDFLAGS&quot;=&gt;&quot; -arch ppc -arch i386 -pipe -bundle -undefined dynamic_lookup&quot;}&gt;
 Running configurator Rookey::GLConfig
-#&lt;Rookey::Config:0x5455d8 @hash={&quot;CC&quot;=&gt;&quot;/usr/bin/gcc&quot;, &quot;SWIG_OPTIONS&quot;=&gt;&quot; -Wall -DAGEXPORT&quot;, &quot;SWIG&quot;=&gt;&quot; /opt/local/bin/swig&quot;, &quot;CPP&quot;=&gt;&quot;/usr/bin/g++&quot;, &quot;CFLAGS&quot;=&gt;&quot; -arch ppc -arch i386 -Os -pipe -fno-common&quot;, &quot;host_os&quot;=&gt;&quot;darwin9.0&quot;, &quot;DLEXT&quot;=&gt;&quot;bundle&quot;, &quot;INCLUDEDIRS&quot;=&gt;&quot; /System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/universal-darwin9.0 /System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/include /usr/X11/include&quot;, &quot;LDFLAGS&quot;=&gt;&quot; -lpthread -ldl -lm  -lruby -Wl,-framework,OpenGL&quot;, &quot;GCC_BASE&quot;=&gt;&quot;gcc&quot;, &quot;GPP_BASE&quot;=&gt;&quot;g++&quot;, &quot;LDSHAREDFLAGS&quot;=&gt;&quot; -arch ppc -arch i386 -pipe -bundle -undefined dynamic_lookup&quot;}&gt;
+#&lt;Rookey::Config:0x52213c @hash={&quot;CC&quot;=&gt;&quot;/usr/bin/gcc&quot;, &quot;SWIG_OPTIONS&quot;=&gt;&quot; -Wall -DAGEXPORT&quot;, &quot;SWIG&quot;=&gt;&quot; /opt/local/bin/swig&quot;, &quot;CPP&quot;=&gt;&quot;/usr/bin/g++&quot;, &quot;CFLAGS&quot;=&gt;&quot; -arch ppc -arch i386 -Os -pipe -fno-common&quot;, &quot;host_os&quot;=&gt;&quot;darwin9.0&quot;, &quot;DLEXT&quot;=&gt;&quot;bundle&quot;, &quot;INCLUDEDIRS&quot;=&gt;&quot; /System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/universal-darwin9.0 /System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/include /usr/X11/include&quot;, &quot;LDFLAGS&quot;=&gt;&quot; -lpthread -ldl -lm  -lruby -Wl,-framework,OpenGL&quot;, &quot;GCC_BASE&quot;=&gt;&quot;gcc&quot;, &quot;GPP_BASE&quot;=&gt;&quot;g++&quot;, &quot;LDSHAREDFLAGS&quot;=&gt;&quot; -arch ppc -arch i386 -pipe -bundle -undefined dynamic_lookup&quot;}&gt;
 Running configurator Rookey::DebugConfig
-#&lt;Rookey::Config:0x5455d8 @hash={&quot;CC&quot;=&gt;&quot;/usr/bin/gcc&quot;, &quot;SWIG_OPTIONS&quot;=&gt;&quot; -Wall -DAGEXPORT&quot;, &quot;SWIG&quot;=&gt;&quot; /opt/local/bin/swig&quot;, &quot;CPP&quot;=&gt;&quot;/usr/bin/g++&quot;, &quot;CFLAGS&quot;=&gt;&quot; -arch ppc -arch i386 -Os -pipe -fno-common&quot;, &quot;host_os&quot;=&gt;&quot;darwin9.0&quot;, &quot;DLEXT&quot;=&gt;&quot;bundle&quot;, &quot;INCLUDEDIRS&quot;=&gt;&quot; /System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/universal-darwin9.0 /System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/include /usr/X11/include&quot;, &quot;LDFLAGS&quot;=&gt;&quot; -lpthread -ldl -lm  -lruby -Wl,-framework,OpenGL&quot;, &quot;GCC_BASE&quot;=&gt;&quot;gcc&quot;, &quot;GPP_BASE&quot;=&gt;&quot;g++&quot;, &quot;LDSHAREDFLAGS&quot;=&gt;&quot; -arch ppc -arch i386 -pipe -bundle -undefined dynamic_lookup&quot;}&gt;
+#&lt;Rookey::Config:0x52213c @hash={&quot;CC&quot;=&gt;&quot;/usr/bin/gcc&quot;, &quot;SWIG_OPTIONS&quot;=&gt;&quot; -Wall -DAGEXPORT&quot;, &quot;SWIG&quot;=&gt;&quot; /opt/local/bin/swig&quot;, &quot;CPP&quot;=&gt;&quot;/usr/bin/g++&quot;, &quot;CFLAGS&quot;=&gt;&quot; -arch ppc -arch i386 -Os -pipe -fno-common&quot;, &quot;host_os&quot;=&gt;&quot;darwin9.0&quot;, &quot;DLEXT&quot;=&gt;&quot;bundle&quot;, &quot;INCLUDEDIRS&quot;=&gt;&quot; /System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/universal-darwin9.0 /System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/include /usr/X11/include&quot;, &quot;LDFLAGS&quot;=&gt;&quot; -lpthread -ldl -lm  -lruby -Wl,-framework,OpenGL&quot;, &quot;GCC_BASE&quot;=&gt;&quot;gcc&quot;, &quot;GPP_BASE&quot;=&gt;&quot;g++&quot;, &quot;LDSHAREDFLAGS&quot;=&gt;&quot; -arch ppc -arch i386 -pipe -bundle -undefined dynamic_lookup&quot;}&gt;
 Running configurator Rookey::CompilerConfig
-#&lt;Rookey::Config:0x5455d8 @hash={&quot;CC&quot;=&gt;&quot;/usr/bin/gcc&quot;, &quot;SWIG_OPTIONS&quot;=&gt;&quot; -Wall -DAGEXPORT&quot;, &quot;SWIG&quot;=&gt;&quot; /opt/local/bin/swig&quot;, &quot;CPP&quot;=&gt;&quot;/usr/bin/g++&quot;, &quot;CFLAGS&quot;=&gt;&quot; -arch ppc -arch i386 -Os -pipe -fno-common&quot;, &quot;host_os&quot;=&gt;&quot;darwin9.0&quot;, &quot;DLEXT&quot;=&gt;&quot;bundle&quot;, &quot;INCLUDEDIRS&quot;=&gt;&quot; /System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/universal-darwin9.0 /System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/include /usr/X11/include /Library/Ruby/Gems/1.8/gems/rookey-0.1/lib/rookey/./cpp&quot;, &quot;LDFLAGS&quot;=&gt;&quot; -lpthread -ldl -lm  -lruby -Wl,-framework,OpenGL&quot;, &quot;GCC_BASE&quot;=&gt;&quot;gcc&quot;, &quot;GPP_BASE&quot;=&gt;&quot;g++&quot;, &quot;LDSHAREDFLAGS&quot;=&gt;&quot; -arch ppc -arch i386 -pipe -bundle -undefined dynamic_lookup&quot;}&gt;
+#&lt;Rookey::Config:0x52213c @hash={&quot;CC&quot;=&gt;&quot;/usr/bin/gcc&quot;, &quot;SWIG_OPTIONS&quot;=&gt;&quot; -Wall -DAGEXPORT&quot;, &quot;SWIG&quot;=&gt;&quot; /opt/local/bin/swig&quot;, &quot;CPP&quot;=&gt;&quot;/usr/bin/g++&quot;, &quot;CFLAGS&quot;=&gt;&quot; -arch ppc -arch i386 -Os -pipe -fno-common&quot;, &quot;host_os&quot;=&gt;&quot;darwin9.0&quot;, &quot;DLEXT&quot;=&gt;&quot;bundle&quot;, &quot;INCLUDEDIRS&quot;=&gt;&quot; /System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/universal-darwin9.0 /System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/include /usr/X11/include /Library/Ruby/Gems/1.8/gems/rookey-0.1/lib/rookey/./cpp&quot;, &quot;LDFLAGS&quot;=&gt;&quot; -lpthread -ldl -lm  -lruby -Wl,-framework,OpenGL&quot;, &quot;GCC_BASE&quot;=&gt;&quot;gcc&quot;, &quot;GPP_BASE&quot;=&gt;&quot;g++&quot;, &quot;LDSHAREDFLAGS&quot;=&gt;&quot; -arch ppc -arch i386 -pipe -bundle -undefined dynamic_lookup&quot;}&gt;
 Running configurator Rookey::CcacheConfig
-#&lt;Rookey::Config:0x5455d8 @hash={&quot;CC&quot;=&gt;&quot;/usr/bin/gcc&quot;, &quot;SWIG_OPTIONS&quot;=&gt;&quot; -Wall -DAGEXPORT&quot;, &quot;CCACHE&quot;=&gt;&quot;/opt/local/bin/ccache&quot;, &quot;SWIG&quot;=&gt;&quot; /opt/local/bin/swig&quot;, &quot;CPP&quot;=&gt;&quot;/usr/bin/g++&quot;, &quot;CFLAGS&quot;=&gt;&quot; -arch ppc -arch i386 -Os -pipe -fno-common&quot;, &quot;host_os&quot;=&gt;&quot;darwin9.0&quot;, &quot;DLEXT&quot;=&gt;&quot;bundle&quot;, &quot;INCLUDEDIRS&quot;=&gt;&quot; /System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/universal-darwin9.0 /System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/include /usr/X11/include /Library/Ruby/Gems/1.8/gems/rookey-0.1/lib/rookey/./cpp&quot;, &quot;LDFLAGS&quot;=&gt;&quot; -lpthread -ldl -lm  -lruby -Wl,-framework,OpenGL&quot;, &quot;GCC_BASE&quot;=&gt;&quot;gcc&quot;, &quot;GPP_BASE&quot;=&gt;&quot;g++&quot;, &quot;LDSHAREDFLAGS&quot;=&gt;&quot; -arch ppc -arch i386 -pipe -bundle -undefined dynamic_lookup&quot;}&gt;
+#&lt;Rookey::Config:0x52213c @hash={&quot;CC&quot;=&gt;&quot;/usr/bin/gcc&quot;, &quot;SWIG_OPTIONS&quot;=&gt;&quot; -Wall -DAGEXPORT&quot;, &quot;CCACHE&quot;=&gt;&quot;/opt/local/bin/ccache&quot;, &quot;SWIG&quot;=&gt;&quot; /opt/local/bin/swig&quot;, &quot;CPP&quot;=&gt;&quot;/usr/bin/g++&quot;, &quot;CFLAGS&quot;=&gt;&quot; -arch ppc -arch i386 -Os -pipe -fno-common&quot;, &quot;host_os&quot;=&gt;&quot;darwin9.0&quot;, &quot;DLEXT&quot;=&gt;&quot;bundle&quot;, &quot;INCLUDEDIRS&quot;=&gt;&quot; /System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/universal-darwin9.0 /System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/include /usr/X11/include /Library/Ruby/Gems/1.8/gems/rookey-0.1/lib/rookey/./cpp&quot;, &quot;LDFLAGS&quot;=&gt;&quot; -lpthread -ldl -lm  -lruby -Wl,-framework,OpenGL&quot;, &quot;GCC_BASE&quot;=&gt;&quot;gcc&quot;, &quot;GPP_BASE&quot;=&gt;&quot;g++&quot;, &quot;LDSHAREDFLAGS&quot;=&gt;&quot; -arch ppc -arch i386 -pipe -bundle -undefined dynamic_lookup&quot;}&gt;
 Running configurator Rookey::Configurator
-#&lt;Rookey::Config:0x5455d8 @hash={&quot;CC&quot;=&gt;&quot;/usr/bin/gcc&quot;, &quot;SWIG_OPTIONS&quot;=&gt;&quot; -Wall -DAGEXPORT&quot;, &quot;CCACHE&quot;=&gt;&quot;/opt/local/bin/ccache&quot;, &quot;SWIG&quot;=&gt;&quot; /opt/local/bin/swig&quot;, &quot;CPP&quot;=&gt;&quot;/usr/bin/g++&quot;, &quot;CFLAGS&quot;=&gt;&quot; -arch ppc -arch i386 -Os -pipe -fno-common&quot;, &quot;host_os&quot;=&gt;&quot;darwin9.0&quot;, &quot;DLEXT&quot;=&gt;&quot;bundle&quot;, &quot;INCLUDEDIRS&quot;=&gt;&quot; /System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/universal-darwin9.0 /System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/include /usr/X11/include /Library/Ruby/Gems/1.8/gems/rookey-0.1/lib/rookey/./cpp&quot;, &quot;LDFLAGS&quot;=&gt;&quot; -lpthread -ldl -lm  -lruby -Wl,-framework,OpenGL&quot;, &quot;GCC_BASE&quot;=&gt;&quot;gcc&quot;, &quot;GPP_BASE&quot;=&gt;&quot;g++&quot;, &quot;LDSHAREDFLAGS&quot;=&gt;&quot; -arch ppc -arch i386 -pipe -bundle -undefined dynamic_lookup&quot;}&gt;
+#&lt;Rookey::Config:0x52213c @hash={&quot;CC&quot;=&gt;&quot;/usr/bin/gcc&quot;, &quot;SWIG_OPTIONS&quot;=&gt;&quot; -Wall -DAGEXPORT&quot;, &quot;CCACHE&quot;=&gt;&quot;/opt/local/bin/ccache&quot;, &quot;SWIG&quot;=&gt;&quot; /opt/local/bin/swig&quot;, &quot;CPP&quot;=&gt;&quot;/usr/bin/g++&quot;, &quot;CFLAGS&quot;=&gt;&quot; -arch ppc -arch i386 -Os -pipe -fno-common&quot;, &quot;host_os&quot;=&gt;&quot;darwin9.0&quot;, &quot;DLEXT&quot;=&gt;&quot;bundle&quot;, &quot;INCLUDEDIRS&quot;=&gt;&quot; /System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/universal-darwin9.0 /System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/include /usr/X11/include /Library/Ruby/Gems/1.8/gems/rookey-0.1/lib/rookey/./cpp&quot;, &quot;LDFLAGS&quot;=&gt;&quot; -lpthread -ldl -lm  -lruby -Wl,-framework,OpenGL&quot;, &quot;GCC_BASE&quot;=&gt;&quot;gcc&quot;, &quot;GPP_BASE&quot;=&gt;&quot;g++&quot;, &quot;LDSHAREDFLAGS&quot;=&gt;&quot; -arch ppc -arch i386 -pipe -bundle -undefined dynamic_lookup&quot;}&gt;
 Running configurator Rookey::ZConfig
-#&lt;Rookey::Config:0x5455d8 @hash={&quot;CC&quot;=&gt;&quot;/usr/bin/gcc&quot;, &quot;SWIG_OPTIONS&quot;=&gt;&quot; -Wall -DAGEXPORT&quot;, &quot;CCACHE&quot;=&gt;&quot;/opt/local/bin/ccache&quot;, &quot;SWIG&quot;=&gt;&quot; /opt/local/bin/swig&quot;, &quot;CPP&quot;=&gt;&quot;/usr/bin/g++&quot;, &quot;CFLAGS&quot;=&gt;&quot; -arch ppc -arch i386 -Os -pipe -fno-common&quot;, &quot;host_os&quot;=&gt;&quot;darwin9.0&quot;, &quot;DLEXT&quot;=&gt;&quot;bundle&quot;, &quot;INCLUDEDIRS&quot;=&gt;&quot; /System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/universal-darwin9.0 /System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/include /usr/X11/include /Library/Ruby/Gems/1.8/gems/rookey-0.1/lib/rookey/./cpp&quot;, &quot;LDFLAGS&quot;=&gt;&quot; -lpthread -ldl -lm  -lruby -Wl,-framework,OpenGL -lz&quot;, &quot;GCC_BASE&quot;=&gt;&quot;gcc&quot;, &quot;GPP_BASE&quot;=&gt;&quot;g++&quot;, &quot;LDSHAREDFLAGS&quot;=&gt;&quot; -arch ppc -arch i386 -pipe -bundle -undefined dynamic_lookup&quot;}&gt;
+#&lt;Rookey::Config:0x52213c @hash={&quot;CC&quot;=&gt;&quot;/usr/bin/gcc&quot;, &quot;SWIG_OPTIONS&quot;=&gt;&quot; -Wall -DAGEXPORT&quot;, &quot;CCACHE&quot;=&gt;&quot;/opt/local/bin/ccache&quot;, &quot;SWIG&quot;=&gt;&quot; /opt/local/bin/swig&quot;, &quot;CPP&quot;=&gt;&quot;/usr/bin/g++&quot;, &quot;CFLAGS&quot;=&gt;&quot; -arch ppc -arch i386 -Os -pipe -fno-common&quot;, &quot;host_os&quot;=&gt;&quot;darwin9.0&quot;, &quot;DLEXT&quot;=&gt;&quot;bundle&quot;, &quot;INCLUDEDIRS&quot;=&gt;&quot; /System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/universal-darwin9.0 /System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/include /usr/X11/include /Library/Ruby/Gems/1.8/gems/rookey-0.1/lib/rookey/./cpp&quot;, &quot;LDFLAGS&quot;=&gt;&quot; -lpthread -ldl -lm  -lruby -Wl,-framework,OpenGL -lz&quot;, &quot;GCC_BASE&quot;=&gt;&quot;gcc&quot;, &quot;GPP_BASE&quot;=&gt;&quot;g++&quot;, &quot;LDSHAREDFLAGS&quot;=&gt;&quot; -arch ppc -arch i386 -pipe -bundle -undefined dynamic_lookup&quot;}&gt;
 Running configurator Rookey::SDLConfig
-#&lt;Rookey::Config:0x5455d8 @hash={&quot;CC&quot;=&gt;&quot;/usr/bin/gcc&quot;, &quot;SWIG_OPTIONS&quot;=&gt;&quot; -Wall -DAGEXPORT&quot;, &quot;CCACHE&quot;=&gt;&quot;/opt/local/bin/ccache&quot;, &quot;SWIG&quot;=&gt;&quot; /opt/local/bin/swig&quot;, &quot;CPP&quot;=&gt;&quot;/usr/bin/g++&quot;, &quot;CFLAGS&quot;=&gt;&quot; -arch ppc -arch i386 -Os -pipe -fno-common -D_GNU_SOURCE=1 -D_THREAD_SAFE&quot;, &quot;host_os&quot;=&gt;&quot;darwin9.0&quot;, &quot;DLEXT&quot;=&gt;&quot;bundle&quot;, &quot;INCLUDEDIRS&quot;=&gt;&quot; /System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/universal-darwin9.0 /System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/include /usr/X11/include /Library/Ruby/Gems/1.8/gems/rookey-0.1/lib/rookey/./cpp /opt/local/include/SDL&quot;, &quot;LDFLAGS&quot;=&gt;&quot; -lpthread -ldl -lm  -lruby -Wl,-framework,OpenGL -lz -L/opt/local/lib -lSDLmain -lSDL -Wl,-framework,Cocoa -lSDL_image -lSDL_ttf -lSDL_mixer&quot;, &quot;GCC_BASE&quot;=&gt;&quot;gcc&quot;, &quot;GPP_BASE&quot;=&gt;&quot;g++&quot;, &quot;LDSHAREDFLAGS&quot;=&gt;&quot; -arch ppc -arch i386 -pipe -bundle -undefined dynamic_lookup&quot;}&gt;
+#&lt;Rookey::Config:0x52213c @hash={&quot;CC&quot;=&gt;&quot;/usr/bin/gcc&quot;, &quot;SWIG_OPTIONS&quot;=&gt;&quot; -Wall -DAGEXPORT&quot;, &quot;CCACHE&quot;=&gt;&quot;/opt/local/bin/ccache&quot;, &quot;SWIG&quot;=&gt;&quot; /opt/local/bin/swig&quot;, &quot;CPP&quot;=&gt;&quot;/usr/bin/g++&quot;, &quot;CFLAGS&quot;=&gt;&quot; -arch ppc -arch i386 -Os -pipe -fno-common -D_GNU_SOURCE=1 -D_THREAD_SAFE&quot;, &quot;host_os&quot;=&gt;&quot;darwin9.0&quot;, &quot;DLEXT&quot;=&gt;&quot;bundle&quot;, &quot;INCLUDEDIRS&quot;=&gt;&quot; /System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/universal-darwin9.0 /System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/include /usr/X11/include /Library/Ruby/Gems/1.8/gems/rookey-0.1/lib/rookey/./cpp /opt/local/include/SDL&quot;, &quot;LDFLAGS&quot;=&gt;&quot; -lpthread -ldl -lm  -lruby -Wl,-framework,OpenGL -lz -L/opt/local/lib -lSDLmain -lSDL -Wl,-framework,Cocoa -lSDL_image -lSDL_ttf -lSDL_mixer&quot;, &quot;GCC_BASE&quot;=&gt;&quot;gcc&quot;, &quot;GPP_BASE&quot;=&gt;&quot;g++&quot;, &quot;LDSHAREDFLAGS&quot;=&gt;&quot; -arch ppc -arch i386 -pipe -bundle -undefined dynamic_lookup&quot;}&gt;
 Running configurator Rookey::PNGConfig
-#&lt;Rookey::Config:0x5455d8 @hash={&quot;CC&quot;=&gt;&quot;/usr/bin/gcc&quot;, &quot;SWIG_OPTIONS&quot;=&gt;&quot; -Wall -DAGEXPORT&quot;, &quot;CCACHE&quot;=&gt;&quot;/opt/local/bin/ccache&quot;, &quot;SWIG&quot;=&gt;&quot; /opt/local/bin/swig&quot;, &quot;CPP&quot;=&gt;&quot;/usr/bin/g++&quot;, &quot;CFLAGS&quot;=&gt;&quot; -arch ppc -arch i386 -Os -pipe -fno-common -D_GNU_SOURCE=1 -D_THREAD_SAFE&quot;, &quot;host_os&quot;=&gt;&quot;darwin9.0&quot;, &quot;DLEXT&quot;=&gt;&quot;bundle&quot;, &quot;INCLUDEDIRS&quot;=&gt;&quot; /System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/universal-darwin9.0 /System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/include /usr/X11/include /Library/Ruby/Gems/1.8/gems/rookey-0.1/lib/rookey/./cpp /opt/local/include/SDL&quot;, &quot;LDFLAGS&quot;=&gt;&quot; -lpthread -ldl -lm  -lruby -Wl,-framework,OpenGL -lz -L/opt/local/lib -lSDLmain -lSDL -Wl,-framework,Cocoa -lSDL_image -lSDL_ttf -lSDL_mixer -lpng&quot;, &quot;GCC_BASE&quot;=&gt;&quot;gcc&quot;, &quot;GPP_BASE&quot;=&gt;&quot;g++&quot;, &quot;LDSHAREDFLAGS&quot;=&gt;&quot; -arch ppc -arch i386 -pipe -bundle -undefined dynamic_lookup&quot;}&gt;
+#&lt;Rookey::Config:0x52213c @hash={&quot;CC&quot;=&gt;&quot;/usr/bin/gcc&quot;, &quot;SWIG_OPTIONS&quot;=&gt;&quot; -Wall -DAGEXPORT&quot;, &quot;CCACHE&quot;=&gt;&quot;/opt/local/bin/ccache&quot;, &quot;SWIG&quot;=&gt;&quot; /opt/local/bin/swig&quot;, &quot;CPP&quot;=&gt;&quot;/usr/bin/g++&quot;, &quot;CFLAGS&quot;=&gt;&quot; -arch ppc -arch i386 -Os -pipe -fno-common -D_GNU_SOURCE=1 -D_THREAD_SAFE&quot;, &quot;host_os&quot;=&gt;&quot;darwin9.0&quot;, &quot;DLEXT&quot;=&gt;&quot;bundle&quot;, &quot;INCLUDEDIRS&quot;=&gt;&quot; /System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/universal-darwin9.0 /System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/include /usr/X11/include /Library/Ruby/Gems/1.8/gems/rookey-0.1/lib/rookey/./cpp /opt/local/include/SDL&quot;, &quot;LDFLAGS&quot;=&gt;&quot; -lpthread -ldl -lm  -lruby -Wl,-framework,OpenGL -lz -L/opt/local/lib -lSDLmain -lSDL -Wl,-framework,Cocoa -lSDL_image -lSDL_ttf -lSDL_mixer -lpng&quot;, &quot;GCC_BASE&quot;=&gt;&quot;gcc&quot;, &quot;GPP_BASE&quot;=&gt;&quot;g++&quot;, &quot;LDSHAREDFLAGS&quot;=&gt;&quot; -arch ppc -arch i386 -pipe -bundle -undefined dynamic_lookup&quot;}&gt;

Modified: antargis/trunk/rookey/examples/simplistic/test
===================================================================
(Binary files differ)

Modified: antargis/trunk/rookey/examples/simplistic/test.bundle
===================================================================
(Binary files differ)

Modified: antargis/trunk/rookey/lib/rookey/cpp/rk_debug.cc
===================================================================
--- antargis/trunk/rookey/lib/rookey/cpp/rk_debug.cc	2009-02-16 20:16:03 UTC (rev 1288)
+++ antargis/trunk/rookey/lib/rookey/cpp/rk_debug.cc	2009-02-17 19:14:57 UTC (rev 1289)
@@ -19,7 +19,6 @@
  */
 
 #include &quot;rk_debug.h&quot;
-#include &quot;ag_main.h&quot;
 
 #include &lt;fstream&gt;
 #include &lt;iostream&gt;

Modified: antargis/trunk/rookey/lib/rookey/cpp/rk_logging.h
===================================================================
--- antargis/trunk/rookey/lib/rookey/cpp/rk_logging.h	2009-02-16 20:16:03 UTC (rev 1288)
+++ antargis/trunk/rookey/lib/rookey/cpp/rk_logging.h	2009-02-17 19:14:57 UTC (rev 1289)
@@ -8,9 +8,18 @@
 #ifndef _RK_LOGGING_H
 #define	_RK_LOGGING_H
 
-class RKLogging:public RKSingleton
+#include &quot;rk_singleton.h&quot;
+
+class RKLogging:public RKSingleton&lt;RKLogging&gt;
 {
-    
+public:
+    virtual ~RKLogging();
+
+    void log(const std::string &amp;s);
+protected:
+    RKLogging();
+
+private:
 };
 
 

Modified: antargis/trunk/rookey/lib/rookey/cpp/rk_singleton.cc
===================================================================
--- antargis/trunk/rookey/lib/rookey/cpp/rk_singleton.cc	2009-02-16 20:16:03 UTC (rev 1288)
+++ antargis/trunk/rookey/lib/rookey/cpp/rk_singleton.cc	2009-02-17 19:14:57 UTC (rev 1289)
@@ -5,14 +5,43 @@
  * Created on 16. Februar 2009, 17:47
  */
 
-#include &quot;rksingleton.h&quot;
+#include &quot;rk_singleton.h&quot;
+#include &lt;set&gt;
+#include &lt;typeinfo&gt;
 
-RKSingleton::RKSingleton() {
+std::map&lt;std::string,RKSingletonBase*&gt; RKSingletonBase::mSingletons;
+
+RKSingletonBase::RKSingletonBase()
+{
+    std::string name(typeid(this).name());
+    mSingletons.insert(std::make_pair(name,this));
 }
 
-RKSingleton::RKSingleton(const RKSingleton&amp; orig) {
+RKSingletonBase* RKSingletonBase::getInstance(const std::string &amp;pName)
+{
+    std::map&lt;std::string,RKSingletonBase*&gt;::iterator i=mSingletons.find(pName);
+    if(i==mSingletons.end())
+        return NULL;
+    return i-&gt;second;
+
 }
 
-RKSingleton::~RKSingleton() {
+
+/*
+template&lt;class Base&gt;
+RKSingleton&lt;Base&gt;::RKSingleton() {
 }
 
+template&lt;class Base&gt;
+RKSingleton&lt;Base&gt;::~RKSingleton() {
+}
+
+template&lt;class Base&gt;
+static Base *RKSingleton&lt;Base&gt;::getInstance() {
+    std::string name=typeid(Base).name();
+    Base *b=dynamic_cast&lt;Base*&gt;(getInstance(name));
+    if(b==0)
+        b=new Base();
+    return b;
+}
+*/
\ No newline at end of file

Modified: antargis/trunk/rookey/lib/rookey/cpp/rk_singleton.h
===================================================================
--- antargis/trunk/rookey/lib/rookey/cpp/rk_singleton.h	2009-02-16 20:16:03 UTC (rev 1288)
+++ antargis/trunk/rookey/lib/rookey/cpp/rk_singleton.h	2009-02-17 19:14:57 UTC (rev 1289)
@@ -8,14 +8,47 @@
 #ifndef _RKSINGLETON_H
 #define	_RKSINGLETON_H
 
+#include &lt;string&gt;
+#include &lt;map&gt;
+#include &lt;typeinfo&gt;
+
 template&lt;class Base&gt;
-class RKSingleton {
+class RKSingleton;
+
+class RKSingletonBase
+{
 public:
-    virtual ~RKSingleton();
+protected:
+    RKSingletonBase();
+    virtual ~RKSingletonBase()
+    {}
 
-    RKSingleton *getInstance
+    static std::map&lt;std::string,RKSingletonBase*&gt; mSingletons;
+
+private:
+    static RKSingletonBase* getInstance(const std::string &amp;pName);
+
+    template&lt;class Base&gt;
+    friend class RKSingleton;
+};
+
+template&lt;class Base&gt;
+class RKSingleton:public RKSingletonBase {
+public:
+    virtual ~RKSingleton()
+    {}
+
+    static Base *getInstance()
+    {
+        std::string name=typeid(Base).name();
+        Base *b=dynamic_cast&lt;Base*&gt;(RKSingletonBase::getInstance(name));
+        if(b==0)
+            b=new Base();
+        return b;
+    }
 protected:
-    RKSingleton();
+    RKSingleton()
+            {}
 
 };
 

Added: antargis/trunk/rookey/lib/rookey/cpp/spec/Rakefile
===================================================================
--- antargis/trunk/rookey/lib/rookey/cpp/spec/Rakefile	2009-02-16 20:16:03 UTC (rev 1288)
+++ antargis/trunk/rookey/lib/rookey/cpp/spec/Rakefile	2009-02-17 19:14:57 UTC (rev 1289)
@@ -0,0 +1,22 @@
+require 'rookey.rb'
+
+tests=Dir[&quot;*_spec.cc&quot;]
+
+baseFiles=[&quot;../rk_singleton.cc&quot;]
+
+test_exes=tests.map{|test|
+  name=test.sub(/_spec.cc/,&quot;&quot;)
+  files=[test]+baseFiles
+  objs=Rookey::compile(files)
+  Rookey::link_exe(name, objs)
+}
+
+task :runTests=&gt;test_exes do
+  pp test_exes
+
+end
+
+
+task :default=&gt;:runTests do
+
+end
\ No newline at end of file

Added: antargis/trunk/rookey/lib/rookey/cpp/spec/singleton_spec.cc
===================================================================
--- antargis/trunk/rookey/lib/rookey/cpp/spec/singleton_spec.cc	2009-02-16 20:16:03 UTC (rev 1288)
+++ antargis/trunk/rookey/lib/rookey/cpp/spec/singleton_spec.cc	2009-02-17 19:14:57 UTC (rev 1289)
@@ -0,0 +1,29 @@
+#include &quot;rk_singleton.h&quot;
+
+#include &lt;iostream&gt;
+
+
+class Single:public RKSingleton&lt;Single&gt;
+{
+public:
+    int bla()
+    {
+        return 1;
+    }
+protected:
+    Single()
+            {}
+
+    friend class RKSingleton&lt;Single&gt;;
+};
+
+template //&lt;Single&gt;
+class RKSingleton&lt;Single&gt;;
+
+int main(int argc,char *argv[])
+{
+    assert(Single::getInstance()-&gt;bla()==1);
+    std::cout&lt;&lt;Single::getInstance()-&gt;bla()&lt;&lt;std::endl;
+
+    return 0;
+}
\ No newline at end of file

Modified: antargis/trunk/rookey/lib/rookey/tasks.rb
===================================================================
--- antargis/trunk/rookey/lib/rookey/tasks.rb	2009-02-16 20:16:03 UTC (rev 1288)
+++ antargis/trunk/rookey/lib/rookey/tasks.rb	2009-02-17 19:14:57 UTC (rev 1289)
@@ -95,6 +95,13 @@
 	def Rookey.compile(files,config=nil)
 	  files=[files].flatten
 	  config||=Rookey::getConfig
+
+    files=files.select{|f|f=~/(c|cc|cpp)$/}
+
+    sourceDirs=files.map{|file|File.split(file)[0]}.sort.uniq
+
+    config.add(&quot;INCLUDEDIRS&quot;,sourceDirs.join(&quot; &quot;))
+
 	  compiler=Rookey::Compiler.new(config)
 	  files.each{|file|
 	    t=compiler.makeObject(file)
@@ -132,7 +139,7 @@
   def Rookey.link_exe(name,files,config=nil)
     files.flatten!
     if files.select{|file|file=~/swig_.*/}.length&gt;0
-      [&quot;rk_rubyobj.cc&quot;,&quot;rk_string.cc&quot;].each{|f|
+      [&quot;rk_rubyobj.cc&quot;,&quot;rk_string.cc&quot;,&quot;rk_rtools.cc&quot;].each{|f|
         files &lt;&lt; compile(File.join(File.split(__FILE__)[0],&quot;cpp&quot;,f),config)
       }
       files &lt;&lt; compile(File.join(File.split(__FILE__)[0],&quot;cpp&quot;,&quot;swig_dummy.cc&quot;),config) if files.select{|f|f=~/swig/}.length==0


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000244.html">[Antargis-svn] r1288 - antargis/trunk/rookey/lib/rookey/cpp
</A></li>
	<LI>Next message: <A HREF="000246.html">[Antargis-svn] r1290 - in antargis/trunk: . rookey/lib	rookey/lib/rookey rookey/lib/rookey/cpp	rookey/lib/rookey/cpp/spec ruby/editor/campaign
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#245">[ date ]</a>
              <a href="thread.html#245">[ thread ]</a>
              <a href="subject.html#245">[ subject ]</a>
              <a href="author.html#245">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/antargis-svn">More information about the Antargis-svn
mailing list</a><br>
</body></html>
