From davidkamphausen at mail.berlios.de  Mon Mar 17 16:28:42 2008
From: davidkamphausen at mail.berlios.de (davidkamphausen at BerliOS)
Date: Mon, 17 Mar 2008 16:28:42 +0100
Subject: [Antargis-svn] r1234 - in antargis/trunk: . build build/configs
	build/swig data/levels ext ext/3dengine ext/basic ext/game
	ext/gui ext/sound ext/video main ruby ruby/editor ruby/gui ruby/spec
Message-ID: <200803171528.m2HFSgV5020467@sheep.berlios.de>

Author: davidkamphausen
Date: 2008-03-17 16:28:40 +0100 (Mon, 17 Mar 2008)
New Revision: 1234

Added:
   antargis/trunk/data/levels/ai/
Removed:
   antargis/trunk/ext/sound/ag_sound.cc
Modified:
   antargis/trunk/Rakefile
   antargis/trunk/TODO
   antargis/trunk/build/README
   antargis/trunk/build/configs/base.rb
   antargis/trunk/build/configs/mingw32.rb
   antargis/trunk/build/swig/ag_string.i
   antargis/trunk/build/swig/common.i
   antargis/trunk/build/swig/std_string.i
   antargis/trunk/ext/3dengine/anim_mesh_data.cc
   antargis/trunk/ext/3dengine/anim_mesh_data.h
   antargis/trunk/ext/Rakefile
   antargis/trunk/ext/basic/ag_fs.cc
   antargis/trunk/ext/basic/ag_fs.h
   antargis/trunk/ext/basic/ag_message.cc
   antargis/trunk/ext/basic/ag_string.h
   antargis/trunk/ext/basic/ag_xml.cc
   antargis/trunk/ext/basic/ag_xml.h
   antargis/trunk/ext/basic/templates.i
   antargis/trunk/ext/game/height_map.cc
   antargis/trunk/ext/game/height_map.h
   antargis/trunk/ext/game/map.cc
   antargis/trunk/ext/game/map.h
   antargis/trunk/ext/game/templates.i
   antargis/trunk/ext/gui/ag_layoutcreators.cc
   antargis/trunk/ext/gui/ag_theme.cc
   antargis/trunk/ext/gui/ag_theme.h
   antargis/trunk/ext/video/ag_texturecache.cc
   antargis/trunk/ext/video/ag_texturecache.h
   antargis/trunk/main/Rakefile
   antargis/trunk/main/starter.cc
   antargis/trunk/ruby/antargislib.rb
   antargis/trunk/ruby/editor/dialogs.rb
   antargis/trunk/ruby/editor_app.rb
   antargis/trunk/ruby/editview.rb
   antargis/trunk/ruby/gui/testing.rb
   antargis/trunk/ruby/map.rb
   antargis/trunk/ruby/spec/spec_gui.rb
   antargis/trunk/ruby/spec/spec_hljobs.rb
Log:
* many (old) changes


Modified: antargis/trunk/Rakefile
===================================================================
--- antargis/trunk/Rakefile	2008-02-29 16:26:29 UTC (rev 1233)
+++ antargis/trunk/Rakefile	2008-03-17 15:28:40 UTC (rev 1234)
@@ -22,6 +22,7 @@
 require 'rubygems'
 require 'rake/gempackagetask.rb'
 require 'rake/packagetask.rb'
+require 'rake/rdoctask.rb'
 require 'spec/rake/spectask'
 
 
@@ -128,7 +129,31 @@
 end
 
 
+desc "Generate html documentation for c++-sources"
+task :doxygen=>[] do |t|
+      # run doxygen in here
+      `doxygen build/Doxyfile`
+ end
+ 
+ 
+ Rake::RDocTask.new do |rd|
+     rd.main = "README"
+     #rd.rdoc_files.include("README", "lib/**/*.rb")
+     rd.title="Battles\ of\ Antargis"
+     #rd.options << "--diagram"
+     rd.rdoc_dir="docs/ruby"
+     #if false
+       a=Dir["**/README"]+Dir["ruby/**/*.rb"] #+Dir["INSTALL"]+Dir["build/*.rb"]+Dir["configure"]+Dir["Rantfile"]
+             a=a.select{|f|not (f=~/_test/ or f=~/spec/)}
+        #     pp a
+             rd.rdoc_files.include(a)
+     #        t.opts = %w(--title Battles\ of\ Antargis --main README --diagram)+a
+             #t.dir = "docs/ruby"
+      #       end       
+   end
+    
 
+
 desc "Build all"
 task :default=>[:starterPrg,:library] do
 end

Modified: antargis/trunk/TODO
===================================================================
--- antargis/trunk/TODO	2008-02-29 16:26:29 UTC (rev 1233)
+++ antargis/trunk/TODO	2008-03-17 15:28:40 UTC (rev 1234)
@@ -1,3 +1,6 @@
+* AGFilename remove!
+
+
 * bug-report at apple site on glTexSubImage issue 
 * fix shadows on mac (on shadow-extension ?)
 * check mingw on macosx

Modified: antargis/trunk/build/README
===================================================================
--- antargis/trunk/build/README	2008-02-29 16:26:29 UTC (rev 1233)
+++ antargis/trunk/build/README	2008-03-17 15:28:40 UTC (rev 1234)
@@ -1,13 +1,13 @@
 == Antargis build-process
 
-BoA's building bases on http://rant.rubyforge.org
+BoA's building bases on http://rake.rubyforge.org
 
 It runs in two steps like most GPL-programs:
  > ./configure
- > rant
+ > rake
 
 In future releases we might include installing, too:
- > rant install
+ > rake install
 
 == Configure
 

Modified: antargis/trunk/build/configs/base.rb
===================================================================
--- antargis/trunk/build/configs/base.rb	2008-02-29 16:26:29 UTC (rev 1233)
+++ antargis/trunk/build/configs/base.rb	2008-03-17 15:28:40 UTC (rev 1234)
@@ -20,7 +20,7 @@
 	"LINK_SHARED"=>"$(LINK) -shared -o $(OUTPUT) -Wl,--enable-auto-image-base -Xlinker --out-implib -Xlinker $(OUTPUT).a  $(INPUT) $(LIBDIR) -Lext",
 
 	# generate c++-code from a swig-interface file
-	"SWIG_CALL"=>"$(SWIG) -v -Wall -ruby -c++ -o $(OUTPUT) -Ic:/antargis/rant/build/win32/usr/include $(INPUT) ",
+	"SWIG_CALL"=>"$(SWIG) -v -Wall -ruby -c++ -o $(OUTPUT) -Ic:/antargis/ant/build/win32/usr/include $(INPUT) ",
 	# generate dependencies for swig-interface files
 	"SWIGDEPS"=>"$(SWIG) -ruby -c++ -M $(INPUT)",
 

Modified: antargis/trunk/build/configs/mingw32.rb
===================================================================
--- antargis/trunk/build/configs/mingw32.rb	2008-02-29 16:26:29 UTC (rev 1233)
+++ antargis/trunk/build/configs/mingw32.rb	2008-03-17 15:28:40 UTC (rev 1234)
@@ -12,7 +12,7 @@
 	"CC"=>"$(gcc)",
 	"SWIG"=>"$(swig)",
 	#"RUBY"=>"$(ruby)",
-    "RUBY"=>"c:\\antargis\\rant\\build\\win32\\usr\\bin\\ruby",
+    "RUBY"=>"c:\\antargis\\ant\\build\\win32\\usr\\bin\\ruby",
 	"CCACHE"=>"$(ccache)",
 
 	"RUBYLIB"=>"msvcrt-ruby18",
@@ -22,7 +22,7 @@
     "LIBGL"=>"-lopengl32 -lglu32",
 	"LINK"=>"$(CXX)",
     #"CFLAGS"=>"-D_GNU_SOURCE=1 -Dmain=SDL_main",
-    "CFLAGS"=>"-Dmain=SDL_main -IC:/antargis/rant/build/win32/usr/lib/ruby/1.8/i386-mingw32",
+    "CFLAGS"=>"-Dmain=SDL_main -IC:/antargis/ant/build/win32/usr/lib/ruby/1.8/i386-mingw32",
 
   # call the compiler using the standard unix-style mechanism <CC> -c -o <outputname> <input0> [<input1> ...]
 	"COMPILE_PARAMS"=>" -c -o $(OUTPUT) $(INPUT) -I#{Dir.pwd}/build/win32/usr/include",
@@ -35,7 +35,7 @@
 	#"LINK_SHARED"=>"$(LINK) -shared -o $(OUTPUT) -Wl,--enable-auto-image-base -Xlinker --out-implib -Xlinker $(OUTPUT).a  $(INPUT) $(LIBDIR) -Lext",
 	##"LINK_SHARED"=>"$(LINK) -shared -o $(OUTPUT) -Wl,--enable-auto-image-base -Xlinker --out-implib --add-stdcall-alias -Xlinker $(OUTPUT).a  $(INPUT) $(LIBDIR) -Lext",
 	# generate c++-code from a swig-interface file
-	"SWIG_CALL"=>"$(SWIG) -v -Wall -ruby -c++ -o $(OUTPUT) -Ic:/antargis/rant/build/win32/usr/include $(INPUT) ",
+	"SWIG_CALL"=>"$(SWIG) -v -Wall -ruby -c++ -o $(OUTPUT) -Ic:/antargis/ant/build/win32/usr/include $(INPUT) ",
 	# generate dependencies for swig-interface files
 	"SWIGDEPS"=>"$(SWIG) -ruby -c++ -M $(INPUT)",
 

Modified: antargis/trunk/build/swig/ag_string.i
===================================================================
--- antargis/trunk/build/swig/ag_string.i	2008-02-29 16:26:29 UTC (rev 1233)
+++ antargis/trunk/build/swig/ag_string.i	2008-03-17 15:28:40 UTC (rev 1234)
@@ -85,8 +85,8 @@
 namespace std
 {
 	specialize_std_vector(AGString,SWIG_STRING_P,SWIG_RB2AGSTR,SWIG_AGSTR2RB);
-	specialize_std_vector(AGFilename,SWIG_STRING_P,SWIG_RB2AGSTR,SWIG_AGSTR2RB);
-	specialize_std_vector(AGData,SWIG_STRING_P,SWIG_RB2AGSTR,SWIG_AGSTR2RB);
+	//specialize_std_vector(AGFilename,SWIG_STRING_P,SWIG_RB2AGSTR,SWIG_AGSTR2RB);
+	//specialize_std_vector(AGData,SWIG_STRING_P,SWIG_RB2AGSTR,SWIG_AGSTR2RB);
 }
 
 

Modified: antargis/trunk/build/swig/common.i
===================================================================
--- antargis/trunk/build/swig/common.i	2008-02-29 16:26:29 UTC (rev 1233)
+++ antargis/trunk/build/swig/common.i	2008-03-17 15:28:40 UTC (rev 1234)
@@ -7,7 +7,7 @@
 %include "std_list.i"
 %include "ag_string_new.i"
 %include "ag_string.i"
-%include "ag_filename.i"
+//%include "ag_filename.i"
 %include "ag_data.i"
 
 %{

Modified: antargis/trunk/build/swig/std_string.i
===================================================================
--- antargis/trunk/build/swig/std_string.i	2008-02-29 16:26:29 UTC (rev 1233)
+++ antargis/trunk/build/swig/std_string.i	2008-03-17 15:28:40 UTC (rev 1234)
@@ -84,3 +84,13 @@
     %typemap(throws) string *, const string *
         "rb_raise(rb_eRuntimeError, $1->c_str());";
 }
+
+%{
+int SWIG_AsVal_std_string(VALUE x,std::string *s) {
+    s=new std::string(RSTRING_PTR(x), RSTRING_LEN(x));
+return 0;
+}
+VALUE SWIG_From_std_string(const std::string& s) {
+    return rb_str_new(s.data(), s.size());
+}
+%}

Modified: antargis/trunk/ext/3dengine/anim_mesh_data.cc
===================================================================
--- antargis/trunk/ext/3dengine/anim_mesh_data.cc	2008-02-29 16:26:29 UTC (rev 1233)
+++ antargis/trunk/ext/3dengine/anim_mesh_data.cc	2008-03-17 15:28:40 UTC (rev 1234)
@@ -59,14 +59,14 @@
 
 
 
-AnimMeshData::AnimMeshData(const AGFilename &xmlfile):
+AnimMeshData::AnimMeshData(const AGString &xmlFilename):
   animShader("data/shaders/anim.vert","data/shaders/anim.frag"),
   //  animShaderDepth("data/shaders/anim_depth.vert",""),
   animShaderDepth("data/shaders/anim_depth.vert","data/shaders/anim_depth.frag"),
   mArray(&animShader),
   mArrayDepth(&animShaderDepth)
   {
-    Document doc(xmlfile);
+    Document doc(xmlFilename);
 
     Node &root=doc.root();
 
@@ -112,10 +112,10 @@
 
     if(anims.size()==0)
       {
-        std::cerr<<"There are no animations in "<<xmlfile<<std::endl;
+        std::cerr<<"There are no animations in "<<xmlFilename<<std::endl;
         throw std::string("no animations found in xmlfile");
       }
-    mName=AGString(xmlfile);
+    mName=AGString(xmlFilename);
   }
 
 AnimMeshData::~AnimMeshData()
@@ -155,9 +155,9 @@
 
   }
 
-void AnimMeshData::loadAnt3(const AGData &instr,float scale,const AGFilename &tex)
+void AnimMeshData::loadAnt3(const AGString &instr,float scale,const AGString &pTextureFilename)
   {
-    mTexture=getTextureCache()->get(tex,getMeshDownScale());
+    mTexture=getTextureCache()->get(pTextureFilename,getMeshDownScale());
     BinaryStringIn l(instr);
 
     Uint32 vs,ts;

Modified: antargis/trunk/ext/3dengine/anim_mesh_data.h
===================================================================
--- antargis/trunk/ext/3dengine/anim_mesh_data.h	2008-02-29 16:26:29 UTC (rev 1233)
+++ antargis/trunk/ext/3dengine/anim_mesh_data.h	2008-03-17 15:28:40 UTC (rev 1234)
@@ -88,10 +88,10 @@
  private:
   void setupJoints();
   void setupArray();
-  void loadAnt3(const AGData &instr,float scale,const AGFilename &pTexName);
+  void loadAnt3(const AGString &instr,float scale,const AGString &pTextureFilename);
 
  public:
-  AnimMeshData(const AGFilename &xmlfile);
+  AnimMeshData(const AGString &xmlFilename);
   ~AnimMeshData();
 
   AGBox3 bbox() const;

Modified: antargis/trunk/ext/Rakefile
===================================================================
--- antargis/trunk/ext/Rakefile	2008-02-29 16:26:29 UTC (rev 1233)
+++ antargis/trunk/ext/Rakefile	2008-03-17 15:28:40 UTC (rev 1234)
@@ -30,6 +30,8 @@
 ]
 
 AntargisLibName="antargis."+CONFIG["DLEXT"]
+AntargisSo="libantargis.dylib"
+AntargisA="libantargis.a"
 
 $LIBDEPS={"ext/basic"=>["SDL","RUBY"]}
 
@@ -88,6 +90,8 @@
 	$?
 end
 
+
+
 def linkLib(name,objects)
 	name=name.to_s
 	winadd=""
@@ -117,6 +121,78 @@
 	$?
 end
 
+
+def linkSo(name,objects)
+  # FIXME !!!
+  name=name.to_s
+  winadd=""
+  if $CONFIG["target_os"]=="windows"
+    winadd="-Wl,--enable-auto-image-base -Xlinker --out-implib -Xlinker #{name.gsub(/\.so$/,".dll")}.a"
+  end
+
+
+  add=""
+  if $CONFIG["target_os"]=~/darwin/
+      add="-framework OpenGL"
+  else
+    add="-Wl,-\\("
+  end
+
+  cmd=$CONFIG["CXX"]+" -dH -shared -o #{name} -Lext #{winadd} #{add}  #{$CONFIG["LDFLAGS"]} #{$CONFIG["LIBPATH"]} #{objects.join(" ")}"
+#FIXME
+    cmd=$CONFIG["CXX"]+" -dH -dynamiclib -o #{name} -Lext #{winadd} #{add}  #{$CONFIG["LDFLAGS"]} #{$CONFIG["LIBPATH"]} #{objects.join(" ")}"
+  
+  #cmd=$CONFIG["LDSHARED"]+" -dH  -o #{name} -Lext #{winadd} #{add}  #{$CONFIG["LDFLAGS"]} #{$CONFIG["LIBPATH"]} #{objects.join(" ")}"
+  pp cmd
+  #exit
+  if $CONFIG["CCACHE"]
+    cmd=$CONFIG["CCACHE"]+" "+cmd
+  end
+  puts ""
+  #pp cmd
+  sh cmd
+  $?
+end
+
+
+
+def linkA(name,objects)
+  # FIXME !!!
+  name=name.to_s
+  winadd=""
+  if $CONFIG["target_os"]=="windows"
+    winadd="-Wl,--enable-auto-image-base -Xlinker --out-implib -Xlinker #{name.gsub(/\.so$/,".dll")}.a"
+  end
+
+
+  add=""
+  if $CONFIG["target_os"]=~/darwin/
+      add="-framework OpenGL"
+  else
+    add="-Wl,-\\("
+  end
+
+  cmd=$CONFIG["CXX"]+" -dH -shared -o #{name} -Lext #{winadd} #{add}  #{$CONFIG["LDFLAGS"]} #{$CONFIG["LIBPATH"]} #{objects.join(" ")}"
+#FIXME
+    cmd=$CONFIG["CXX"]+" -dH -dynamiclib -o #{name} -Lext #{winadd} #{add}  #{$CONFIG["LDFLAGS"]} #{$CONFIG["LIBPATH"]} #{objects.join(" ")}"
+    
+    cmd="libtool -static -o #{name} #{objects.join(" ")}"
+  
+  #cmd=$CONFIG["LDSHARED"]+" -dH  -o #{name} -Lext #{winadd} #{add}  #{$CONFIG["LDFLAGS"]} #{$CONFIG["LIBPATH"]} #{objects.join(" ")}"
+  pp cmd
+  #exit
+  if $CONFIG["CCACHE"]
+    cmd=$CONFIG["CCACHE"]+" "+cmd
+  end
+  puts ""
+  #pp cmd
+  sh cmd
+  $?
+end
+
+
+
+
 def makeDepFilename(file)
 	File.join(".deps",file.gsub("\\","_").gsub("/","_"))
 end
@@ -273,10 +349,18 @@
 	linkLib(t.name,t.prerequisites+$CONFIG["LIBS"].split(" "))
 end
 
+task AntargisSo => ((Dir["ext/*/*.cc"]+Dir["ext/*/*.c"]).select{|file|not file=~/[a-z]swig/}.map{|file|file.sub(".cc",".oo").sub(".c",".o")}+["ext/swig.oo"]) do |t|
+  linkSo(t.name,t.prerequisites+$CONFIG["LIBS"].split(" "))
+end
 
-task :library=>AntargisLibName do
+
+task AntargisA => ((Dir["ext/*/*.cc"]+Dir["ext/*/*.c"]).select{|file|not file=~/[a-z]swig/}.map{|file|file.sub(".cc",".oo").sub(".c",".o")}+["ext/swig.oo"]) do |t|
+  linkA(t.name,t.prerequisites)
 end
 
+task :library=>[AntargisLibName,AntargisSo] do
+end
+
 if SWIG_ENABLED and false
 	mSwigDeps=Dir["ext/*/*.h"].select{|file|not file=~/swig/}
 	

Modified: antargis/trunk/ext/basic/ag_fs.cc
===================================================================
--- antargis/trunk/ext/basic/ag_fs.cc	2008-02-29 16:26:29 UTC (rev 1233)
+++ antargis/trunk/ext/basic/ag_fs.cc	2008-03-17 15:28:40 UTC (rev 1234)
@@ -42,11 +42,11 @@
 #include "ag_serial.h"
 #include <zlib.h>
 
-static std::list<AGFilename> mFsPaths;
+static std::list<AGString> gFilesystemPathes;
 
-void addPath(const AGFilename &pName)
+void addPath(const AGString &pName)
   {
-    mFsPaths.push_back(pName);
+    gFilesystemPathes.push_back(pName);
 #ifdef USE_PHYSFS
     TRACE;
     PHYSFS_addToSearchPath(pName.c_str(),1);
@@ -60,9 +60,9 @@
     updateConfig();
   }
 
-void addPathFront(const AGFilename &pName)
+void addPathFront(const AGString &pName)
   {
-    mFsPaths.push_front(pName);
+    gFilesystemPathes.push_front(pName);
 #ifdef USE_PHYSFS
     TRACE;
     PHYSFS_addToSearchPath(pName.c_str(),1);
@@ -183,7 +183,7 @@
       }
   }
 
-AGFilename checkFileName(AGFilename s)
+AGString checkFileName(AGString s)
   {
 #ifdef WIN32
     if(s.length()>300)
@@ -216,11 +216,11 @@
     return r;
   }
 
-AGFilename findFile(const AGFilename &pName)
+AGString findFile(const AGString &pName)
   {
     if(fileExists(pName))
       return pName;
-    for(std::list<AGFilename>::iterator i=mFsPaths.begin();i!=mFsPaths.end();i++)
+    for(std::list<AGString>::iterator i=gFilesystemPathes.begin();i!=gFilesystemPathes.end();i++)
       {
         std::string n=*i+"/"+pName;
         n=checkFileName(n);
@@ -246,7 +246,7 @@
     if(r.length())
       return r;
 
-    for(std::list<AGFilename>::iterator i=mFsPaths.begin();i!=mFsPaths.end();i++)
+    for(std::list<AGString>::iterator i=gFilesystemPathes.begin();i!=gFilesystemPathes.end();i++)
       {
         r=directLoad(*i+"/"+pName);
         if(r.length())
@@ -256,7 +256,7 @@
     //  if(mFsPaths.size()==0)
     //    throw std::runtime_error("Not yet inited fs-paths!");
 
-    for(std::list<AGFilename>::iterator i=mFsPaths.begin();i!=mFsPaths.end();i++)
+    for(std::list<AGString>::iterator i=gFilesystemPathes.begin();i!=gFilesystemPathes.end();i++)
       dbout(0,"path:"<<*i);
 
     dbout(0,"LOAD FAILED:"<<pName);
@@ -264,7 +264,7 @@
     return r;
   }
 
-AGData loadFile(const AGFilename &pName)
+AGString loadFile(const AGString &pName)
   {
     return loadFromPath(checkFileName(pName));
 #ifdef USE_PHYSFS
@@ -393,7 +393,7 @@
 
 #define SHGFP_TYPE_CURRENT 0
 
-AGFilename getDocumentsDir()
+AGString getDocumentsDir()
   {
     CHAR wszPath[MAX_PATH];
 
@@ -401,7 +401,7 @@
 
     SHGetFolderPath( hWnd, CSIDL_PERSONAL, NULL, SHGFP_TYPE_CURRENT, wszPath );
 
-    AGFilename s(wszPath);
+    AGString s(wszPath);
 
     return s;
 
@@ -409,7 +409,7 @@
 
 #else
 
-AGFilename getDocumentsDir()
+AGString getDocumentsDir()
   {
     return getUserDir()+"/Desktop";
   }
@@ -418,12 +418,12 @@
 #endif
 
 
-AGFilename getWriteDir()
+AGString getWriteDir()
   {
     return getUserDir()+"/."+getAppName();
   }
 
-bool saveFile(const AGFilename &pName,const AGData &pContent)
+bool saveFile(const AGString &pName,const AGString &pContent)
   {
 #ifdef USE_PHYSFS
     TRACE;
@@ -456,7 +456,7 @@
     return true;
   }
 
-bool fileExists(const AGFilename &pName)
+bool fileExists(const AGString &pName)
   {
 #ifdef WIN32
     if(GetFileAttributes(pName.c_str()) == INVALID_FILE_ATTRIBUTES)
@@ -480,7 +480,7 @@
 #endif
   }
 
-std::vector<AGFilename> getDirectoryInternal(const AGFilename &pDir)
+std::vector<AGString> getDirectoryInternal(const AGString &pDir)
   {
 #ifdef USE_PHYSFS
     TRACE;
@@ -499,7 +499,7 @@
     return v;
 #else
 
-    std::vector<AGFilename> v;
+    std::vector<AGString> v;
 
 #ifdef WIN32
     WIN32_FIND_DATA ent;
@@ -546,18 +546,18 @@
 #endif
   }
 
-std::vector<AGFilename> getDirectory(const AGFilename &pDir)
+std::vector<AGString> getDirectory(const AGString &pDir)
   {
-    std::vector<AGFilename> v;
-    std::list<AGFilename> ps=mFsPaths;
+    std::vector<AGString> v;
+    std::list<AGString> ps=gFilesystemPathes;
     ps.push_front(""); // add current dir
     ps.push_front("."); // add current dir
 
 
-    for(std::list<AGFilename>::iterator i=ps.begin();i!=ps.end();i++)
+    for(std::list<AGString>::iterator i=ps.begin();i!=ps.end();i++)
       {
 
-        std::vector<AGFilename> a=getDirectoryInternal(*i+"/"+pDir);
+        std::vector<AGString> a=getDirectoryInternal(*i+"/"+pDir);
         std::copy(a.begin(),a.end(),std::back_inserter(v));
       }
 
@@ -567,7 +567,7 @@
 
 
 
-AGData compress(const AGData &pString)
+AGString compress(const AGString &pString)
   {
     BinaryStringOut o;
     o<<(Uint32)pString.length();
@@ -581,7 +581,7 @@
     delete [] buf;
     return r;
   }
-AGData uncompress(const AGData &pString)
+AGString uncompress(const AGString &pString)
   {
     BinaryStringIn i(pString);
     uLongf orig;
@@ -598,7 +598,7 @@
     return r;
   }
 
-AGFilename getDirSep()
+AGString getDirSep()
   {
 #ifdef WIN32
     return "\\";

Modified: antargis/trunk/ext/basic/ag_fs.h
===================================================================
--- antargis/trunk/ext/basic/ag_fs.h	2008-02-29 16:26:29 UTC (rev 1233)
+++ antargis/trunk/ext/basic/ag_fs.h	2008-03-17 15:28:40 UTC (rev 1234)
@@ -29,25 +29,25 @@
 #include <ag_base.h>
 
 AGEXPORT void initFS(const char *argv0);
-AGEXPORT AGData loadFile(const AGFilename &pName);
-AGEXPORT bool saveFile(const AGFilename &pName,const AGData &pContent);
+AGEXPORT AGString loadFile(const AGString &pFilename);
+AGEXPORT bool saveFile(const AGString &pFilename,const AGString &pContent);
 
-AGEXPORT bool fileExists(const AGFilename &pName);
+AGEXPORT bool fileExists(const AGString &pName);
 
-AGEXPORT std::vector<AGFilename> getDirectory(const AGFilename &pDir);
+AGEXPORT std::vector<AGString> getDirectory(const AGString &pDir);
 
-AGEXPORT AGFilename checkFileName(AGFilename s);
-AGEXPORT AGFilename getWriteDir();
-AGEXPORT AGFilename findFile(const AGFilename &pName);
+AGEXPORT AGString checkFileName(AGString s);
+AGEXPORT AGString getWriteDir();
+AGEXPORT AGString findFile(const AGString &pName);
 
-AGEXPORT AGFilename getDocumentsDir();
+AGEXPORT AGString getDocumentsDir();
 
-AGEXPORT void addPath(const AGFilename &pName);
-AGEXPORT void addPathFront(const AGFilename &pName);
+AGEXPORT void addPath(const AGString &pName);
+AGEXPORT void addPathFront(const AGString &pName);
 
-AGEXPORT AGData compress(const AGData &pString);
-AGEXPORT AGData uncompress(const AGData &pString);
+AGEXPORT AGString compress(const AGString &pString);
+AGEXPORT AGString uncompress(const AGString &pString);
 
-AGEXPORT AGFilename getDirSep();
+AGEXPORT AGString getDirSep();
 
 #endif

Modified: antargis/trunk/ext/basic/ag_message.cc
===================================================================
--- antargis/trunk/ext/basic/ag_message.cc	2008-02-29 16:26:29 UTC (rev 1233)
+++ antargis/trunk/ext/basic/ag_message.cc	2008-03-17 15:28:40 UTC (rev 1234)
@@ -1,6 +1,11 @@
 #include "ag_message.h"
 
+AGMessageData::AGMessageData(size_t pID):
+  mID(pID)
+  {
+  }
 
+
 AGMessageDataSDL::AGMessageDataSDL(size_t pID,const SDL_Event &pEvent):
   AGMessageData(pID),
   mEvent(pEvent)
@@ -108,6 +113,12 @@
   return mSource;
 }
 
+AGMessageTransceiver *AGMessage::getSender()
+  {
+    return mSource.getSender();
+  }
+
+
 // class AGMessageQueue
 
 AGMessageQueue::AGMessageQueue():

Modified: antargis/trunk/ext/basic/ag_string.h
===================================================================
--- antargis/trunk/ext/basic/ag_string.h	2008-02-29 16:26:29 UTC (rev 1233)
+++ antargis/trunk/ext/basic/ag_string.h	2008-03-17 15:28:40 UTC (rev 1234)
@@ -57,10 +57,4 @@
   static AGString toHex(int i);
 };
 
-//std::ostream &operator<<(std::ostream &o,const AGString &s);
-
-typedef AGString AGFilename;
-typedef AGString AGData;
-
-
 #endif

Modified: antargis/trunk/ext/basic/ag_xml.cc
===================================================================
--- antargis/trunk/ext/basic/ag_xml.cc	2008-02-29 16:26:29 UTC (rev 1233)
+++ antargis/trunk/ext/basic/ag_xml.cc	2008-03-17 15:28:40 UTC (rev 1234)
@@ -347,11 +347,11 @@
   {
     mRoot=new Node;
   }
-Document::Document(AGFilename pFile)
+Document::Document(const AGString &pFilename)
   {
     mRoot=new Node;
     mRoot->clear();
-    parseFile(pFile);
+    parseFile(pFilename);
   }
 
 Document::~Document()
@@ -359,9 +359,9 @@
     delete mRoot;
   }
 
-bool Document::parseFile(AGFilename file)
+bool Document::parseFile(const AGString &filename)
   {
-    AGData s;
+    AGString s;
     s=loadFile(file);
 
     parseMemory(s);
@@ -379,7 +379,7 @@
   return mRoot;
   }*/
 
-AGData Document::toString(bool forceIndent) const
+AGString Document::toString(bool forceIndent) const
 {
   if(mRoot->hasTextNode() && forceIndent==false)
     return mRoot->toString(false);
@@ -393,7 +393,7 @@
 }
  */
 
-void Document::parseMemory(const AGData &s)
+void Document::parseMemory(const AGString &s)
   {
     DomParser p;
     p.parse(s,this);
@@ -507,7 +507,7 @@
   return data.line;
 }
 
-void Parser::parse(const AGData &pData)
+void Parser::parse(const AGString &pData)
   {
     data.s=AGString(pData);
 
@@ -843,7 +843,7 @@
   }
 
 
-Document *DomParser::parse(const AGData &pData,Document *d)
+Document *DomParser::parse(const AGString &pData,Document *d)
   {
     doc=d;
     nodes.clear();
@@ -853,7 +853,7 @@
     return doc;
   }
 
-Document *DomParser::parse(const AGData &pData)
+Document *DomParser::parse(const AGString &pData)
   {
     return parse(pData,new Document);
   }

Modified: antargis/trunk/ext/basic/ag_xml.h
===================================================================
--- antargis/trunk/ext/basic/ag_xml.h	2008-02-29 16:26:29 UTC (rev 1233)
+++ antargis/trunk/ext/basic/ag_xml.h	2008-03-17 15:28:40 UTC (rev 1234)
@@ -109,16 +109,16 @@
     Node *mRoot;
   public:
     Document();
-    Document(AGFilename pFile);
+    Document(const AGString &pFilename);
     ~Document();
 
-    bool parseFile(AGFilename file);
+    bool parseFile(const AGString &pFilename);
 
     Node &root();
 
     AGString toString(bool forceIndent=false) const;
 
-    void parseMemory(const AGData &s);
+    void parseMemory(const AGString &s);
   };
 
 class AGEXPORT Parser
@@ -168,7 +168,7 @@
  public:
   virtual ~Parser();
 
-  void parse(const AGData &pData);
+  void parse(const AGString &pData);
   size_t getLine() const;
 
   virtual void simpleTag(const AGString &pName,const Node::Attributes &pAttributes);
@@ -191,9 +191,9 @@
   virtual void comment(const AGString &pText);
   virtual void header(const AGString &pText);
 
-  Document *parse(const AGData &pData);
+  Document *parse(const AGString &pData);
 
-  Document *parse(const AGData &pData,Document *d);
+  Document *parse(const AGString &pData,Document *d);
 };
   
 

Modified: antargis/trunk/ext/basic/templates.i
===================================================================
--- antargis/trunk/ext/basic/templates.i	2008-02-29 16:26:29 UTC (rev 1233)
+++ antargis/trunk/ext/basic/templates.i	2008-03-17 15:28:40 UTC (rev 1234)
@@ -9,7 +9,7 @@
 %template(StringVector) std::vector<std::string>;
 %template(AGStringVector) std::vector<AGString>;
 %template(AGStringUtf8Vector) std::vector<AGStringUtf8>;
-%template(AGFilenameVector) std::vector<AGFilename>;
+//%template(AGFilenameVector) std::vector<AGFilename>;
 %template(AGVector2List) std::list<AGVector2>;
 
 

Modified: antargis/trunk/ext/game/height_map.cc
===================================================================
--- antargis/trunk/ext/game/height_map.cc	2008-02-29 16:26:29 UTC (rev 1233)
+++ antargis/trunk/ext/game/height_map.cc	2008-03-17 15:28:40 UTC (rev 1234)
@@ -39,6 +39,8 @@
     setTerrainScale(FOREST,23/32.0);
     setTerrainScale(ROCK,31/32.0);
     setTerrainScale(ROCK2,31/32.0);
+    
+    checkTerrain();
   }
 
 HeightMap::~HeightMap()
@@ -178,6 +180,7 @@
               }
           }
       }
+    checkTerrain();
   }
 
 void HeightMap::saveBinary(BinaryOut &os) const
@@ -209,10 +212,10 @@
     }
 }
 
-void HeightMap::loadXML(const Node &node)
+bool HeightMap::loadXML(const Node &node)
   {
     CTRACE;
-    AGFilename filename=node.get("filename");
+    AGString filename=node.get("filename");
     if(filename.length())
       {
         BinaryFileIn is(filename);
@@ -264,7 +267,7 @@
             Node::NodeVector hv=node.getChildren("height");
 
             if(hv.size()==0)// || gv.size()==0)
-              return;
+              return false;
             assert(hv.size()==1);
             Node &h=**hv.begin();
 
@@ -294,6 +297,7 @@
 
 
     sigMapChangedComplete(new AGEvent(this,"mapChangedComplete"));
+    return true;
   }
 
 void HeightMap::newMap(int w,int h)
@@ -651,3 +655,13 @@
   return rubyHash(s.getString());
 
 }
+
+/**
+ * returns the mesh (scene-node) of the height-map
+ * FIXME: this is for testing-purpose only and shouldn't be used at all (?)
+ * it could be, that HeightMap introduced more than 1 mesh at some time
+ * */
+TerrainBase *HeightMap::getTerrainMesh()
+  {
+    return mTerrain;
+  }

Modified: antargis/trunk/ext/game/height_map.h
===================================================================
--- antargis/trunk/ext/game/height_map.h	2008-02-29 16:26:29 UTC (rev 1233)
+++ antargis/trunk/ext/game/height_map.h	2008-03-17 15:28:40 UTC (rev 1234)
@@ -56,7 +56,7 @@
 
   // save load
   virtual void saveXML(Node &node) const;
-  virtual void loadXML(const Node &node);
+  virtual bool loadXML(const Node &node);
 
   // editing
   void setHeight(float height); // for whole plane
@@ -90,6 +90,7 @@
 
   /// to be used by initTerrainMesh() - not otherwise !!!
   void setTerrain(TerrainBase *pTerrain);
+  TerrainBase *getTerrainMesh();
 
   std::string hash() const;
 

Modified: antargis/trunk/ext/game/map.cc
===================================================================
--- antargis/trunk/ext/game/map.cc	2008-02-29 16:26:29 UTC (rev 1233)
+++ antargis/trunk/ext/game/map.cc	2008-03-17 15:28:40 UTC (rev 1234)
@@ -108,9 +108,10 @@
 }
 
 
-void AntMap::loadXML(const Node &node)
+bool AntMap::loadXML(const Node &node)
   {
-    HeightMap::loadXML(node);
+    bool seemsok;
+    seemsok=HeightMap::loadXML(node);
 
     Node::const_iterator i=node.begin();
     for(;i!=node.end();i++)
@@ -122,6 +123,8 @@
     std::list<AntEntity*>::iterator k=mEntities.begin();
     for(;k!=mEntities.end();k++)
       (*k)->eventMapChanged();
+    
+    return seemsok;
   }
 
 void AntMap::insertEntity(AntEntity *e)
@@ -344,26 +347,31 @@
     return 0;
   }
 
-void AntMap::loadMapFromMemory(const AGData &pMem)
+bool AntMap::loadMapFromMemory(const AGString &pMem)
   {
     if(pMem.length())
       {
         Document d;
         d.parseMemory(pMem);
-        loadXML(d.root());
+        return loadXML(d.root());
       }
+    return false;
   }
 
-void AntMap::loadMap(const AGFilename &pFilename)
+bool AntMap::loadMap(const AGString &pFilename)
   {
-
-    loadMapFromMemory(loadFile(pFilename));
+    AGString filename=findFile(pFilename);
+    if(!fileExists(filename)) {
+      cdebug("File "<<pFilename<<" does not exists!");
+      return false;
+    }
+    return loadMapFromMemory(loadFile(filename));
   }
 
 /**
  * save the current map into an xml-file named pFilename
  */
-void AntMap::saveMap(const AGFilename &pFilename)
+void AntMap::saveMap(const AGString &pFilename)
   {
     CTRACE;
     mName=AGString(pFilename);
@@ -373,7 +381,7 @@
     cdebug("root:"<<&root);
     saveXML(root);
 
-    AGData c=d.toString();
+    AGString c=d.toString();
     saveFile(pFilename,c);
   }
 

Modified: antargis/trunk/ext/game/map.h
===================================================================
--- antargis/trunk/ext/game/map.h	2008-02-29 16:26:29 UTC (rev 1233)
+++ antargis/trunk/ext/game/map.h	2008-03-17 15:28:40 UTC (rev 1234)
@@ -60,9 +60,6 @@
   
   EntityList getEntities(const AGRect2&r);
   std::list<AntEntity*> getAllEntities();
-//  std::vector<AntEntityPtr> getAllEntitiesV();
-//  std::vector<AntEntityPtr> getEntities(const AGString &pName);
-//  std::vector<AntEntity*> getAllEntitiesV();
   std::vector<AntEntity*> getEntities(const AGString &pName);
 
   AntEntity *getEntity(const Mesh &pMesh);
@@ -80,11 +77,11 @@
   virtual void processXMLNode(const Node &node);
 
   void saveXML(Node &node) const;
-  void loadXML(const Node &node);
+  bool loadXML(const Node &node);
 
-  void saveMap(const AGFilename &pFilename);
-  virtual void loadMap(const AGFilename &pFilename);
-  virtual void loadMapFromMemory(const AGData &Memory);
+  void saveMap(const AGString &pFilename);
+  virtual bool loadMap(const AGString &pFilename);
+  virtual bool loadMapFromMemory(const AGString &Memory);
 
   void move(float pTime);
 

Modified: antargis/trunk/ext/game/templates.i
===================================================================
--- antargis/trunk/ext/game/templates.i	2008-02-29 16:26:29 UTC (rev 1233)
+++ antargis/trunk/ext/game/templates.i	2008-03-17 15:28:40 UTC (rev 1234)
@@ -21,10 +21,10 @@
 }
 
 
-%template(EntityPVector2) std::vector<PAntEntity>;
+//%template(EntityPVector2) std::vector<PAntEntity>;
 %template(EntityPVector) std::vector<AntEntity*>;
 %template(EntityPList) std::list<AntEntity*>;
-%template(EntityVector) std::vector<AntEntityPtr>;
+//%template(EntityVector) std::vector<AntEntityPtr>;
 %template(ResourceMap) std::map<std::string,float>;
 %template(AGResourceMap) std::map<AGString,float>;
-%template(AGVector2Pair) std::pair<AGVector2,AGVector2>;
\ No newline at end of file
+%template(AGVector2Pair) std::pair<AGVector2,AGVector2>;

Modified: antargis/trunk/ext/gui/ag_layoutcreators.cc
===================================================================
--- antargis/trunk/ext/gui/ag_layoutcreators.cc	2008-02-29 16:26:29 UTC (rev 1233)
+++ antargis/trunk/ext/gui/ag_layoutcreators.cc	2008-03-17 15:28:40 UTC (rev 1234)
@@ -31,7 +31,7 @@
       AGStringUtf8 caption=_(pNode.get("caption"));
       b=new AGButton(pParent,pRect,AGStringUtf8(caption));
       setResult(b);
-      AGFilename captionImage=pNode.get("caption-image");
+      AGString captionImage=pNode.get("caption-image");
       if(captionImage.length())
         b->setSurface(AGSurface::load(captionImage),false);
       if(pNode.get("enabled")=="false")
@@ -299,7 +299,7 @@
   virtual void create(AGWidget *pParent,const AGRect2 &pRect,const Node &pNode)
     {
       CTRACE;
-      AGFilename filename=pNode.get("filename");
+      AGString filename=pNode.get("filename");
       AGWidget *w=new AGWidget(pParent,pRect);
       setResult(w);
       AGLayout *l=new AGLayout(w);
@@ -318,7 +318,7 @@
 
   virtual void create(AGWidget *pParent,const AGRect2 &pRect,const Node &pNode)
     {
-      AGFilename filename=pNode.get("filename");
+      AGString filename=pNode.get("filename");
 
       AGSurface s(0,0);
       if(filename.length())
@@ -460,7 +460,7 @@
       if(caption.length())
         b->setCaption(AGStringUtf8(caption));
 
-      AGFilename captionImage=pNode.get("caption-image");
+      AGString captionImage=pNode.get("caption-image");
       if(captionImage.length())
         b->setSurface(AGSurface::load(captionImage),false);
       if(pNode.get("enabled")=="false")

Modified: antargis/trunk/ext/gui/ag_theme.cc
===================================================================
--- antargis/trunk/ext/gui/ag_theme.cc	2008-02-29 16:26:29 UTC (rev 1233)
+++ antargis/trunk/ext/gui/ag_theme.cc	2008-03-17 15:28:40 UTC (rev 1234)
@@ -187,7 +187,7 @@
       }
   }
 
-void loadTheme(const AGData &pXML)
+void loadTheme(const AGString &pXML)
   {
     AGTheme theme;
 
@@ -201,7 +201,7 @@
     setTheme(theme);
   }
 
-bool loadThemeFile(const AGFilename &pFilename)
+bool loadThemeFile(const AGString &pFilename)
   {
     AGTheme theme;
 

Modified: antargis/trunk/ext/gui/ag_theme.h
===================================================================
--- antargis/trunk/ext/gui/ag_theme.h	2008-02-29 16:26:29 UTC (rev 1233)
+++ antargis/trunk/ext/gui/ag_theme.h	2008-03-17 15:28:40 UTC (rev 1234)
@@ -66,8 +66,8 @@
 
 AGEXPORT AGTheme *getTheme();
 AGEXPORT void setTheme(const AGTheme &aTheme);
-AGEXPORT void loadTheme(const AGData &pXML);
-AGEXPORT bool loadThemeFile(const AGFilename &pFilename);
+AGEXPORT void loadTheme(const AGString &pXML);
+AGEXPORT bool loadThemeFile(const AGString &pFilename);
 
 AGEXPORT AGString addPoint(const AGString &pTheme);
 

Deleted: antargis/trunk/ext/sound/ag_sound.cc
===================================================================
--- antargis/trunk/ext/sound/ag_sound.cc	2008-02-29 16:26:29 UTC (rev 1233)
+++ antargis/trunk/ext/sound/ag_sound.cc	2008-03-17 15:28:40 UTC (rev 1234)
@@ -1,10 +0,0 @@
-#include <ag_sound.h>
-
-#include <map>
-#include <string>
-
-#include <SDL_mixer.h>
-
-extern std::map<std::string,Mix_Chunk*> mSounds;
-
-#warning FIXME: cleanup stored sounds ???

Modified: antargis/trunk/ext/video/ag_texturecache.cc
===================================================================
--- antargis/trunk/ext/video/ag_texturecache.cc	2008-02-29 16:26:29 UTC (rev 1233)
+++ antargis/trunk/ext/video/ag_texturecache.cc	2008-03-17 15:28:40 UTC (rev 1234)
@@ -37,11 +37,11 @@
     getInstanceKiller()->reg(createKiller(this));
   }
 
-const AGTexture &AGTextureCache::get(const AGFilename &pTexture,const AGRect2 &pSub)
+const AGTexture &AGTextureCache::get(const AGString &pTexture,const AGRect2 &pSub)
   {
     std::string s=pTexture+":"+pSub.toString();
 
-    std::map<AGFilename,AGTexture*>::iterator i=mTextures.find(s);
+    std::map<AGString,AGTexture*>::iterator i=mTextures.find(s);
     if(i==mTextures.end())
       {
         // load
@@ -53,9 +53,9 @@
   }
 
 
-const AGTexture &AGTextureCache::get(const AGFilename &pTexture,int downScaleExp)
+const AGTexture &AGTextureCache::get(const AGString &pTexture,int downScaleExp)
   {
-    std::map<AGFilename,AGTexture*>::iterator i=mTextures.find(pTexture);
+    std::map<AGString,AGTexture*>::iterator i=mTextures.find(pTexture);
     if(i==mTextures.end())
       {
         // load
@@ -116,9 +116,9 @@
   }
 
 
-const AGTexture &AGTextureCache::get3D(const AGFilename &pTexture,int downScaleExp,int downScaleZ)
+const AGTexture &AGTextureCache::get3D(const AGString &pTexture,int downScaleExp,int downScaleZ)
   {
-    std::map<AGFilename,AGTexture*>::iterator i=mTextures.find(pTexture);
+    std::map<AGString,AGTexture*>::iterator i=mTextures.find(pTexture);
     if(i==mTextures.end())
       {
         // load

Modified: antargis/trunk/ext/video/ag_texturecache.h
===================================================================
--- antargis/trunk/ext/video/ag_texturecache.h	2008-02-29 16:26:29 UTC (rev 1233)
+++ antargis/trunk/ext/video/ag_texturecache.h	2008-03-17 15:28:40 UTC (rev 1234)
@@ -36,12 +36,12 @@
   {
     AGTextureCache();
   public:
-    const AGTexture &get(const AGFilename &pTexture,int downScaleExp=1);
-    const AGTexture &get3D(const AGFilename &pTexture,int downScaleExp=1,int downScaleZ=1);
+    const AGTexture &get(const AGString &pTextureFilename ,int downScaleExp=1);
+    const AGTexture &get3D(const AGString &pTextureFilename,int downScaleExp=1,int downScaleZ=1);
 
-    const AGTexture &get(const AGFilename &pTexture,const AGRect2 &pSub);
+    const AGTexture &get(const AGString &pTextureFilename,const AGRect2 &pSub);
   private:
-    std::map<AGFilename,AGTexture*> mTextures;
+    std::map<AGString,AGTexture*> mTextures;
     
     friend AGTextureCache *getTextureCache();
   };

Modified: antargis/trunk/main/Rakefile
===================================================================
--- antargis/trunk/main/Rakefile	2008-02-29 16:26:29 UTC (rev 1233)
+++ antargis/trunk/main/Rakefile	2008-03-17 15:28:40 UTC (rev 1234)
@@ -6,9 +6,10 @@
 
 task './starter'=>File.join("main","starter.cc") do
 	require 'antconfig.rb'
-	#debug="antargis.bundle -g"
-	debug=""
-	cmd="g++ -o starter main/starter.cc #{debug} "+$CONFIG["CFLAGS"]+" "+$CONFIG["INCLUDEPATH"]+" "+`#{$CONFIG["SDL_CONFIG"]} --libs`.chomp+" -l"+CONFIG["RUBY_SO_NAME"]
+	debug="antargis.so -g"
+	debug="-g"
+  cmd="g++ -o starter -L. -lantargis main/starter.cc #{debug} "+$CONFIG["CFLAGS"]+" "+$CONFIG["INCLUDEPATH"]+" "+`#{$CONFIG["SDL_CONFIG"]} --libs`.chomp+" -l"+CONFIG["RUBY_SO_NAME"]
+  cmd="g++ -ggdb -o starter libantargis.a main/starter.cc #{debug} "+$CONFIG["CFLAGS"]+" "+$CONFIG["LIBS"]+" -framework OpenGL  "+$CONFIG["INCLUDEPATH"]+" "+`#{$CONFIG["SDL_CONFIG"]} --libs`.chomp+" -l"+CONFIG["RUBY_SO_NAME"]
 	cmd.gsub!("-arch ppc","")
 	sh cmd
 end

Modified: antargis/trunk/main/starter.cc
===================================================================
--- antargis/trunk/main/starter.cc	2008-02-29 16:26:29 UTC (rev 1233)
+++ antargis/trunk/main/starter.cc	2008-03-17 15:28:40 UTC (rev 1234)
@@ -1,13 +1,23 @@
 #include <SDL.h>
 
 #include <ruby.h>
+#include <iostream>
 
+extern "C" void Init_antargis();
+
 int main(int argc,char*argv[])
   {
     ruby_init();
+    //rb_load_file("antargis");
+    std::cout<<"Init_antargis out of starter..."<<std::endl;
+    Init_antargis();
+    std::cout<<"Init_antargis out of starter-ready"<<std::endl;
+    std::cout<<"Init_antargis out of starter-ready"<<std::endl;
     ruby_options(argc,argv);
+    std::cout<<"AAA"<<std::endl;
     ruby_script("sdl_starter");
-    //rb_load_file("antargis");
+    std::cout<<"BBB"<<std::endl;
     ruby_run();
+    std::cout<<"CCC"<<std::endl;
     return 0;
   }

Modified: antargis/trunk/ruby/antargislib.rb
===================================================================
--- antargis/trunk/ruby/antargislib.rb	2008-02-29 16:26:29 UTC (rev 1233)
+++ antargis/trunk/ruby/antargislib.rb	2008-03-17 15:28:40 UTC (rev 1234)
@@ -80,26 +80,32 @@
 end
 
 begin
-	if File.exists?("ext/antargis.so")
-		require 'ext/antargis'
-	else
-		puts "Please run 'rake' before starting this program!"
-		require 'antargis'
-	end
-	include Antargis
+  include Antargis
+  puts "Antargis-module included"
 rescue
-	puts "I'll try to run rake for you. Please try again yourself when it doesn't work."
-	system "rake"
-	puts "Try starting again..."
-	if File.exists?("ext/antargis.so")
-		require 'ext/antargis'
-	else
-		puts "Please run 'rake' before starting this program!"
-		require 'antargis'
+  puts "Antargis-module not found - trying to load .so"
+	begin
+		if File.exists?("ext/antargis.so")
+			require 'ext/antargis'
+		else
+			puts "Please run 'rake' before starting this program!"
+			require 'antargis'
+		end
+		include Antargis
+	rescue
+		puts "I'll try to run rake for you. Please try again yourself when it doesn't work."
+		system "rake"
+		puts "Try starting again..."
+		if File.exists?("ext/antargis.so")
+			require 'ext/antargis'
+		else
+			puts "Please run 'rake' before starting this program!"
+			require 'antargis'
+		end
+		include Antargis
+		puts "I'll try to run rake for you. Please try again yourself when it doesn't work."
+	
 	end
-	include Antargis
-	puts "I'll try to run rake for you. Please try again yourself when it doesn't work."
-
 end
 puts "extension loaded"
 

Modified: antargis/trunk/ruby/editor/dialogs.rb
===================================================================
--- antargis/trunk/ruby/editor/dialogs.rb	2008-02-29 16:26:29 UTC (rev 1233)
+++ antargis/trunk/ruby/editor/dialogs.rb	2008-03-17 15:28:40 UTC (rev 1234)
@@ -59,7 +59,7 @@
 		@ent.setupMesh
 		if @ent.is_a?(AntBoss)
 			name=getChild("Player").getSelected
-			@ent.setPlayer(getMap.players.find{|n|n.getName==name})
+			@ent.setPlayer(@map.players.find{|n|n.getName==name})
 		end
 		return true
 	end
@@ -187,7 +187,8 @@
 		@list.clearList
 		@players={}
 		@map.players.each{|p|
-			@list.insertItem(p.name,p.name)
+		  puts "initPlayNames:#{p}:#{p.class}:#{p.name}:#{p.name.class}"
+			@list.insertItem(p.name.to_s,p.name)
 			@players[p.name]=p
 		}
 	end

Modified: antargis/trunk/ruby/editor_app.rb
===================================================================
--- antargis/trunk/ruby/editor_app.rb	2008-02-29 16:26:29 UTC (rev 1233)
+++ antargis/trunk/ruby/editor_app.rb	2008-03-17 15:28:40 UTC (rev 1234)
@@ -45,7 +45,7 @@
 
 class AntEditorApp < AntRubyEditView
 	def initialize(sw,sh)
-		super(sw,sh,nil) #AntRubyMap.new(64,64))
+		super(sw,sh,nil)
 		$app=self	
 		@map=AntRubyMap.new(self,getScene,128,128)
 		@map.setHeight(-0.5)

Modified: antargis/trunk/ruby/editview.rb
===================================================================
--- antargis/trunk/ruby/editview.rb	2008-02-29 16:26:29 UTC (rev 1233)
+++ antargis/trunk/ruby/editview.rb	2008-03-17 15:28:40 UTC (rev 1234)
@@ -286,12 +286,14 @@
 	
 	
 	def isTerrain(node)
-		[TerrainPiece,WaterPiece].member?(node.class)
+	  # Terrain is for testign purpose only
+	  [TerrainPiece,WaterPiece,Terrain].member?(node.class)
 	end
 	
 	def addEntity(list,button)
 		pos=nil
 		list.each{|c|
+		  puts "LIST #{c} #{c.node}"
 			if isTerrain(c.node)
 				pos=c.pos
 			end
@@ -300,20 +302,22 @@
 			return
 		end
 		puts "ADDENTITY"
+    entity=nil
 		dorand=true
 		if @type==AntDeco
-			tree=@type.new(@map, at decoType)
+			entity=@type.new(@map, at decoType)
 			if @decoType=="floor" or @decoType=="block"
 				dorand=false
 			end
 		elsif @type==AntHero
-			tree=@type.new(@map)
-			tree.setAppearance(@appearance)
+			entity=@type.new(@map)
+			entity.setAppearance(@appearance)
 		else
-			tree=@type.new(@map)
+			entity=@type.new(@map)
 		end
-		tree.setPos(AGVector2.new(pos.x,pos.y))
-		getMap.insertEntity(tree)
+    puts "SETPOS #{pos.x} #{pos.y}"
+		entity.setPos(AGVector2.new(pos.x,pos.y))
+		getMap.insertEntity(entity)
 	end
 
 	def setupNames

Modified: antargis/trunk/ruby/gui/testing.rb
===================================================================
--- antargis/trunk/ruby/gui/testing.rb	2008-02-29 16:26:29 UTC (rev 1233)
+++ antargis/trunk/ruby/gui/testing.rb	2008-03-17 15:28:40 UTC (rev 1234)
@@ -1,3 +1,4 @@
+require 'ruby/spec_helper.rb'
 module TestModule
 	attr_reader :quitCounter
 	def step
@@ -109,4 +110,12 @@
 		@app.eventMouseButtonDown(newEvent(@app,"",toSDLEvent("SDL_MOUSEBUTTONDOWN:0:1:1:#{x.to_i}:#{y.to_i}")))
 		@app.eventMouseButtonUp(newEvent(@app,"",toSDLEvent("SDL_MOUSEBUTTONUP:0:1:1:#{x.to_i}:#{y.to_i}")))
 	end
+  def key(pkey)
+    sym=pkey[0]
+    s1="SDL_KEYDOWN:0:1:0:#{sym}:0:#{sym}"
+    puts s1
+    #exit
+    @app.eventKeyDown(newEvent(@app,"",toSDLEvent(s1)))
+    @app.eventKeyUp(newEvent(@app,"",toSDLEvent("SDL_KEYUP:0:0:0:#{sym}:0:#{sym}")))
+  end
 end

Modified: antargis/trunk/ruby/map.rb
===================================================================
--- antargis/trunk/ruby/map.rb	2008-02-29 16:26:29 UTC (rev 1233)
+++ antargis/trunk/ruby/map.rb	2008-03-17 15:28:40 UTC (rev 1234)
@@ -322,6 +322,7 @@
 		if n.get("curTime")!=""
 			@curTime=n.get("curTime").to_f
 		end
+    return true
 	end
 
 	def loadMap(filename)

Modified: antargis/trunk/ruby/spec/spec_gui.rb
===================================================================
--- antargis/trunk/ruby/spec/spec_gui.rb	2008-02-29 16:26:29 UTC (rev 1233)
+++ antargis/trunk/ruby/spec/spec_gui.rb	2008-03-17 15:28:40 UTC (rev 1234)
@@ -1,3 +1,21 @@
+require 'ruby/gui/testing.rb'
+
 describe "AGEdit" do
-  it "should ignore pressing RETURN when not in multiline mode"
+  include GuiTest
+  it "should ignore pressing RETURN,ESCAPE when not in multiline mode" do
+    @app=makeTestAppClass(AGApplication).new
+    widget=AGEdit.new(nil,AGRect2.new(20,20,200,50))
+    @app.setMainWidget(widget)
+    @app.step
+    key('a')
+    while true; @app.run;end
+  end
+end
+
+describe "AGListBox" do
+  it "should display correctly when a text-entry too long" 
+  #do
+  #  app=makeTestApp(AGApplication)
+  #  widget=AGListBox.new()
+  #end
 end
\ No newline at end of file

Modified: antargis/trunk/ruby/spec/spec_hljobs.rb
===================================================================
--- antargis/trunk/ruby/spec/spec_hljobs.rb	2008-02-29 16:26:29 UTC (rev 1233)
+++ antargis/trunk/ruby/spec/spec_hljobs.rb	2008-03-17 15:28:40 UTC (rev 1234)
@@ -38,24 +38,24 @@
 
   it "should then send hero to tower (at most 10 low-level move-jobs for format and move)" do
     rowen=hero("Rowen")
-  keep=building("Keep")
+    keep=building("Keep")
 
   	# format
     while rowen.getJob.stateName==:moveComplete
 	  advance
     end
 	
-	rowen.getJobName.should =="moveJob"
-	rowen.getTarget.should be_a_kind_of(AntMan)
-	@store[:oldPos]=rowen.getPos2D
+		rowen.getJobName.should =="moveJob"
+		rowen.getTarget.should be_a_kind_of(AntMan)
+		@store[:oldPos]=rowen.getPos2D
   end
   it "hero should only go fetch one man;go back and then stay at his position" do
-  	rowen=hero("Rowen")
-	man=rowen.getTarget
-  	runUntilLowLevelJobToFinish(rowen)
-	rowen.getJobName.should == "moveJob"
-	rowen.getTarget.should be_nil
-	trials=0
+		rowen=hero("Rowen")
+		man=rowen.getTarget
+		runUntilLowLevelJobToFinish(rowen)
+		rowen.getJobName.should == "moveJob"
+		rowen.getTarget.should be_nil
+		trials=0
 	while rowen.getJobName=="moveJob"
         runUntilLowLevelJobToFinish(rowen)
 		trials+=1



From davidkamphausen at mail.berlios.de  Mon Mar 17 16:29:28 2008
From: davidkamphausen at mail.berlios.de (davidkamphausen at BerliOS)
Date: Mon, 17 Mar 2008 16:29:28 +0100
Subject: [Antargis-svn] r1235 - antargis/trunk/ruby/spec
Message-ID: <200803171529.m2HFTSZb020570@sheep.berlios.de>

Author: davidkamphausen
Date: 2008-03-17 16:29:28 +0100 (Mon, 17 Mar 2008)
New Revision: 1235

Added:
   antargis/trunk/ruby/spec/spec_code_check.rb
   antargis/trunk/ruby/spec/spec_editor.rb
Log:
* som more specs


Added: antargis/trunk/ruby/spec/spec_code_check.rb
===================================================================
--- antargis/trunk/ruby/spec/spec_code_check.rb	2008-03-17 15:28:40 UTC (rev 1234)
+++ antargis/trunk/ruby/spec/spec_code_check.rb	2008-03-17 15:29:28 UTC (rev 1235)
@@ -0,0 +1,18 @@
+describe "The source code" do
+  it "should have no mentioning of rant or Rantfile" do
+    extensions=["rb","cc","c","h"]
+    (extensions.map{|e|Dir["**/*."+e]}+Dir["**/README"]).flatten.select{|filename|not filename=~/spec/}.each{|filename|
+      file=File.open(filename)
+      content=file.read
+      file.close
+      wanted=filename+" should not include rant/Rantfile"
+      error=wanted
+      if content=~/[^a-zA-Z][rR]ant(file)?[^a-zA-Z]/
+        error=filename+" includes rant/Rantfile"
+      end
+      
+      error.should == wanted
+      #content.should_not =~/[rR]ant(file)?/
+    }
+  end
+end
\ No newline at end of file

Added: antargis/trunk/ruby/spec/spec_editor.rb
===================================================================
--- antargis/trunk/ruby/spec/spec_editor.rb	2008-03-17 15:28:40 UTC (rev 1234)
+++ antargis/trunk/ruby/spec/spec_editor.rb	2008-03-17 15:29:28 UTC (rev 1235)
@@ -0,0 +1,142 @@
+
+require 'ruby/editor_app.rb'
+require 'ruby/gui/testing.rb'
+require 'ruby/spec/level_testing.rb'
+require 'ostruct'
+
+describe "Editor" do
+  it "should start up correctly" do
+    @app=makeTestAppClass(AntEditorApp).new(1024,768)
+    @mainWidget=@app.getMainWidget
+    @app.getMap.getTerrainMesh.should_not be_nil
+  end
+end
+
+describe "Editor" do
+  #include LevelTesting
+  include GuiTest
+  before(:each) do
+    @app=makeTestAppClass(AntEditorApp).new(1024,768)
+    @mainWidget=@app.getMainWidget
+    @app.getMap.initTerrainMesh
+    @app.step    
+  end
+  it "should be possible to load a savegame" do
+    @app.getMap.loadMap("data/levels/savegame0.antlvl").should be_true
+    @app.getMap.getAllEntities.length.should > 0
+  end
+  it "should place entities at the correct position"
+  it "should edit the map at the correct position"
+  
+  describe "AntEditPropDialog" do
+    it "should be possible to edit a hero" do
+      add(AntHero,AGVector2.new(10,10))
+      hero=entities[0]
+      edit(hero)
+      window=widget("OptionsMenu")
+      window.child("AntName").setText(AGStringUtf8.new("Bantor"))
+      window.child("MenCount").setText(AGStringUtf8.new("10"))
+      window.child("ok").click
+      hero.getName.should=="Bantor"
+      hero.getXMLProp("men").should=="10"
+    end
+  end
+  
+  describe "placing entities" do
+    it "should place entities at exactly specified position" do
+      targetPos=AGVector2.new(10.5,10.7)
+      add(AntHero,targetPos)
+      @app.getMap.getAllEntities.length.should == 1
+      (@app.getMap.getAllEntities[0].getPos2D-targetPos).length.should < 0.1
+    end
+    it "should place entitiy at exact screen position" do
+      focusMap(AGVector2.new(30,30))
+      screenPos=AGVector2.new(200,200)
+      addOnScreen(AntHero,screenPos)
+      hero=@app.getMap.getAllEntities[0]
+      pos=@app.getScene.getPosition(AGVector4.new(hero.getPos3D,1))
+      (pos-screenPos).length.should < 5
+    end
+  end
+  
+  describe "modifying height" do
+    it "should modify the map around the specified position"
+    it "should use the front part of a terrain if occluded" 
+    #do
+#      p=AGVector2.new(33.7,32.3)
+#      focusMap(p)
+#      clickScreenMiddle
+#      @app.step
+#      clickScreenMiddle
+#      @app.step
+#      clickScreenMiddle
+#      @app.step
+#      clickScreenMiddle
+#      run
+#    end
+  end
+  
+  describe "editing players" do
+    it "should be possible to create a player" do
+      widget("playerButton").click
+      dialog=widget("PlayersDialog")
+      dialog.child("playerName").setText(AGStringUtf8.new("Bantor"))
+      dialog.child("addPlayer").click
+    end
+    it "should be possible to change a player's AI"
+  end
+  
+  private
+  def entities
+    @app.getMap.getAllEntities
+  end
+  def edit(entity)
+    focusMap(entity.getPos2D)
+    selectTool
+    clickScreenMiddle
+  end
+  def clickScreenMiddle
+    clickScreen(getScreen.getWidth/2,getScreen.getHeight/2)
+  end
+  def selectTool
+    widget("pointer").click
+  end
+  def add(entType,at)
+    enableWidgetTab
+    selectEntityButton(entType)
+    clickMap(at)
+  end
+  def addOnScreen(entType,at)
+    entCount=@app.getMap.getAllEntities.length
+    enableWidgetTab
+    selectEntityButton(entType)
+    clickScreen(at.x,at.y)
+    @app.getMap.getAllEntities.length.should == entCount+1
+  end
+  
+  def enableWidgetTab
+    widget("entities").click
+  end
+  def selectEntityButton(type)
+    widget("entitiesTab").child(type.to_s).click
+  end
+  def clickMap(pos2d,button=1)
+    @app.step
+    @app.getMap.initTerrainMesh
+    @app.getMap.getTerrainMesh.should_not be_nil
+    list=[Struct.new(:node,:pos).new(@app.getMap.getTerrainMesh,pos2d)]
+    lambda {@app.eventClick(list,button)}.should cross(@app,:addEntity)
+    @app.eventClick(list,button)
+    @app.getMap.getAllEntities.length.should == 1
+  end
+  
+  def focusMap(at)
+    @app.setCamera(at)
+  end
+  
+  def run
+    while true; @app.step;end
+  end
+  
+  
+end
\ No newline at end of file



From davidkamphausen at mail.berlios.de  Wed Mar 26 20:30:19 2008
From: davidkamphausen at mail.berlios.de (davidkamphausen at BerliOS)
Date: Wed, 26 Mar 2008 20:30:19 +0100
Subject: [Antargis-svn] r1236 - in antargis/trunk: . ext/3dengine ext/basic
 ext/game ext/gui ext/math ext/video main rookey rookey/configs rookey/docs
 rookey/docs/ruby rookey/docs/ruby/classes
 rookey/docs/ruby/classes/Array.src rookey/docs/ruby/classes/Class.src
 rookey/docs/ruby/classes/Rookey
 rookey/docs/ruby/classes/Rookey/CcacheConfig.src
 rookey/docs/ruby/classes/Rookey/Compiler.src
 rookey/docs/ruby/classes/Rookey/Config.src
 rookey/docs/ruby/classes/Rookey/Configurator.src
 rookey/docs/ruby/classes/Rookey/CppHierarchyParser.src
 rookey/docs/ruby/classes/Rookey/DebugConfig.src
 rookey/docs/ruby/classes/Rookey/GLConfig.src
 rookey/docs/ruby/classes/Rookey/RubyConfig.src
 rookey/docs/ruby/classes/Rookey/SDLConfig.src
 rookey/docs/ruby/classes/Rookey/Swig.src
 rookey/docs/ruby/classes/Rookey/SwigConfig.src
 rookey/docs/ruby/classes/Rookey/SwigInterfaceBuilder.src
 rookey/docs/ruby/classes/Rookey/Tools.src
 rookey/docs/ruby/classes/Rookey.src rookey/docs/ruby/files
 rookey/docs/ruby/files/configs rooke! y/spec ruby
Message-ID: <200803261930.m2QJUJHh012123@sheep.berlios.de>

Author: davidkamphausen
Date: 2008-03-26 20:30:10 +0100 (Wed, 26 Mar 2008)
New Revision: 1236

Added:
   antargis/trunk/Rakefile
   antargis/trunk/Rakefile.old
   antargis/trunk/ext/video/ag_gl.h
   antargis/trunk/rookey/
   antargis/trunk/rookey/README
   antargis/trunk/rookey/Rakefile
   antargis/trunk/rookey/antargis
   antargis/trunk/rookey/antargis.bundle
   antargis/trunk/rookey/compile.rb
   antargis/trunk/rookey/config_generator.rb
   antargis/trunk/rookey/configs/
   antargis/trunk/rookey/configs/ccache.rb
   antargis/trunk/rookey/configs/debug.rb
   antargis/trunk/rookey/configs/gl.rb
   antargis/trunk/rookey/configs/ruby.rb
   antargis/trunk/rookey/configs/sdl.rb
   antargis/trunk/rookey/configs/swig.rb
   antargis/trunk/rookey/cpp_hierarchy_parser.rb
   antargis/trunk/rookey/docs/
   antargis/trunk/rookey/docs/ruby/
   antargis/trunk/rookey/docs/ruby/classes/
   antargis/trunk/rookey/docs/ruby/classes/Array.html
   antargis/trunk/rookey/docs/ruby/classes/Array.src/
   antargis/trunk/rookey/docs/ruby/classes/Array.src/M000001.html
   antargis/trunk/rookey/docs/ruby/classes/Class.html
   antargis/trunk/rookey/docs/ruby/classes/Class.src/
   antargis/trunk/rookey/docs/ruby/classes/Class.src/M000002.html
   antargis/trunk/rookey/docs/ruby/classes/Class.src/M000003.html
   antargis/trunk/rookey/docs/ruby/classes/Rookey.html
   antargis/trunk/rookey/docs/ruby/classes/Rookey.src/
   antargis/trunk/rookey/docs/ruby/classes/Rookey.src/M000004.html
   antargis/trunk/rookey/docs/ruby/classes/Rookey.src/M000005.html
   antargis/trunk/rookey/docs/ruby/classes/Rookey.src/M000006.html
   antargis/trunk/rookey/docs/ruby/classes/Rookey.src/M000007.html
   antargis/trunk/rookey/docs/ruby/classes/Rookey.src/M000008.html
   antargis/trunk/rookey/docs/ruby/classes/Rookey.src/M000009.html
   antargis/trunk/rookey/docs/ruby/classes/Rookey.src/M000010.html
   antargis/trunk/rookey/docs/ruby/classes/Rookey.src/M000011.html
   antargis/trunk/rookey/docs/ruby/classes/Rookey.src/M000012.html
   antargis/trunk/rookey/docs/ruby/classes/Rookey.src/M000013.html
   antargis/trunk/rookey/docs/ruby/classes/Rookey.src/M000014.html
   antargis/trunk/rookey/docs/ruby/classes/Rookey.src/M000015.html
   antargis/trunk/rookey/docs/ruby/classes/Rookey.src/M000016.html
   antargis/trunk/rookey/docs/ruby/classes/Rookey.src/M000017.html
   antargis/trunk/rookey/docs/ruby/classes/Rookey/
   antargis/trunk/rookey/docs/ruby/classes/Rookey/CcacheConfig.html
   antargis/trunk/rookey/docs/ruby/classes/Rookey/CcacheConfig.src/
   antargis/trunk/rookey/docs/ruby/classes/Rookey/CcacheConfig.src/M000020.html
   antargis/trunk/rookey/docs/ruby/classes/Rookey/Compiler.html
   antargis/trunk/rookey/docs/ruby/classes/Rookey/Compiler.src/
   antargis/trunk/rookey/docs/ruby/classes/Rookey/Compiler.src/M000028.html
   antargis/trunk/rookey/docs/ruby/classes/Rookey/Compiler.src/M000029.html
   antargis/trunk/rookey/docs/ruby/classes/Rookey/Compiler.src/M000030.html
   antargis/trunk/rookey/docs/ruby/classes/Rookey/Compiler.src/M000031.html
   antargis/trunk/rookey/docs/ruby/classes/Rookey/Compiler.src/M000032.html
   antargis/trunk/rookey/docs/ruby/classes/Rookey/Compiler.src/M000033.html
   antargis/trunk/rookey/docs/ruby/classes/Rookey/Compiler.src/M000034.html
   antargis/trunk/rookey/docs/ruby/classes/Rookey/Compiler.src/M000035.html
   antargis/trunk/rookey/docs/ruby/classes/Rookey/Compiler.src/M000036.html
   antargis/trunk/rookey/docs/ruby/classes/Rookey/Compiler.src/M000037.html
   antargis/trunk/rookey/docs/ruby/classes/Rookey/Compiler.src/M000038.html
   antargis/trunk/rookey/docs/ruby/classes/Rookey/Compiler.src/M000039.html
   antargis/trunk/rookey/docs/ruby/classes/Rookey/Compiler.src/M000040.html
   antargis/trunk/rookey/docs/ruby/classes/Rookey/Config.html
   antargis/trunk/rookey/docs/ruby/classes/Rookey/Config.src/
   antargis/trunk/rookey/docs/ruby/classes/Rookey/Config.src/M000024.html
   antargis/trunk/rookey/docs/ruby/classes/Rookey/Config.src/M000025.html
   antargis/trunk/rookey/docs/ruby/classes/Rookey/Config.src/M000026.html
   antargis/trunk/rookey/docs/ruby/classes/Rookey/Config.src/M000027.html
   antargis/trunk/rookey/docs/ruby/classes/Rookey/Configurator.html
   antargis/trunk/rookey/docs/ruby/classes/Rookey/Configurator.src/
   antargis/trunk/rookey/docs/ruby/classes/Rookey/Configurator.src/M000041.html
   antargis/trunk/rookey/docs/ruby/classes/Rookey/Configurator.src/M000042.html
   antargis/trunk/rookey/docs/ruby/classes/Rookey/Configurator.src/M000043.html
   antargis/trunk/rookey/docs/ruby/classes/Rookey/Configurator.src/M000044.html
   antargis/trunk/rookey/docs/ruby/classes/Rookey/Configurator.src/M000045.html
   antargis/trunk/rookey/docs/ruby/classes/Rookey/CppHierarchyParser.html
   antargis/trunk/rookey/docs/ruby/classes/Rookey/CppHierarchyParser.src/
   antargis/trunk/rookey/docs/ruby/classes/Rookey/CppHierarchyParser.src/M000047.html
   antargis/trunk/rookey/docs/ruby/classes/Rookey/CppHierarchyParser.src/M000048.html
   antargis/trunk/rookey/docs/ruby/classes/Rookey/CppHierarchyParser.src/M000049.html
   antargis/trunk/rookey/docs/ruby/classes/Rookey/CppHierarchyParser.src/M000050.html
   antargis/trunk/rookey/docs/ruby/classes/Rookey/DebugConfig.html
   antargis/trunk/rookey/docs/ruby/classes/Rookey/DebugConfig.src/
   antargis/trunk/rookey/docs/ruby/classes/Rookey/DebugConfig.src/M000057.html
   antargis/trunk/rookey/docs/ruby/classes/Rookey/GLConfig.html
   antargis/trunk/rookey/docs/ruby/classes/Rookey/GLConfig.src/
   antargis/trunk/rookey/docs/ruby/classes/Rookey/GLConfig.src/M000052.html
   antargis/trunk/rookey/docs/ruby/classes/Rookey/RubyConfig.html
   antargis/trunk/rookey/docs/ruby/classes/Rookey/RubyConfig.src/
   antargis/trunk/rookey/docs/ruby/classes/Rookey/RubyConfig.src/M000051.html
   antargis/trunk/rookey/docs/ruby/classes/Rookey/SDLConfig.html
   antargis/trunk/rookey/docs/ruby/classes/Rookey/SDLConfig.src/
   antargis/trunk/rookey/docs/ruby/classes/Rookey/SDLConfig.src/M000019.html
   antargis/trunk/rookey/docs/ruby/classes/Rookey/Swig.html
   antargis/trunk/rookey/docs/ruby/classes/Rookey/Swig.src/
   antargis/trunk/rookey/docs/ruby/classes/Rookey/Swig.src/M000021.html
   antargis/trunk/rookey/docs/ruby/classes/Rookey/Swig.src/M000022.html
   antargis/trunk/rookey/docs/ruby/classes/Rookey/Swig.src/M000023.html
   antargis/trunk/rookey/docs/ruby/classes/Rookey/SwigConfig.html
   antargis/trunk/rookey/docs/ruby/classes/Rookey/SwigConfig.src/
   antargis/trunk/rookey/docs/ruby/classes/Rookey/SwigConfig.src/M000046.html
   antargis/trunk/rookey/docs/ruby/classes/Rookey/SwigInterfaceBuilder.html
   antargis/trunk/rookey/docs/ruby/classes/Rookey/SwigInterfaceBuilder.src/
   antargis/trunk/rookey/docs/ruby/classes/Rookey/SwigInterfaceBuilder.src/M000053.html
   antargis/trunk/rookey/docs/ruby/classes/Rookey/SwigInterfaceBuilder.src/M000054.html
   antargis/trunk/rookey/docs/ruby/classes/Rookey/SwigInterfaceBuilder.src/M000055.html
   antargis/trunk/rookey/docs/ruby/classes/Rookey/SwigInterfaceBuilder.src/M000056.html
   antargis/trunk/rookey/docs/ruby/classes/Rookey/Tools.html
   antargis/trunk/rookey/docs/ruby/classes/Rookey/Tools.src/
   antargis/trunk/rookey/docs/ruby/classes/Rookey/Tools.src/M000018.html
   antargis/trunk/rookey/docs/ruby/created.rid
   antargis/trunk/rookey/docs/ruby/files/
   antargis/trunk/rookey/docs/ruby/files/README.html
   antargis/trunk/rookey/docs/ruby/files/compile_rb.html
   antargis/trunk/rookey/docs/ruby/files/config_generator_rb.html
   antargis/trunk/rookey/docs/ruby/files/configs/
   antargis/trunk/rookey/docs/ruby/files/configs/ccache_rb.html
   antargis/trunk/rookey/docs/ruby/files/configs/debug_rb.html
   antargis/trunk/rookey/docs/ruby/files/configs/gl_rb.html
   antargis/trunk/rookey/docs/ruby/files/configs/ruby_rb.html
   antargis/trunk/rookey/docs/ruby/files/configs/sdl_rb.html
   antargis/trunk/rookey/docs/ruby/files/configs/swig_rb.html
   antargis/trunk/rookey/docs/ruby/files/cpp_hierarchy_parser_rb.html
   antargis/trunk/rookey/docs/ruby/files/rookey_rb.html
   antargis/trunk/rookey/docs/ruby/files/swig_ext_rb.html
   antargis/trunk/rookey/docs/ruby/files/swig_interface_builder_rb.html
   antargis/trunk/rookey/docs/ruby/files/swig_rb.html
   antargis/trunk/rookey/docs/ruby/files/tasks_rb.html
   antargis/trunk/rookey/docs/ruby/files/tools_rb.html
   antargis/trunk/rookey/docs/ruby/fr_class_index.html
   antargis/trunk/rookey/docs/ruby/fr_file_index.html
   antargis/trunk/rookey/docs/ruby/fr_method_index.html
   antargis/trunk/rookey/docs/ruby/index.html
   antargis/trunk/rookey/docs/ruby/rdoc-style.css
   antargis/trunk/rookey/rookey.rb
   antargis/trunk/rookey/spec/
   antargis/trunk/rookey/spec/Rakefile
   antargis/trunk/rookey/spec/interface.i
   antargis/trunk/rookey/spec/main.cc
   antargis/trunk/rookey/spec/spec_rookey.rb
   antargis/trunk/rookey/swig.cc
   antargis/trunk/rookey/swig.rb
   antargis/trunk/rookey/swig_ext.rb
   antargis/trunk/rookey/swig_interface_builder.rb
   antargis/trunk/rookey/tasks.rb
   antargis/trunk/rookey/tools.rb
Removed:
   antargis/trunk/Rakefile
Modified:
   antargis/trunk/ext/3dengine/ag_glsl.h
   antargis/trunk/ext/3dengine/ant_camera.h
   antargis/trunk/ext/3dengine/ant_projection.h
   antargis/trunk/ext/3dengine/ant_renderer.h
   antargis/trunk/ext/3dengine/scene.cc
   antargis/trunk/ext/3dengine/scene.h
   antargis/trunk/ext/3dengine/scenenode.cc
   antargis/trunk/ext/basic/ag_debug.h
   antargis/trunk/ext/basic/ag_main.cc
   antargis/trunk/ext/basic/ag_rubyobj.cc
   antargis/trunk/ext/basic/ag_rubyobj.h
   antargis/trunk/ext/basic/ag_xml.cc
   antargis/trunk/ext/game/entity.cc
   antargis/trunk/ext/game/map.cc
   antargis/trunk/ext/game/templates.i
   antargis/trunk/ext/gui/ag_application.cc
   antargis/trunk/ext/gui/ag_widget.cc
   antargis/trunk/ext/math/init.cc
   antargis/trunk/ext/video/ag_glscreen.cc
   antargis/trunk/ext/video/ag_glscreen.h
   antargis/trunk/ext/video/ag_surface.h
   antargis/trunk/main/starter.cc
   antargis/trunk/ruby/antargislib.rb
   antargis/trunk/ruby/intro.rb
Log:
* many changes, so that new swig-versions are applicable

Deleted: antargis/trunk/Rakefile
===================================================================
--- antargis/trunk/Rakefile	2008-03-17 15:29:28 UTC (rev 1235)
+++ antargis/trunk/Rakefile	2008-03-26 19:30:10 UTC (rev 1236)
@@ -1,162 +0,0 @@
-#!/usr/bin/env ruby
-
-alias :oldSystem :system
-def system(cmd)
-  if cmd=~/ruby .*/
-    cmd.gsub!(/^ruby/,"./starter")
-  end
-  puts cmd
-  #exit
-  oldSystem(cmd)
-end
-
-
-Dir.chdir(File.split(__FILE__)[0])
-
-
-##########################
-#
-# Gems
-##
-
-require 'rubygems'
-require 'rake/gempackagetask.rb'
-require 'rake/packagetask.rb'
-require 'rake/rdoctask.rb'
-require 'spec/rake/spectask'
-
-
-# build starter
-load 'main/Rakefile'
-
-# build extension
-load 'ext/Rakefile'
-
-
-DATA_FILES=Dir["data/**/*"].select{|file|not (file=~/svn/ or file=~/xcf/ or file=~/\.svg/)}
-RUBY_FILES=Dir["ruby/**/*.rb"]+Dir["*.rb"]+Dir["antargis"]
-SWIG_FILES=["ext/swig.cc","ext/swig.h"]
-C_FILES=Dir["ext/*/*.c"]+Dir["ext/*/*.cc"]+Dir["ext/*/*.h"]+SWIG_FILES
-RAKE_FILES=Dir["Rakefile"]+Dir["ext/**/Rakefile"]+Dir["ext/extconf.rb"]
-BUILD_FILES=Dir["build/*.rb"]+Dir["build/*/*.rb"]+Dir["build/*.i"]+Dir["ext/*/templates.i"]
-SOURCE_FILES=BUILD_FILES+C_FILES+RAKE_FILES
-BINARY_FILES=["ext/antargis.so"]
-PKG_FILES=DATA_FILES+RUBY_FILES
-
-BOA_DESCRIPTION = <<EOF
-Battles of Antargis is a medieval-like realtime strategy game. 
-You are a hero who was betrayed and you have to unify the kingdom 
-and rebuild the old empire. Old myths will pass your way.
-Its gameplay is very similar to that of Powermonger.
-EOF
-
-def makeSpec(s)
-	if $CONFIG['target_os']=='windows'
-		s.platform = Gem::Platform::WIN32
-		s.name = 'antargis-win32'
-	else
-		s.platform = Gem::Platform::CURRENT
-		s.name = 'antargis-linux'
-	end
-	s.summary = "A real-time strategy game."
-	s.version = PKG_VERSION
-	s.requirements << 'none'
-	#s.require_path = 'lib'
-	s.require_paths << 'ext'
-	s.autorequire = 'rake'
-	s.files = PKG_FILES+BINARY_FILES
-	s.bindir="." #File.join("build","bin")
-	s.executables << "antargis"
-	s.description = BOA_DESCRIPTION
-end
-
-def makeSourceSpec(s)
-	makeSpec(s)
-	s.name = 'antargis'
-	s.extensions << 'ext/extconf.rb'
-	s.files=PKG_FILES+SOURCE_FILES
-	s.platform = Gem::Platform::RUBY
-end
-
-# make Linux-gem
-spec = Gem::Specification.new do |s|
-	makeSpec(s)
-end
-
-Rake::GemPackageTask.new(spec) do |pkg|
-	pkg.need_zip = true
-	pkg.need_tar = true
-end
-
-# make source-gem
-spec = Gem::Specification.new do |s|
-	makeSourceSpec(s)
-end
-
-Rake::GemPackageTask.new(spec) do |pkg|
-	pkg.need_zip = true
-	pkg.need_tar = true
-end
-
-# make windows gem
-
-
-# normal package
-
-if false
-Rake::PackageTask.new("antargis-plain-source", PKG_VERSION) do |p|
-  p.need_tar = true
-	p.package_files += PKG_FILES
-end
-
-Rake::PackageTask.new("antargis-unix-386-binary", PKG_VERSION) do |p|
-  p.need_tar = true
-#	pp p.package_files.methods
-#exit
-	p.package_files += PKG_FILES+BINARY_FILES
-end
-
-end
-
-
-
-# rspec
-Spec::Rake::SpecTask.new do |t|
-	t.spec_files = FileList['ruby/**/spec_*.rb']
-	t.warning = true
-	t.rcov = true
-	t.spec_opts=["--format html:spec_output.html"]
-end
-
-
-desc "Generate html documentation for c++-sources"
-task :doxygen=>[] do |t|
-      # run doxygen in here
-      `doxygen build/Doxyfile`
- end
- 
- 
- Rake::RDocTask.new do |rd|
-     rd.main = "README"
-     #rd.rdoc_files.include("README", "lib/**/*.rb")
-     rd.title="Battles\ of\ Antargis"
-     #rd.options << "--diagram"
-     rd.rdoc_dir="docs/ruby"
-     #if false
-       a=Dir["**/README"]+Dir["ruby/**/*.rb"] #+Dir["INSTALL"]+Dir["build/*.rb"]+Dir["configure"]+Dir["Rantfile"]
-             a=a.select{|f|not (f=~/_test/ or f=~/spec/)}
-        #     pp a
-             rd.rdoc_files.include(a)
-     #        t.opts = %w(--title Battles\ of\ Antargis --main README --diagram)+a
-             #t.dir = "docs/ruby"
-      #       end       
-   end
-    
-
-
-desc "Build all"
-task :default=>[:starterPrg,:library] do
-end
-
-task :all=>:default do
-end
\ No newline at end of file

Added: antargis/trunk/Rakefile
===================================================================
--- antargis/trunk/Rakefile	2008-03-17 15:29:28 UTC (rev 1235)
+++ antargis/trunk/Rakefile	2008-03-26 19:30:10 UTC (rev 1236)
@@ -0,0 +1,37 @@
+require File.join(File.split(__FILE__)[0],'rookey','tasks.rb')
+require 'spec/rake/spectask'
+
+# basic version
+
+#inits=Dir["ext/*/init.cc"].grep(/AG_Init_/).map{|f|"AG_Init_libantargis"+f.split("/")[1]}
+#pp inits
+#exit
+inits=[
+  "external",
+  "basic",
+  "math",
+  "video",
+  "sound",
+  "gui",
+  "3dengine",
+  "game"
+      ].map{|f|"AG_Init_libantargis"+f}
+lib=Rookey::ruby_ext("antargis",Dir["ext/*/*.cc"]+Dir["ext/*/*.c"]+Dir["ext/*/*.h"]+Dir["ext/*/templates.i"],inits)
+
+ts=Rookey::compile(Dir["main/starter.cc"])
+main=Rookey::link_exe("starter",ts)
+
+
+task :default=>[lib,main] do
+  puts "Done."
+end
+
+
+
+# rspec
+Spec::Rake::SpecTask.new(:spec=>:default) do |t|
+        t.spec_files = FileList['**/spec_*.rb']
+        t.warning = true
+        t.rcov = true
+        t.spec_opts=["--format html:spec_output.html"]
+end
\ No newline at end of file

Copied: antargis/trunk/Rakefile.old (from rev 1235, antargis/trunk/Rakefile)

Modified: antargis/trunk/ext/3dengine/ag_glsl.h
===================================================================
--- antargis/trunk/ext/3dengine/ag_glsl.h	2008-03-17 15:29:28 UTC (rev 1235)
+++ antargis/trunk/ext/3dengine/ag_glsl.h	2008-03-26 19:30:10 UTC (rev 1236)
@@ -21,7 +21,7 @@
 #ifndef AG_GLSL_H
 #define AG_GLSL_H
 
-#include "GLee.h"
+#include "ag_gl.h"
 //#include "renderer.h"
 #include "ag_tools.h"
 #include "ag_geometry.h"

Modified: antargis/trunk/ext/3dengine/ant_camera.h
===================================================================
--- antargis/trunk/ext/3dengine/ant_camera.h	2008-03-17 15:29:28 UTC (rev 1235)
+++ antargis/trunk/ext/3dengine/ant_camera.h	2008-03-26 19:30:10 UTC (rev 1236)
@@ -23,8 +23,7 @@
 
 // INCLUDE_SWIG - used to filter, which files are included in swig-interfacing
 
-#include <GLee.h>
-
+#include "ag_gl.h"
 #include <ant_frustum.h>
 #include <ant_projection.h>
 #include <ag_rubyobj.h>

Modified: antargis/trunk/ext/3dengine/ant_projection.h
===================================================================
--- antargis/trunk/ext/3dengine/ant_projection.h	2008-03-17 15:29:28 UTC (rev 1235)
+++ antargis/trunk/ext/3dengine/ant_projection.h	2008-03-26 19:30:10 UTC (rev 1236)
@@ -3,8 +3,7 @@
 
 // INCLUDE_SWIG - used to filter, which files are included in swig-interfacing
 
-#include <GLee.h>
-
+#include "ag_gl.h"
 #include <ant_frustum.h>
 
 struct AGEXPORT Viewport

Modified: antargis/trunk/ext/3dengine/ant_renderer.h
===================================================================
--- antargis/trunk/ext/3dengine/ant_renderer.h	2008-03-17 15:29:28 UTC (rev 1235)
+++ antargis/trunk/ext/3dengine/ant_renderer.h	2008-03-26 19:30:10 UTC (rev 1236)
@@ -1,7 +1,7 @@
 #ifndef __RENDERER_H
 #define __RENDERER_H
 
-#include "GLee.h"
+#include "ag_gl.h"
 
 class Scene;
 class AGFBO;

Modified: antargis/trunk/ext/3dengine/scene.cc
===================================================================
--- antargis/trunk/ext/3dengine/scene.cc	2008-03-17 15:29:28 UTC (rev 1235)
+++ antargis/trunk/ext/3dengine/scene.cc	2008-03-26 19:30:10 UTC (rev 1236)
@@ -41,9 +41,7 @@
     else
       mShadow=0;
 
-    mRubyObject=false;
     mEnabled=true;
-
   }
 
 

Modified: antargis/trunk/ext/3dengine/scene.h
===================================================================
--- antargis/trunk/ext/3dengine/scene.h	2008-03-17 15:29:28 UTC (rev 1235)
+++ antargis/trunk/ext/3dengine/scene.h	2008-03-26 19:30:10 UTC (rev 1236)
@@ -3,11 +3,9 @@
 
 // INCLUDE_SWIG - used to filter, which files are included in swig-interfacing
 
-#include "GLee.h"
 #include "ag_geometry.h"
-#include "ag_geometry.h"
 
-#include <SDL_opengl.h>
+#include "ag_gl.h"
 
 #include <vector>
 #include <set>

Modified: antargis/trunk/ext/3dengine/scenenode.cc
===================================================================
--- antargis/trunk/ext/3dengine/scenenode.cc	2008-03-17 15:29:28 UTC (rev 1235)
+++ antargis/trunk/ext/3dengine/scenenode.cc	2008-03-26 19:30:10 UTC (rev 1236)
@@ -5,9 +5,7 @@
 SceneNode::SceneNode(SceneBase *s,const AGVector4 &pPos,const AGBox3 &b):
   mPos(pPos),mBBox(b)
 {
-  //  std::cout<<"new scene-node: "<<this<<std::endl;
   assert(s);
-  mRubyObject=false;
   mScene=s;
   mVisible=true;
   mOrder=1;
@@ -18,14 +16,6 @@
 
 SceneNode::~SceneNode()
 {
-  //  std::cout<<"del scene-node: "<<this<<" scene:"<<mScene<<std::endl;
-  //  CTRACE;
-  //mRubyObject=false; // why was this here ??????
-
-  // typical calling is:
-  // scenenode is saveDeleted by AntEntity - so mScene should be 0
-
-  //  assert(mScene==0); // but not at program end - this is the reason this is commented
   if(mScene)
     mScene->removeNode(this);
 }

Modified: antargis/trunk/ext/basic/ag_debug.h
===================================================================
--- antargis/trunk/ext/basic/ag_debug.h	2008-03-17 15:29:28 UTC (rev 1235)
+++ antargis/trunk/ext/basic/ag_debug.h	2008-03-26 19:30:10 UTC (rev 1236)
@@ -27,9 +27,7 @@
 #include <sstream>
 #include <string>
 #include <vector>
-#include "GLee.h"
-#include <SDL_opengl.h>
-#include <GL/glu.h>
+#include "ag_gl.h"
 
 #include "ag_exception.h"
 #include "ag_tools.h"

Modified: antargis/trunk/ext/basic/ag_main.cc
===================================================================
--- antargis/trunk/ext/basic/ag_main.cc	2008-03-17 15:29:28 UTC (rev 1235)
+++ antargis/trunk/ext/basic/ag_main.cc	2008-03-26 19:30:10 UTC (rev 1236)
@@ -139,7 +139,10 @@
 
         // IMPORTANT:
         //   put it into a global variable - so that it won't get garbage collected
-        rb_eval_string("include Antargis;$agMain=getMain");
+        rb_eval_string("include Antargis");
+        //rb_eval_string("Antargis");
+        registered=(rb_eval_string("if Antargis.respond_to?(:getMain) \n $agMain=getMain\n puts $agMain\n true \n else \n false \nend")==Qtrue);
+        cdebug("registered:"<<registered);
       }
 
 

Modified: antargis/trunk/ext/basic/ag_rubyobj.cc
===================================================================
--- antargis/trunk/ext/basic/ag_rubyobj.cc	2008-03-17 15:29:28 UTC (rev 1235)
+++ antargis/trunk/ext/basic/ag_rubyobj.cc	2008-03-26 19:30:10 UTC (rev 1236)
@@ -4,6 +4,7 @@
 #include <assert.h>
 #include <typeinfo>
 #include <set>
+#include <map>
 #include <iostream>
 
 
@@ -14,7 +15,7 @@
 
 #include <ag_main.h>
 
-std::set<AGRubyObject*> gExistingRubies;
+VALUE convertCpp2Ruby(AGRubyObject *cObject);
 
 AGEXPORT void *getAddressOfRubyObject(AGRubyObject *o)
   {
@@ -23,36 +24,17 @@
 
 AGEXPORT bool rubyObjectExists(void *po)
   {
-    AGRubyObject *o=reinterpret_cast<AGRubyObject*>(po);
-    return gExistingRubies.find(o)!=gExistingRubies.end();
+    VALUE v=convertCpp2Ruby((AGRubyObject*)po);
+    return(v!=Qnil);
   }
 
 AGRubyObject::AGRubyObject()
   {
-    mRubyObject=false;
-    mDeleted=false;
-    gExistingRubies.insert(this);
-    mRUBY=0;
-#ifdef GCDEBUG
-    printf("NEW ME:%lx\n",this);
-#endif
-    //  cdebug("existing rubies:"<<gExistingRubies.size());
-
   }
 AGRubyObject::~AGRubyObject()
   {
     for(std::set<AGBaseObject*>::iterator i=mReferences.begin();i!=mReferences.end();i++)
       (*i)->baseClear();
-
-
-    //  cdebug("DEL:"<<mRUBY);
-#ifdef GCDEBUG
-    printf("DEL:%lx  %s (me:%lx)\n",mRUBY,mObjName.c_str(),this);
-#endif
-    mDeleted=true;
-    gExistingRubies.erase(this);
-    //  cdebug("existing rubies:"<<gExistingRubies.size());
-    //  cdebug("DEL:"<<mRUBY);
   }
 
 
@@ -61,30 +43,17 @@
   {
   }
 
+
 // call this function with any object you want to mark.
 void AGRubyObject::markObject(AGRubyObject *o, bool recursive)
   {
- //   CTRACE;
+    VALUE v=convertCpp2Ruby(o);
+    if(v!=Qnil)
+      rb_gc_mark(v);
+    
     assert(o);
-//    cdebug("o:"<<o);
-
-#ifdef GCDEBUG
-    printf("marking : %lx\n",o);
-    assert(gExistingRubies.find(o)!=gExistingRubies.end());
-#endif
-
-    if(o->mRubyObject)
-      {
-#ifdef GCDEBUG
-        printf("marking ruby : %lx\n",o->mRUBY);
-#endif
-        rb_gc_mark(o->mRUBY);
-      }
     if(recursive)
       o->mark(); // call this directly
-#ifdef GCDEBUG
-    printf("endmarking : %lx\n",o);
-#endif
   }
 
 void AGRubyObject::clear()
@@ -143,22 +112,15 @@
     if(hasQuit())
       return false; // we are quitting - so memory is discarded anyway - hopefully ;-)
 
+    VALUE v=convertCpp2Ruby(o);
+    if(v!=Qnil)
+      return false; // do not delete - it's under ruby's control!
+
+    
     assert(o);
-    if(gExistingRubies.find(o)==gExistingRubies.end())
-      {
-#ifdef GCDEBUG
-        cdebug("already deleted!");
-#endif
-        return false; // already deleted
-      }
-    assert(!o->mDeleted);
     o->clear();
-    if(!o->mRubyObject)
-      {
-        delete o;
-        return true;
-      }
-    return false;
+    delete o;
+    return true;
   }
 
 

Modified: antargis/trunk/ext/basic/ag_rubyobj.h
===================================================================
--- antargis/trunk/ext/basic/ag_rubyobj.h	2008-03-17 15:29:28 UTC (rev 1235)
+++ antargis/trunk/ext/basic/ag_rubyobj.h	2008-03-26 19:30:10 UTC (rev 1236)
@@ -100,12 +100,6 @@
 #endif
 public:
 #ifndef SWIG
-  bool mRubyObject;
-  VALUE mRUBY;
-  bool mDeleted;
-#ifdef GCDEBUG
-  std::string mObjName;
-#endif
 
 #endif
   friend void general_markfunc(void *ptr);

Modified: antargis/trunk/ext/basic/ag_xml.cc
===================================================================
--- antargis/trunk/ext/basic/ag_xml.cc	2008-03-17 15:29:28 UTC (rev 1235)
+++ antargis/trunk/ext/basic/ag_xml.cc	2008-03-26 19:30:10 UTC (rev 1236)
@@ -362,7 +362,7 @@
 bool Document::parseFile(const AGString &filename)
   {
     AGString s;
-    s=loadFile(file);
+    s=loadFile(filename);
 
     parseMemory(s);
     return true;

Modified: antargis/trunk/ext/game/entity.cc
===================================================================
--- antargis/trunk/ext/game/entity.cc	2008-03-17 15:29:28 UTC (rev 1235)
+++ antargis/trunk/ext/game/entity.cc	2008-03-26 19:30:10 UTC (rev 1236)
@@ -30,25 +30,9 @@
   assert(mMap);
   init();
 }
-/*
-AntEntity::AntEntity(const AGVector3 &p):mPos(p)
-{
-  init();
-}
-AntEntity::AntEntity(const AGVector2 &p):mPos(getMap()->getPos(p))
-{
-  init();
-}
 
-AntEntity::AntEntity():mPos(0,0,0)
-{
-  init();
-  }*/
-
 void AntEntity::init()
   {
-    mRubyObject=false;
-
     mID=getMap()->getNewID();
 
     mShowOnMinimap=false;

Modified: antargis/trunk/ext/game/map.cc
===================================================================
--- antargis/trunk/ext/game/map.cc	2008-03-17 15:29:28 UTC (rev 1235)
+++ antargis/trunk/ext/game/map.cc	2008-03-26 19:30:10 UTC (rev 1236)
@@ -56,7 +56,6 @@
 AntMap::~AntMap()
   {
     CTRACE;
-    printf("%lX\n",mRUBY);
     if(myAntargisMap==this)
       myAntargisMap=0;
   }

Modified: antargis/trunk/ext/game/templates.i
===================================================================
--- antargis/trunk/ext/game/templates.i	2008-03-17 15:29:28 UTC (rev 1235)
+++ antargis/trunk/ext/game/templates.i	2008-03-26 19:30:10 UTC (rev 1236)
@@ -1,3 +1,4 @@
+/*
 %{
 PAntEntity SWIG_RB2AntEntity(VALUE x) {
 	PAntEntity e=0;
@@ -19,6 +20,7 @@
 	specialize_std_vector(PAntEntity,SWIG_ANTENTITY_P,SWIG_RB2AntEntity,SWIG_AntEntity2RB);
 	specialize_std_list(PAntEntity,SWIG_ANTENTITY_P,SWIG_RB2AntEntity,SWIG_AntEntity2RB);
 }
+*/
 
 
 //%template(EntityPVector2) std::vector<PAntEntity>;

Modified: antargis/trunk/ext/gui/ag_application.cc
===================================================================
--- antargis/trunk/ext/gui/ag_application.cc	2008-03-17 15:29:28 UTC (rev 1235)
+++ antargis/trunk/ext/gui/ag_application.cc	2008-03-26 19:30:10 UTC (rev 1236)
@@ -92,7 +92,9 @@
  * \brief the main-loop of each application
  *
  * Each program has one or more application-objects.
- * An application normally represents a single UI-screen. So it has
+ * An application normally represents a single UI-screen. So it has (FIXME)
+ * 
+ * FIXME: redesign this!
  */
 
 bool AGApplication::run() 
@@ -181,7 +183,7 @@
             if(mainWidget)
               mainWidget->sigTick(t);
 
-            dbout(2,"frame events:"<<t);
+//            dbout(2,"frame events:"<<t);
             eventPrepareFrame(t);
 
             eventFrame(t);
@@ -347,7 +349,6 @@
 
 void AGApplication::draw()
   {
-    CTRACE;
     if(delCue.size()>0)
       {
         for(std::list<AGWidget*>::iterator i=delCue.begin();i!=delCue.end();i++)
@@ -459,6 +460,7 @@
 
 bool AGApplication::eventKeyDown(AGEvent *m)
   {
+    CTRACE;
     if(m->isSDLEvent())
       {
         SDLKey k=m->getKey();

Modified: antargis/trunk/ext/gui/ag_widget.cc
===================================================================
--- antargis/trunk/ext/gui/ag_widget.cc	2008-03-17 15:29:28 UTC (rev 1235)
+++ antargis/trunk/ext/gui/ag_widget.cc	2008-03-26 19:30:10 UTC (rev 1236)
@@ -96,7 +96,6 @@
       mCache=0;
       mCacheTouched=false;
       mTooltipWidget=0;
-      mRubyObject=false;
       mModal=false;
       if(getAllWidgets())
         getAllWidgets()->insert(this);
@@ -181,11 +180,7 @@
           std::list<AGWidget*>::iterator i=mToClear.begin();
           for(;i!=mToClear.end();i++)
             {
-              if(!(*i)->mRubyObject) // don't delete ruby-objects - they get deleted by garbage collection
-                {
-                  dbout(5000,"type:"<<typeid(**i).name());
-                  delete *i;
-                }
+              saveDelete(*i);
             }
           mToClear.clear();
         }

Modified: antargis/trunk/ext/math/init.cc
===================================================================
--- antargis/trunk/ext/math/init.cc	2008-03-17 15:29:28 UTC (rev 1235)
+++ antargis/trunk/ext/math/init.cc	2008-03-26 19:30:10 UTC (rev 1236)
@@ -6,5 +6,9 @@
 void AGEXPORT AG_Init_libantargismath()
   {
     TRACE;
-    getMain()->setRand(new AGRandomizer(""));
+    AGRandomizer *r=new AGRandomizer("");
+    cdebug("r:"<<r);
+    AGMain *main=getMain();
+    cdebug("main:"<<main);
+    main->setRand(r);
   }

Added: antargis/trunk/ext/video/ag_gl.h
===================================================================
--- antargis/trunk/ext/video/ag_gl.h	2008-03-17 15:29:28 UTC (rev 1235)
+++ antargis/trunk/ext/video/ag_gl.h	2008-03-26 19:30:10 UTC (rev 1236)
@@ -0,0 +1,14 @@
+#ifndef AG_GL_H
+#define AG_GL_H
+
+#include <GLee.h>
+
+// patch for mac os
+#ifdef GL_GLEXT_VERSION
+#undef GL_GLEXT_VERSION
+#endif
+
+#include <SDL_opengl.h>
+#include <GL/glu.h>
+
+#endif


Property changes on: antargis/trunk/ext/video/ag_gl.h
___________________________________________________________________
Name: svn:mime-type
   + text/plain

Modified: antargis/trunk/ext/video/ag_glscreen.cc
===================================================================
--- antargis/trunk/ext/video/ag_glscreen.cc	2008-03-17 15:29:28 UTC (rev 1235)
+++ antargis/trunk/ext/video/ag_glscreen.cc	2008-03-26 19:30:10 UTC (rev 1236)
@@ -17,9 +17,7 @@
  * You should have received a copy of the GNU General Public
  * License along with this program.
  */
-#include "GLee.h"
 
-#include <SDL_opengl.h>
 #include "ag_glscreen.h"
 #include "ag_color.h"
 #include "ag_debug.h"

Modified: antargis/trunk/ext/video/ag_glscreen.h
===================================================================
--- antargis/trunk/ext/video/ag_glscreen.h	2008-03-17 15:29:28 UTC (rev 1235)
+++ antargis/trunk/ext/video/ag_glscreen.h	2008-03-26 19:30:10 UTC (rev 1236)
@@ -27,7 +27,7 @@
 #include <SDL.h>
 #include "ag_geometry.h"
 #include "ag_screen.h"
-#include <GL/gl.h>
+#include "ag_gl.h"
 
 #define NEW_TEXTURES
 

Modified: antargis/trunk/ext/video/ag_surface.h
===================================================================
--- antargis/trunk/ext/video/ag_surface.h	2008-03-17 15:29:28 UTC (rev 1235)
+++ antargis/trunk/ext/video/ag_surface.h	2008-03-26 19:30:10 UTC (rev 1236)
@@ -27,9 +27,7 @@
 #include <set>
 #include <list>
 #include <SDL.h>
-#include <GLee.h>
-#include <SDL_opengl.h>
-#include <GL/glu.h>
+#include "ag_gl.h"
 #include "ag_geometry.h"
 #include "ag_painttarget.h"
 #include "ag_gltexture.h"

Modified: antargis/trunk/main/starter.cc
===================================================================
--- antargis/trunk/main/starter.cc	2008-03-17 15:29:28 UTC (rev 1235)
+++ antargis/trunk/main/starter.cc	2008-03-26 19:30:10 UTC (rev 1236)
@@ -3,14 +3,14 @@
 #include <ruby.h>
 #include <iostream>
 
-extern "C" void Init_antargis();
+//extern "C" void Init_antargis();
 
 int main(int argc,char*argv[])
   {
     ruby_init();
     //rb_load_file("antargis");
     std::cout<<"Init_antargis out of starter..."<<std::endl;
-    Init_antargis();
+    //Init_antargis();
     std::cout<<"Init_antargis out of starter-ready"<<std::endl;
     std::cout<<"Init_antargis out of starter-ready"<<std::endl;
     ruby_options(argc,argv);

Added: antargis/trunk/rookey/README
===================================================================
--- antargis/trunk/rookey/README	2008-03-17 15:29:28 UTC (rev 1235)
+++ antargis/trunk/rookey/README	2008-03-26 19:30:10 UTC (rev 1236)
@@ -0,0 +1,18 @@
+== Overview
+Rookey is a simplified build-system in the manner of the autotools based on rake.
+It should make things much easier for c++-developers wanting to create ruby-extensions.
+
+It uses swig for creation of the wrapping-code, but tries to handle the complicated
+configuration itself, so you shouldn't have to care about it too much.
+
+You're however free to hack beside it.
+
+It handles the following things for you:
+* dependencies of c++ and header files
+* dependencies of swig-interface-files (.i), headerfiles and their derivants
+* creation of the swig-interface-files
+* directors and dynamic_casts are created automatically for children of AGRubyObject
+* marking is simplified, so that you only have to override the "mark()"-method and call markObject(.) for each object that you want to mark (for all AGRubyObject-derived classes)
+* Rookey takes care of the class-hierarchy and includes header-files in the correct order
+
+Rookey is handled by a rake-alike syntax. Module Rookey describes how to use it.
\ No newline at end of file

Added: antargis/trunk/rookey/Rakefile
===================================================================
--- antargis/trunk/rookey/Rakefile	2008-03-17 15:29:28 UTC (rev 1235)
+++ antargis/trunk/rookey/Rakefile	2008-03-26 19:30:10 UTC (rev 1236)
@@ -0,0 +1,14 @@
+require 'rake/rdoctask.rb'
+require 'spec/rake/spectask'
+
+
+Rake::RDocTask.new do |rd|
+	 rd.main = "README"
+	 rd.title="Rookey (Part of Battles of Antargis)"
+	 #rd.options << "--diagram"
+	 rd.rdoc_dir="docs/ruby"
+	 a=Dir["**/README"]+Dir["**/*.rb"]
+	 a=a.select{|f|not (f=~/_test/ or f=~/spec/)}
+	 rd.rdoc_files.include(a)
+end
+ 

Added: antargis/trunk/rookey/antargis
===================================================================
(Binary files differ)


Property changes on: antargis/trunk/rookey/antargis
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: antargis/trunk/rookey/antargis.bundle
===================================================================
(Binary files differ)


Property changes on: antargis/trunk/rookey/antargis.bundle
___________________________________________________________________
Name: svn:mime-type
   + application/octet-stream

Added: antargis/trunk/rookey/compile.rb
===================================================================
--- antargis/trunk/rookey/compile.rb	2008-03-17 15:29:28 UTC (rev 1235)
+++ antargis/trunk/rookey/compile.rb	2008-03-26 19:30:10 UTC (rev 1236)
@@ -0,0 +1,156 @@
+module Rookey
+  class Compiler
+    def initialize(config)
+      @config=config
+    end
+  
+	  def Compiler.getDeps(t)
+	    # FIXME
+	    
+	    parseDepsFiles
+      
+      return t unless @@deps
+      p=File.join(Compiler.getDepsDir,t)
+	    return @@deps[p] if @@deps[p]
+      t
+	  end
+  
+	  def compile(target,sources)
+	    source=makeSource(target)
+	    
+      # FIXME check for c/c++
+      
+	    program=getCompiler(:cpp)
+
+	    
+	    options=[]
+	
+	    options << @config["CFLAGS"]
+	    
+	    includeDirs = @config["INCLUDEDIRS"].split(" ")
+	    includes=includeDirs.map{|d|"-I"+d}
+	    options+=includes
+	    
+	    options << "-c "+File.expand_path(source)
+	    options << "-o "+target
+      
+      
+      depfile=File.join(Compiler.getDepsDir,source)
+      depdir=File.split(depfile)[0]
+      Rookey.mkdir(depdir)
+      
+      outdir=File.split(target)[0]      
+      Rookey.mkdir(outdir)
+
+      options << "-Wp,-MD,#{depfile}"
+	            
+	    call=program+" "+options.join(" ")
+	    sh call
+      puts
+	  
+	  end
+    
+    def linkEXE(name,objects)
+      program=getCompiler(:cpp)
+      options=[]
+      options << "-o "+name
+      options += objects.uniq
+      options << @config["LDFLAGS"] 
+      call=program+" "+options.join(" ")
+      sh call
+      puts
+    end
+      
+	  
+	  def linkDLL(t)
+	    programcall=getCompiler(:cpp)+" " + at config["LDSHAREDFLAGS"]
+      
+      options=[]
+      
+      options << "-o "+t.name
+      options += t.prerequisites
+      options << @config["LDFLAGS"] 
+      options << @config["LIBS"]
+      options << @config["LIBRUBYARG"] 
+      call=programcall+" "+options.join(" ")
+      sh call
+      puts
+	  end
+	  def linkSO(t)
+	  end
+	  def linkA(t)
+	  end
+	  
+	  def dllName(base)
+	    base+"."+ at config["DLEXT"]
+	  end
+	  
+    def exeName(base)
+      if @config["host_os"]=~/win/ and not @config["host_os"]=~/darwin/
+        base+".exe"
+      else
+        base
+      end
+    end
+    
+    # FIXME: include build-dirs
+	  def makeObject(sourceName)
+	    file=File.join(getBuildDir,sourceName+".o")
+      dir=File.split(file)[0]
+      begin
+#        pp @config
+#        pp "DIR:",dir
+        #if dir
+        Rookey.mkdir(dir) if dir.length>0
+      rescue Object
+        pp $!
+      end
+      file
+	  end
+	  
+	  def makeSource(objectName)
+	    objectName.sub(/\.o$/,"").sub(/^#{getBuildDir}[\/\\]/,"")
+	  end
+	  
+	  def getBuildDir
+	    File.join(Dir.pwd,".build_"+ at config["host_os"])
+	  end
+    def Compiler.getDepsDir
+      File.join(Dir.pwd,".deps")
+    end
+        
+    private
+    def getCompiler(type)
+       #FiXME
+       compiler= case type
+        when :cpp
+          "g++"
+        when :c
+          "gcc"
+        else
+          raise "Unknown compiler type #{type}"
+      end
+      ccache=@config["CCACHE"]
+      compiler=ccache+" "+compiler if ccache
+      compiler
+    end
+    
+    @@deps=nil
+    def Compiler.parseDepsFiles
+      return @@deps if @@deps
+            
+      files=Dir[File.join(getDepsDir,"**","*")]
+      @@deps={}
+      files.each{|file|
+        unless File.directory?(file)
+	        fd=File.open(file)
+	        
+	        @@deps[file]=fd.read.gsub("\\\n","").split(" ")[1..-1]
+	        fd.close
+        end
+      }
+    end
+  end
+  
+  
+end
\ No newline at end of file

Added: antargis/trunk/rookey/config_generator.rb
===================================================================
--- antargis/trunk/rookey/config_generator.rb	2008-03-17 15:29:28 UTC (rev 1235)
+++ antargis/trunk/rookey/config_generator.rb	2008-03-26 19:30:10 UTC (rev 1236)
@@ -0,0 +1,149 @@
+
+class Class
+  def provides(s=nil)
+    @provides||=[]
+    @provides << s if s
+    @provides
+  end
+  def needs(s=nil)
+    @needs||=[]
+    @needs << s if s
+    @needs
+  end     
+end
+
+module Rookey
+  
+  # Rookeys Config-hash. 
+  class Config
+    def initialize(hash={})
+      @hash=hash
+    end
+    def [](name)
+      @hash[name]||""
+    end
+    def []=(name,value)
+      @hash[name]=value
+    end
+    def add(name,value)
+      @hash[name]||=""
+      @hash[name]+=" "+value
+    end
+  end
+  
+  CONFIG_FILENAME="antconfig.rb"
+  
+  @@config=nil
+  
+  def Rookey.getConfig
+    if @@config.nil?
+      if File.exists?(Rookey::CONFIG_FILENAME)
+        load Rookey::CONFIG_FILENAME
+	    else 
+	      runConfigure
+        hibe(@@config,Rookey::CONFIG_FILENAME)
+	    end
+      CLEAN << Rookey::CONFIG_FILENAME
+    end
+    @@config
+  end 
+  
+  # stores a dumpable ruby-object *what* into a file named *filename*
+  def Rookey.hibe(what,filename)
+    content=Marshal.dump(what).gsub("\"","\\\"")
+    File.open(filename,"w") do |f|
+      f.puts <<EOT
+module Rookey
+  @@config=Marshal.load("#{content}")
+end
+EOT
+    end
+  end
+  
+  class Configurator
+    def initialize
+    end
+    def run(config)
+    end
+    
+    def searchProgram(program)
+      programs=[program].flatten
+      programs.each{|program|
+	      getPath.each{|dir|
+	        p=File.join(dir,program)
+	        if File.exists?(p)
+	          return p
+	        end
+	      }
+      }
+      nil
+    end
+    def checkProgram(program)      
+    end
+    def checkLibrary(config,lib,funcname)
+      source="extern \"C\" void #{funcname}();int main(){return 0;}"
+      testSource="test.c"
+      fd=File.open(testSource,"w")
+      fd.puts source
+      fd.close
+      compiler=Compiler.new(config)
+      target=compiler.makeObject(testSource)
+      compiler.compile(target,testSource)
+      libadd="-l#{lib}"
+      exeName=compiler.exeName("test")
+      compiler.linkEXE(exeName,[target,libadd])
+      `#{exeName}`
+      if $?
+        config.add("LDFLAGS",libadd)
+      end
+    end
+    private
+    def getPath
+      p=ENV["PATH"]
+      if File.join("a","b")=~/\\/
+        p.split(";")
+      else
+        p.split(":")
+      end
+    end
+  end
+  
+  Dir[File.join(File.split(__FILE__)[0],"configs","*.rb")].each{|file|
+    require file
+  }
+  
+  def Rookey.log(*s)
+    puts(*s)
+  end
+  
+ 
+  # 
+  def Rookey.getDescendantsOfClass(p)
+    c=[]
+    ObjectSpace.each_object(Class){|a|c.push(a) if a.ancestors.member?(p)}
+    return c
+  end
+  
+  
+  def Rookey.runConfigure
+    configurators=getDescendantsOfClass(Configurator)
+    ok=[]
+    run=[]
+    config=Config.new
+    while run.length<configurators.length
+	    configurators.each{|c|
+	      unless run.member?(c)
+		      if c.needs.select{|s|not ok.member?(s)}.length == 0
+		        log "Running congurator #{c}"
+		        c.new.run(config)
+		        ok+=c.provides
+		        ok.uniq!
+		        run << c
+		      end
+	      end
+	    }
+    end
+    puts
+    @@config=config
+  end
+end
\ No newline at end of file

Added: antargis/trunk/rookey/configs/ccache.rb
===================================================================
--- antargis/trunk/rookey/configs/ccache.rb	2008-03-17 15:29:28 UTC (rev 1235)
+++ antargis/trunk/rookey/configs/ccache.rb	2008-03-26 19:30:10 UTC (rev 1236)
@@ -0,0 +1,13 @@
+module Rookey
+  class CcacheConfig<Configurator
+    provides :compilerAddon
+    needs :compiler
+    
+    def run(config)
+      ccache=searchProgram("ccache")
+      if ccache
+        config["CCACHE"]=ccache
+      end
+    end
+  end
+end
\ No newline at end of file

Added: antargis/trunk/rookey/configs/debug.rb
===================================================================
--- antargis/trunk/rookey/configs/debug.rb	2008-03-17 15:29:28 UTC (rev 1235)
+++ antargis/trunk/rookey/configs/debug.rb	2008-03-26 19:30:10 UTC (rev 1236)
@@ -0,0 +1,10 @@
+module Rookey
+  class DebugConfig<Configurator
+    needs :compiler
+    
+    def run(config)
+      config.add("CFLAGS","-O0 -g")
+      config.add("LDFLAGS","-g")
+    end
+  end
+end
\ No newline at end of file

Added: antargis/trunk/rookey/configs/gl.rb
===================================================================
--- antargis/trunk/rookey/configs/gl.rb	2008-03-17 15:29:28 UTC (rev 1235)
+++ antargis/trunk/rookey/configs/gl.rb	2008-03-26 19:30:10 UTC (rev 1236)
@@ -0,0 +1,15 @@
+require 'mkmf'
+require File.join(File.split(__FILE__)[0],"ruby.rb")
+
+module Rookey
+  class GLConfig<RubyConfig
+    provides :opengl
+    
+    def run(config)
+      case get("host_os")
+        when /darwin/
+          config.add("INCLUDEDIRS","/usr/X11/include")        
+      end      
+    end   
+  end 
+end
\ No newline at end of file

Added: antargis/trunk/rookey/configs/ruby.rb
===================================================================
--- antargis/trunk/rookey/configs/ruby.rb	2008-03-17 15:29:28 UTC (rev 1235)
+++ antargis/trunk/rookey/configs/ruby.rb	2008-03-26 19:30:10 UTC (rev 1236)
@@ -0,0 +1,30 @@
+require 'mkmf'
+
+module Rookey
+  class RubyConfig<Configurator
+    provides :compiler
+    
+    def run(config)
+      config.add("INCLUDEDIRS",get("archdir")+" "+get("includedir"))
+      config.add("CFLAGS",get("CFLAGS"))
+      config.add("LDFLAGS",get("LIBS"))
+      config.add("LDFLAGS",get("LIBRUBYARG"))
+      config.add("LDSHAREDFLAGS",get("LDSHARED").sub(/^[^ ]+ /,""))
+      config["DLEXT"]=get("DLEXT")
+      config["host_os"]=get("host_os")      
+    end
+    
+  private
+    # recurse through ruby's CONFIG structure 
+    def get(n)
+      return "" if n.nil?
+      v=CONFIG[n]
+      return "" if v.nil?
+      v.gsub(/\$\(([^)]*\))/) {|a|
+        f=a[2..-2]
+        get(f)
+      }      
+    end
+    
+  end
+end
\ No newline at end of file

Added: antargis/trunk/rookey/configs/sdl.rb
===================================================================
--- antargis/trunk/rookey/configs/sdl.rb	2008-03-17 15:29:28 UTC (rev 1235)
+++ antargis/trunk/rookey/configs/sdl.rb	2008-03-26 19:30:10 UTC (rev 1236)
@@ -0,0 +1,21 @@
+module Rookey
+  class SDLConfig<Configurator
+    provides :sdl
+    needs :compiler
+    
+    def run(config)
+      # FIXME
+      sdlconfig="sdl-config"
+      
+      cflags=`#{sdlconfig} --cflags`.chomp
+      config.add("CFLAGS",cflags.split(" ").select{|f|not f=~/^-I/}.join(" "))
+      config.add("INCLUDEDIRS",cflags.split(" ").select{|f|f=~/^-I/}.map{|f|f[2..-1]}.join(" "))
+      config.add("LDFLAGS",`sdl-config --libs`.chomp)
+      
+      
+      checkLibrary(config,"SDL_image","IMG_Load")
+      checkLibrary(config,"SDL_ttf","TTF_Quit")
+      checkLibrary(config,"SDL_mixer","Mix_LoadMus")
+    end
+  end
+end
\ No newline at end of file

Added: antargis/trunk/rookey/configs/swig.rb
===================================================================
--- antargis/trunk/rookey/configs/swig.rb	2008-03-17 15:29:28 UTC (rev 1235)
+++ antargis/trunk/rookey/configs/swig.rb	2008-03-26 19:30:10 UTC (rev 1236)
@@ -0,0 +1,11 @@
+module Rookey
+  class SwigConfig<Configurator
+    provides :swig
+    
+    def run(config)
+      # FIXME: search program
+      config.add("SWIG_OPTIONS","-Wall -DAGEXPORT")
+    end
+    
+  end
+end
\ No newline at end of file

Added: antargis/trunk/rookey/cpp_hierarchy_parser.rb
===================================================================
--- antargis/trunk/rookey/cpp_hierarchy_parser.rb	2008-03-17 15:29:28 UTC (rev 1235)
+++ antargis/trunk/rookey/cpp_hierarchy_parser.rb	2008-03-26 19:30:10 UTC (rev 1236)
@@ -0,0 +1,152 @@
+require 'ostruct'
+
+module Rookey
+  
+  def Rookey.getRubyClasses(classes)
+    cs=[classes.select{|c|c.name=="AGRubyObject"}[0]]
+    begin
+      s=cs.length
+      cs=[cs+cs.map{|c|c.children}].flatten.uniq
+    end while s!=cs.length
+    cs
+  end
+  
+  def Rookey.getOrderedCppHeaders(classes)
+    map={}
+    order={}
+    
+    allClasses=classes.dup
+    classes=getRubyClasses(classes)
+    
+    classes.each{|c|
+      map[c.name.to_s]=c
+    }
+    classes.each{|c|
+      order[c.name]=0 if map[c.parent.to_s].nil? 
+    }
+    oneNotSet=false
+    maxNumber=0
+    begin
+      oneNotSet=false
+      classes.each{|c|
+        if order[c.name].nil?
+          if order[c.parent].nil?
+            oneNotSet=true
+          else
+            order[c.name]=order[c.parent]+1
+            maxNumber=[maxNumber,order[c.name]].max
+          end
+        end
+      }
+    end while oneNotSet
+    #puts "MAX:",maxNumber
+    cs=[]
+    (0..maxNumber).each{|i|
+      order.each{|k,v|
+        if v==i
+          cs << map[k]
+        end
+      }
+    }
+    pp order
+    allFiles=allClasses.map{|c|c.header_file}.uniq
+    result=classes.sort{|a,b|order[a.name]<=>order[b.name]}.map{|c|c.header_file}.uniq
+    result=result+(allFiles-result)
+    pp result
+    result
+    #cs.map{|c|c.header_file}.uniq
+  end
+  
+  
+  class CppHierarchyParser
+    CppClass=Struct.new(:name,:parent,:header_file,:children)
+	  
+    
+    def initialize(files)
+      @cppClasses=[]
+      parseFiles(files)
+      processDerivations
+    end
+	
+	  def getAllClasses
+	    @cppClasses
+	  end
+    
+    def getAllRubyClasses
+      clist=["AGRubyObject"]
+      while true
+        oldLength=clist.length
+        @cppClasses.each{|c|
+          if clist.member?(c.parent)
+            clist=(clist+[c]).uniq
+          end
+        }
+        break unless oldLength!=clist.length
+      end
+      clist
+    end
+    
+    # returns array of (subclass,superclass)
+    def getAllDerivations
+      @cppClasses.select{|c|c.parent}.map{|c|[c.name,c.parent]}
+    end
+    
+	  
+  private
+    
+    
+    def processDerivations
+      m={}
+      @cppClasses.each{|c|m[c.name]=c}
+      @cppClasses.each{|c|
+        if c.parent
+          if m[c.parent].nil? 
+            puts "parent unknown #{c.parent}"
+          else 
+	          m[c.parent].children << c
+          end
+        end
+      }
+    end
+    
+	  def parseFiles(files)
+		  class2File={}
+		  deriveList={} # x=>y :x is child of y
+		  allClasses=[]
+		
+		  files.each{|fn|
+		    file=File.open(fn)
+		    cn=""
+		    content=file.read.gsub(/\/\*([^*]|\*[^\/])*\*\//,"") # /*...*/ delete comments - FIXME: // comments will be ignored!!!
+		
+		    content.split("\n").each{|a|
+		      abak=a
+		      a.gsub!("AGEXPORT","")
+		      a.gsub!("EXPORT","")
+		      
+		      if a =~ /^ *class.*/ then
+		        cn=a.gsub(/ *class /,"").gsub(/:.*/,"").gsub("\n","").gsub(" ","")
+		        allClasses << cn.gsub(";","")
+		        if cn=~/^[A-Z].*/
+		          if a=~ /.*public.*/ then
+		            pn=a.gsub(/.*public /,"").gsub("\n","")
+	              @cppClasses << CppClass.new(cn,pn,fn,[])
+		            allClasses << pn
+		            deriveList[cn]=pn
+		            class2File[cn]=fn
+		          elsif not a=~/;/ then
+		            @cppClasses << CppClass.new(cn,nil,fn,[])
+		            deriveList[cn]=nil
+		            class2File[cn]=fn
+		          end
+		        end
+		      end
+		    
+		    }
+		  }
+		  classList = class2File.keys
+		  allClasses = allClasses.sort.uniq
+		end  
+  end
+
+end
\ No newline at end of file

Added: antargis/trunk/rookey/docs/ruby/classes/Array.html
===================================================================
--- antargis/trunk/rookey/docs/ruby/classes/Array.html	2008-03-17 15:29:28 UTC (rev 1235)
+++ antargis/trunk/rookey/docs/ruby/classes/Array.html	2008-03-26 19:30:10 UTC (rev 1236)
@@ -0,0 +1,148 @@
+<?xml version="1.0" encoding="iso-8859-1"?>
+<!DOCTYPE html 
+     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
+     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
+
+<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
+<head>
+  <title>Class: Array</title>
+  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
+  <meta http-equiv="Content-Script-Type" content="text/javascript" />
+  <link rel="stylesheet" href=".././rdoc-style.css" type="text/css" media="screen" />
+  <script type="text/javascript">
+  // <![CDATA[
+
+  function popupCode( url ) {
+    window.open(url, "Code", "resizable=yes,scrollbars=yes,toolbar=no,status=no,height=150,width=400")
+  }
+
+  function toggleCode( id ) {
+    if ( document.getElementById )
+      elem = document.getElementById( id );
+    else if ( document.all )
+      elem = eval( "document.all." + id );
+    else
+      return false;
+
+    elemStyle = elem.style;
+    
+    if ( elemStyle.display != "block" ) {
+      elemStyle.display = "block"
+    } else {
+      elemStyle.display = "none"
+    }
+
+    return true;
+  }
+  
+  // Make codeblocks hidden by default
+  document.writeln( "<style type=\"text/css\">div.method-source-code { display: none }</style>" )
+  
+  // ]]>
+  </script>
+
+</head>
+<body>
+
+
+
+    <div id="classHeader">
+        <table class="header-table">
+        <tr class="top-aligned-row">
+          <td><strong>Class</strong></td>
+          <td class="class-name-in-header">Array</td>
+        </tr>
+        <tr class="top-aligned-row">
+            <td><strong>In:</strong></td>
+            <td>
+                <a href="../files/tools_rb.html">
+                tools.rb
+                </a>
+        <br />
+            </td>
+        </tr>
+
+        <tr class="top-aligned-row">
+            <td><strong>Parent:</strong></td>
+            <td>
+                Object
+            </td>
+        </tr>
+        </table>
+    </div>
+  <!-- banner header -->
+
+  <div id="bodyContent">
+
+
+
+  <div id="contextContent">
+
+
+
+   </div>
+
+    <div id="method-list">
+      <h3 class="section-bar">Methods</h3>
+
+      <div class="name-list">
+      <a href="#M000001">grep</a>&nbsp;&nbsp;
+      </div>
+    </div>
+
+  </div>
+
+
+    <!-- if includes -->
+
+    <div id="section">
+
+
+
+
+
+      
+
+
+    <!-- if method_list -->
+    <div id="methods">
+      <h3 class="section-bar">Public Instance methods</h3>
+
+      <div id="method-M000001" class="method-detail">
+        <a name="M000001"></a>
+
+        <div class="method-heading">
+          <a href="Array.src/M000001.html" target="Code" class="method-signature"
+            onclick="popupCode('Array.src/M000001.html');return false;">
+          <span class="method-name">grep</span><span class="method-args">(s)</span>
+          </a>
+        </div>
+      
+        <div class="method-description">
+          <p>
+<b><a href="Array.html#M000001">grep</a></b> goes through all files given
+by the filenames that should be contained in <b>self</b> and checks for a
+given RegEx example:
+</p>
+<pre>
+ pp Dir[&quot;*.h&quot;].grep(/INCLUDE_SWIG/)
+</pre>
+<p>
+outputs all filenames of header-files containing the string INCLUDE_SWIG
+</p>
+        </div>
+      </div>
+
+
+    </div>
+
+
+  </div>
+
+
+<div id="validator-badges">
+  <p><small><a href="http://validator.w3.org/check/referer">[Validate]</a></small></p>
+</div>
+
+</body>
+</html>
\ No newline at end of file

Added: antargis/trunk/rookey/docs/ruby/classes/Array.src/M000001.html
===================================================================
--- antargis/trunk/rookey/docs/ruby/classes/Array.src/M000001.html	2008-03-17 15:29:28 UTC (rev 1235)
+++ antargis/trunk/rookey/docs/ruby/classes/Array.src/M000001.html	2008-03-26 19:30:10 UTC (rev 1236)
@@ -0,0 +1,24 @@
+<?xml version="1.0" encoding="iso-8859-1"?>
+<!DOCTYPE html 
+     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
+     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
+
+<html>
+<head>
+  <title>grep (Array)</title>
+  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
+  <link rel="stylesheet" href="../.././rdoc-style.css" type="text/css" media="screen" />
+</head>
+<body class="standalone-code">
+  <pre><span class="ruby-comment cmt"># File tools.rb, line 10</span>
+  <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">grep</span>(<span class="ruby-identifier">s</span>)
+    <span class="ruby-identifier">s</span>=<span class="ruby-node">/#{s}/</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">s</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">String</span>)
+    <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">select</span>{<span class="ruby-operator">|</span><span class="ruby-identifier">f</span><span class="ruby-operator">|</span>
+      <span class="ruby-identifier">fd</span>=<span class="ruby-constant">File</span>.<span class="ruby-identifier">open</span>(<span class="ruby-identifier">f</span>)
+      <span class="ruby-identifier">result</span>=(<span class="ruby-identifier">s</span><span class="ruby-operator">===</span><span class="ruby-identifier">fd</span>.<span class="ruby-identifier">read</span>)
+      <span class="ruby-identifier">fd</span>.<span class="ruby-identifier">close</span>
+      <span class="ruby-identifier">result</span>
+    }
+  <span class="ruby-keyword kw">end</span></pre>
+</body>
+</html>
\ No newline at end of file

Added: antargis/trunk/rookey/docs/ruby/classes/Class.html
===================================================================
--- antargis/trunk/rookey/docs/ruby/classes/Class.html	2008-03-17 15:29:28 UTC (rev 1235)
+++ antargis/trunk/rookey/docs/ruby/classes/Class.html	2008-03-26 19:30:10 UTC (rev 1236)
@@ -0,0 +1,152 @@
+<?xml version="1.0" encoding="iso-8859-1"?>
+<!DOCTYPE html 
+     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
+     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
+
+<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
+<head>
+  <title>Class: Class</title>
+  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
+  <meta http-equiv="Content-Script-Type" content="text/javascript" />
+  <link rel="stylesheet" href=".././rdoc-style.css" type="text/css" media="screen" />
+  <script type="text/javascript">
+  // <![CDATA[
+
+  function popupCode( url ) {
+    window.open(url, "Code", "resizable=yes,scrollbars=yes,toolbar=no,status=no,height=150,width=400")
+  }
+
+  function toggleCode( id ) {
+    if ( document.getElementById )
+      elem = document.getElementById( id );
+    else if ( document.all )
+      elem = eval( "document.all." + id );
+    else
+      return false;
+
+    elemStyle = elem.style;
+    
+    if ( elemStyle.display != "block" ) {
+      elemStyle.display = "block"
+    } else {
+      elemStyle.display = "none"
+    }
+
+    return true;
+  }
+  
+  // Make codeblocks hidden by default
+  document.writeln( "<style type=\"text/css\">div.method-source-code { display: none }</style>" )
+  
+  // ]]>
+  </script>
+
+</head>
+<body>
+
+
+
+    <div id="classHeader">
+        <table class="header-table">
+        <tr class="top-aligned-row">
+          <td><strong>Class</strong></td>
+          <td class="class-name-in-header">Class</td>
+        </tr>
+        <tr class="top-aligned-row">
+            <td><strong>In:</strong></td>
+            <td>
+                <a href="../files/config_generator_rb.html">
+                config_generator.rb
+                </a>
+        <br />
+            </td>
+        </tr>
+
+        <tr class="top-aligned-row">
+            <td><strong>Parent:</strong></td>
+            <td>
+                Object
+            </td>
+        </tr>
+        </table>
+    </div>
+  <!-- banner header -->
+
+  <div id="bodyContent">
+
+
+
+  <div id="contextContent">
+
+
+
+   </div>
+
+    <div id="method-list">
+      <h3 class="section-bar">Methods</h3>
+
+      <div class="name-list">
+      <a href="#M000003">needs</a>&nbsp;&nbsp;
+      <a href="#M000002">provides</a>&nbsp;&nbsp;
+      </div>
+    </div>
+
+  </div>
+
+
+    <!-- if includes -->
+
+    <div id="section">
+
+
+
+
+
+      
+
+
+    <!-- if method_list -->
+    <div id="methods">
+      <h3 class="section-bar">Public Instance methods</h3>
+
+      <div id="method-M000003" class="method-detail">
+        <a name="M000003"></a>
+
+        <div class="method-heading">
+          <a href="Class.src/M000003.html" target="Code" class="method-signature"
+            onclick="popupCode('Class.src/M000003.html');return false;">
+          <span class="method-name">needs</span><span class="method-args">(s=nil)</span>
+          </a>
+        </div>
+      
+        <div class="method-description">
+        </div>
+      </div>
+
+      <div id="method-M000002" class="method-detail">
+        <a name="M000002"></a>
+
+        <div class="method-heading">
+          <a href="Class.src/M000002.html" target="Code" class="method-signature"
+            onclick="popupCode('Class.src/M000002.html');return false;">
+          <span class="method-name">provides</span><span class="method-args">(s=nil)</span>
+          </a>
+        </div>
+      
+        <div class="method-description">
+        </div>
+      </div>
+
+
+    </div>
+
+
+  </div>
+
+
+<div id="validator-badges">
+  <p><small><a href="http://validator.w3.org/check/referer">[Validate]</a></small></p>
+</div>
+
+</body>
+</html>
\ No newline at end of file

Added: antargis/trunk/rookey/docs/ruby/classes/Class.src/M000002.html
===================================================================
--- antargis/trunk/rookey/docs/ruby/classes/Class.src/M000002.html	2008-03-17 15:29:28 UTC (rev 1235)
+++ antargis/trunk/rookey/docs/ruby/classes/Class.src/M000002.html	2008-03-26 19:30:10 UTC (rev 1236)
@@ -0,0 +1,20 @@
+<?xml version="1.0" encoding="iso-8859-1"?>
+<!DOCTYPE html 
+     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
+     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
+
+<html>
+<head>
+  <title>provides (Class)</title>
+  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
+  <link rel="stylesheet" href="../.././rdoc-style.css" type="text/css" media="screen" />
+</head>
+<body class="standalone-code">
+  <pre><span class="ruby-comment cmt"># File config_generator.rb, line 3</span>
+  <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">provides</span>(<span class="ruby-identifier">s</span>=<span class="ruby-keyword kw">nil</span>)
+    <span class="ruby-ivar">@provides</span><span class="ruby-operator">||=</span>[]
+    <span class="ruby-ivar">@provides</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">s</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">s</span>
+    <span class="ruby-ivar">@provides</span>
+  <span class="ruby-keyword kw">end</span></pre>
+</body>
+</html>
\ No newline at end of file

Added: antargis/trunk/rookey/docs/ruby/classes/Class.src/M000003.html
===================================================================
--- antargis/trunk/rookey/docs/ruby/classes/Class.src/M000003.html	2008-03-17 15:29:28 UTC (rev 1235)
+++ antargis/trunk/rookey/docs/ruby/classes/Class.src/M000003.html	2008-03-26 19:30:10 UTC (rev 1236)
@@ -0,0 +1,20 @@
+<?xml version="1.0" encoding="iso-8859-1"?>
+<!DOCTYPE html 
+     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
+     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
+
+<html>
+<head>
+  <title>needs (Class)</title>
+  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
+  <link rel="stylesheet" href="../.././rdoc-style.css" type="text/css" media="screen" />
+</head>
+<body class="standalone-code">
+  <pre><span class="ruby-comment cmt"># File config_generator.rb, line 8</span>
+  <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">needs</span>(<span class="ruby-identifier">s</span>=<span class="ruby-keyword kw">nil</span>)
+    <span class="ruby-ivar">@needs</span><span class="ruby-operator">||=</span>[]
+    <span class="ruby-ivar">@needs</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">s</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">s</span>
+    <span class="ruby-ivar">@needs</span>
+  <span class="ruby-keyword kw">end</span></pre>
+</body>
+</html>
\ No newline at end of file

Added: antargis/trunk/rookey/docs/ruby/classes/Rookey/CcacheConfig.html
===================================================================
--- antargis/trunk/rookey/docs/ruby/classes/Rookey/CcacheConfig.html	2008-03-17 15:29:28 UTC (rev 1235)
+++ antargis/trunk/rookey/docs/ruby/classes/Rookey/CcacheConfig.html	2008-03-26 19:30:10 UTC (rev 1236)
@@ -0,0 +1,139 @@
+<?xml version="1.0" encoding="iso-8859-1"?>
+<!DOCTYPE html 
+     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
+     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
+
+<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
+<head>
+  <title>Class: Rookey::CcacheConfig</title>
+  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
+  <meta http-equiv="Content-Script-Type" content="text/javascript" />
+  <link rel="stylesheet" href="../.././rdoc-style.css" type="text/css" media="screen" />
+  <script type="text/javascript">
+  // <![CDATA[
+
+  function popupCode( url ) {
+    window.open(url, "Code", "resizable=yes,scrollbars=yes,toolbar=no,status=no,height=150,width=400")
+  }
+
+  function toggleCode( id ) {
+    if ( document.getElementById )
+      elem = document.getElementById( id );
+    else if ( document.all )
+      elem = eval( "document.all." + id );
+    else
+      return false;
+
+    elemStyle = elem.style;
+    
+    if ( elemStyle.display != "block" ) {
+      elemStyle.display = "block"
+    } else {
+      elemStyle.display = "none"
+    }
+
+    return true;
+  }
+  
+  // Make codeblocks hidden by default
+  document.writeln( "<style type=\"text/css\">div.method-source-code { display: none }</style>" )
+  
+  // ]]>
+  </script>
+
+</head>
+<body>
+
+
+
+    <div id="classHeader">
+        <table class="header-table">
+        <tr class="top-aligned-row">
+          <td><strong>Class</strong></td>
+          <td class="class-name-in-header">Rookey::CcacheConfig</td>
+        </tr>
+        <tr class="top-aligned-row">
+            <td><strong>In:</strong></td>
+            <td>
+                <a href="../../files/configs/ccache_rb.html">
+                configs/ccache.rb
+                </a>
+        <br />
+            </td>
+        </tr>
+
+        <tr class="top-aligned-row">
+            <td><strong>Parent:</strong></td>
+            <td>
+                <a href="Configurator.html">
+                Configurator
+               </a>
+            </td>
+        </tr>
+        </table>
+    </div>
+  <!-- banner header -->
+
+  <div id="bodyContent">
+
+
+
+  <div id="contextContent">
+
+
+
+   </div>
+
+    <div id="method-list">
+      <h3 class="section-bar">Methods</h3>
+
+      <div class="name-list">
+      <a href="#M000020">run</a>&nbsp;&nbsp;
+      </div>
+    </div>
+
+  </div>
+
+
+    <!-- if includes -->
+
+    <div id="section">
+
+
+
+
+
+      
+
+
+    <!-- if method_list -->
+    <div id="methods">
+      <h3 class="section-bar">Public Instance methods</h3>
+
+      <div id="method-M000020" class="method-detail">
+        <a name="M000020"></a>
+
+        <div class="method-heading">
+          <a href="CcacheConfig.src/M000020.html" target="Code" class="method-signature"
+            onclick="popupCode('CcacheConfig.src/M000020.html');return false;">
+          <span class="method-name">run</span><span class="method-args">(config)</span>
+          </a>
+        </div>
+      
+        <div class="method-description">
+        </div>
+      </div>
+
+
+    </div>
+
+
+  </div>
+
+
+<div id="validator-badges">
+  <p><small><a href="http://validator.w3.org/check/referer">[Validate]</a></small></p>
+</div>
+
+</body>
+</html>
\ No newline at end of file

Added: antargis/trunk/rookey/docs/ruby/classes/Rookey/CcacheConfig.src/M000020.html
===================================================================
--- antargis/trunk/rookey/docs/ruby/classes/Rookey/CcacheConfig.src/M000020.html	2008-03-17 15:29:28 UTC (rev 1235)
+++ antargis/trunk/rookey/docs/ruby/classes/Rookey/CcacheConfig.src/M000020.html	2008-03-26 19:30:10 UTC (rev 1236)
@@ -0,0 +1,21 @@
+<?xml version="1.0" encoding="iso-8859-1"?>
+<!DOCTYPE html 
+     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
+     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
+
+<html>
+<head>
+  <title>run (Rookey::CcacheConfig)</title>
+  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
+  <link rel="stylesheet" href="../../.././rdoc-style.css" type="text/css" media="screen" />
+</head>
+<body class="standalone-code">
+  <pre><span class="ruby-comment cmt"># File configs/ccache.rb, line 6</span>
+    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">run</span>(<span class="ruby-identifier">config</span>)
+      <span class="ruby-identifier">ccache</span>=<span class="ruby-identifier">searchProgram</span>(<span class="ruby-value str">&quot;ccache&quot;</span>)
+      <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">ccache</span>
+        <span class="ruby-identifier">config</span>[<span class="ruby-value str">&quot;CCACHE&quot;</span>]=<span class="ruby-identifier">ccache</span>
+      <span class="ruby-keyword kw">end</span>
+    <span class="ruby-keyword kw">end</span></pre>
+</body>
+</html>
\ No newline at end of file

Added: antargis/trunk/rookey/docs/ruby/classes/Rookey/Compiler.html
===================================================================
--- antargis/trunk/rookey/docs/ruby/classes/Rookey/Compiler.html	2008-03-17 15:29:28 UTC (rev 1235)
+++ antargis/trunk/rookey/docs/ruby/classes/Rookey/Compiler.html	2008-03-26 19:30:10 UTC (rev 1236)
@@ -0,0 +1,322 @@
+<?xml version="1.0" encoding="iso-8859-1"?>
+<!DOCTYPE html 
+     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
+     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
+
+<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
+<head>
+  <title>Class: Rookey::Compiler</title>
+  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
+  <meta http-equiv="Content-Script-Type" content="text/javascript" />
+  <link rel="stylesheet" href="../.././rdoc-style.css" type="text/css" media="screen" />
+  <script type="text/javascript">
+  // <![CDATA[
+
+  function popupCode( url ) {
+    window.open(url, "Code", "resizable=yes,scrollbars=yes,toolbar=no,status=no,height=150,width=400")
+  }
+
+  function toggleCode( id ) {
+    if ( document.getElementById )
+      elem = document.getElementById( id );
+    else if ( document.all )
+      elem = eval( "document.all." + id );
+    else
+      return false;
+
+    elemStyle = elem.style;
+    
+    if ( elemStyle.display != "block" ) {
+      elemStyle.display = "block"
+    } else {
+      elemStyle.display = "none"
+    }
+
+    return true;
+  }
+  
+  // Make codeblocks hidden by default
+  document.writeln( "<style type=\"text/css\">div.method-source-code { display: none }</style>" )
+  
+  // ]]>
+  </script>
+
+</head>
+<body>
+
+
+
+    <div id="classHeader">
+        <table class="header-table">
+        <tr class="top-aligned-row">
+          <td><strong>Class</strong></td>
+          <td class="class-name-in-header">Rookey::Compiler</td>
+        </tr>
+        <tr class="top-aligned-row">
+            <td><strong>In:</strong></td>
+            <td>
+                <a href="../../files/compile_rb.html">
+                compile.rb
+                </a>
+        <br />
+            </td>
+        </tr>
+
+        <tr class="top-aligned-row">
+            <td><strong>Parent:</strong></td>
+            <td>
+                Object
+            </td>
+        </tr>
+        </table>
+    </div>
+  <!-- banner header -->
+
+  <div id="bodyContent">
+
+
+
+  <div id="contextContent">
+
+
+
+   </div>
+
+    <div id="method-list">
+      <h3 class="section-bar">Methods</h3>
+
+      <div class="name-list">
+      <a href="#M000030">compile</a>&nbsp;&nbsp;
+      <a href="#M000035">dllName</a>&nbsp;&nbsp;
+      <a href="#M000036">exeName</a>&nbsp;&nbsp;
+      <a href="#M000039">getBuildDir</a>&nbsp;&nbsp;
+      <a href="#M000029">getDeps</a>&nbsp;&nbsp;
+      <a href="#M000040">getDepsDir</a>&nbsp;&nbsp;
+      <a href="#M000034">linkA</a>&nbsp;&nbsp;
+      <a href="#M000032">linkDLL</a>&nbsp;&nbsp;
+      <a href="#M000031">linkEXE</a>&nbsp;&nbsp;
+      <a href="#M000033">linkSO</a>&nbsp;&nbsp;
+      <a href="#M000037">makeObject</a>&nbsp;&nbsp;
+      <a href="#M000038">makeSource</a>&nbsp;&nbsp;
+      <a href="#M000028">new</a>&nbsp;&nbsp;
+      </div>
+    </div>
+
+  </div>
+
+
+    <!-- if includes -->
+
+    <div id="section">
+
+
+
+
+
+      
+
+
+    <!-- if method_list -->
+    <div id="methods">
+      <h3 class="section-bar">Public Class methods</h3>
+
+      <div id="method-M000029" class="method-detail">
+        <a name="M000029"></a>
+
+        <div class="method-heading">
+          <a href="Compiler.src/M000029.html" target="Code" class="method-signature"
+            onclick="popupCode('Compiler.src/M000029.html');return false;">
+          <span class="method-name">getDeps</span><span class="method-args">(t)</span>
+          </a>
+        </div>
+      
+        <div class="method-description">
+        </div>
+      </div>
+
+      <div id="method-M000040" class="method-detail">
+        <a name="M000040"></a>
+
+        <div class="method-heading">
+          <a href="Compiler.src/M000040.html" target="Code" class="method-signature"
+            onclick="popupCode('Compiler.src/M000040.html');return false;">
+          <span class="method-name">getDepsDir</span><span class="method-args">()</span>
+          </a>
+        </div>
+      
+        <div class="method-description">
+        </div>
+      </div>
+
+      <div id="method-M000028" class="method-detail">
+        <a name="M000028"></a>
+
+        <div class="method-heading">
+          <a href="Compiler.src/M000028.html" target="Code" class="method-signature"
+            onclick="popupCode('Compiler.src/M000028.html');return false;">
+          <span class="method-name">new</span><span class="method-args">(config)</span>
+          </a>
+        </div>
+      
+        <div class="method-description">
+        </div>
+      </div>
+
+      <h3 class="section-bar">Public Instance methods</h3>
+
+      <div id="method-M000030" class="method-detail">
+        <a name="M000030"></a>
+
+        <div class="method-heading">
+          <a href="Compiler.src/M000030.html" target="Code" class="method-signature"
+            onclick="popupCode('Compiler.src/M000030.html');return false;">
+          <span class="method-name">compile</span><span class="method-args">(target,sources)</span>
+          </a>
+        </div>
+      
+        <div class="method-description">
+        </div>
+      </div>
+
+      <div id="method-M000035" class="method-detail">
+        <a name="M000035"></a>
+
+        <div class="method-heading">
+          <a href="Compiler.src/M000035.html" target="Code" class="method-signature"
+            onclick="popupCode('Compiler.src/M000035.html');return false;">
+          <span class="method-name">dllName</span><span class="method-args">(base)</span>
+          </a>
+        </div>
+      
+        <div class="method-description">
+        </div>
+      </div>
+
+      <div id="method-M000036" class="method-detail">
+        <a name="M000036"></a>
+
+        <div class="method-heading">
+          <a href="Compiler.src/M000036.html" target="Code" class="method-signature"
+            onclick="popupCode('Compiler.src/M000036.html');return false;">
+          <span class="method-name">exeName</span><span class="method-args">(base)</span>
+          </a>
+        </div>
+      
+        <div class="method-description">
+        </div>
+      </div>
+
+      <div id="method-M000039" class="method-detail">
+        <a name="M000039"></a>
+
+        <div class="method-heading">
+          <a href="Compiler.src/M000039.html" target="Code" class="method-signature"
+            onclick="popupCode('Compiler.src/M000039.html');return false;">
+          <span class="method-name">getBuildDir</span><span class="method-args">()</span>
+          </a>
+        </div>
+      
+        <div class="method-description">
+        </div>
+      </div>
+
+      <div id="method-M000034" class="method-detail">
+        <a name="M000034"></a>
+
+        <div class="method-heading">
+          <a href="Compiler.src/M000034.html" target="Code" class="method-signature"
+            onclick="popupCode('Compiler.src/M000034.html');return false;">
+          <span class="method-name">linkA</span><span class="method-args">(t)</span>
+          </a>
+        </div>
+      
+        <div class="method-description">
+        </div>
+      </div>
+
+      <div id="method-M000032" class="method-detail">
+        <a name="M000032"></a>
+
+        <div class="method-heading">
+          <a href="Compiler.src/M000032.html" target="Code" class="method-signature"
+            onclick="popupCode('Compiler.src/M000032.html');return false;">
+          <span class="method-name">linkDLL</span><span class="method-args">(t)</span>
+          </a>
+        </div>
+      
+        <div class="method-description">
+        </div>
+      </div>
+
+      <div id="method-M000031" class="method-detail">
+        <a name="M000031"></a>
+
+        <div class="method-heading">
+          <a href="Compiler.src/M000031.html" target="Code" class="method-signature"
+            onclick="popupCode('Compiler.src/M000031.html');return false;">
+          <span class="method-name">linkEXE</span><span class="method-args">(name,objects)</span>
+          </a>
+        </div>
+      
+        <div class="method-description">
+        </div>
+      </div>
+
+      <div id="method-M000033" class="method-detail">
+        <a name="M000033"></a>
+
+        <div class="method-heading">
+          <a href="Compiler.src/M000033.html" target="Code" class="method-signature"
+            onclick="popupCode('Compiler.src/M000033.html');return false;">
+          <span class="method-name">linkSO</span><span class="method-args">(t)</span>
+          </a>
+        </div>
+      
+        <div class="method-description">
+        </div>
+      </div>
+
+      <div id="method-M000037" class="method-detail">
+        <a name="M000037"></a>
+
+        <div class="method-heading">
+          <a href="Compiler.src/M000037.html" target="Code" class="method-signature"
+            onclick="popupCode('Compiler.src/M000037.html');return false;">
+          <span class="method-name">makeObject</span><span class="method-args">(sourceName)</span>
+          </a>
+        </div>
+      
+        <div class="method-description">
+          <p>
+FIXME: include build-dirs
+</p>
+        </div>
+      </div>
+
+      <div id="method-M000038" class="method-detail">
+        <a name="M000038"></a>
+
+        <div class="method-heading">
+          <a href="Compiler.src/M000038.html" target="Code" class="method-signature"
+            onclick="popupCode('Compiler.src/M000038.html');return false;">
+          <span class="method-name">makeSource</span><span class="method-args">(objectName)</span>
+          </a>
+        </div>
+      
+        <div class="method-description">
+        </div>
+      </div>
+
+
+    </div>
+
+
+  </div>
+
+
+<div id="validator-badges">
+  <p><small><a href="http://validator.w3.org/check/referer">[Validate]</a></small></p>
+</div>
+
+</body>
+</html>
\ No newline at end of file

Added: antargis/trunk/rookey/docs/ruby/classes/Rookey/Compiler.src/M000028.html
===================================================================
--- antargis/trunk/rookey/docs/ruby/classes/Rookey/Compiler.src/M000028.html	2008-03-17 15:29:28 UTC (rev 1235)
+++ antargis/trunk/rookey/docs/ruby/classes/Rookey/Compiler.src/M000028.html	2008-03-26 19:30:10 UTC (rev 1236)
@@ -0,0 +1,18 @@
+<?xml version="1.0" encoding="iso-8859-1"?>
+<!DOCTYPE html 
+     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
+     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
+
+<html>
+<head>
+  <title>new (Rookey::Compiler)</title>
+  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
+  <link rel="stylesheet" href="../../.././rdoc-style.css" type="text/css" media="screen" />
+</head>
+<body class="standalone-code">
+  <pre><span class="ruby-comment cmt"># File compile.rb, line 3</span>
+    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">initialize</span>(<span class="ruby-identifier">config</span>)
+      <span class="ruby-ivar">@config</span>=<span class="ruby-identifier">config</span>
+    <span class="ruby-keyword kw">end</span></pre>
+</body>
+</html>
\ No newline at end of file

Added: antargis/trunk/rookey/docs/ruby/classes/Rookey/Compiler.src/M000029.html
===================================================================
--- antargis/trunk/rookey/docs/ruby/classes/Rookey/Compiler.src/M000029.html	2008-03-17 15:29:28 UTC (rev 1235)
+++ antargis/trunk/rookey/docs/ruby/classes/Rookey/Compiler.src/M000029.html	2008-03-26 19:30:10 UTC (rev 1236)
@@ -0,0 +1,25 @@
+<?xml version="1.0" encoding="iso-8859-1"?>
+<!DOCTYPE html 
+     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
+     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
+
+<html>
+<head>
+  <title>getDeps (Rookey::Compiler)</title>
+  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
+  <link rel="stylesheet" href="../../.././rdoc-style.css" type="text/css" media="screen" />
+</head>
+<body class="standalone-code">
+  <pre><span class="ruby-comment cmt"># File compile.rb, line 7</span>
+          <span class="ruby-keyword kw">def</span> <span class="ruby-constant">Compiler</span>.<span class="ruby-identifier">getDeps</span>(<span class="ruby-identifier">t</span>)
+            <span class="ruby-comment cmt"># FIXME</span>
+            
+            <span class="ruby-identifier">parseDepsFiles</span>
+      
+      <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">t</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-ivar">@@deps</span>
+      <span class="ruby-identifier">p</span>=<span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span>(<span class="ruby-constant">Compiler</span>.<span class="ruby-identifier">getDepsDir</span>,<span class="ruby-identifier">t</span>)
+            <span class="ruby-keyword kw">return</span> <span class="ruby-ivar">@@deps</span>[<span class="ruby-identifier">p</span>] <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@@deps</span>[<span class="ruby-identifier">p</span>]
+      <span class="ruby-identifier">t</span>
+          <span class="ruby-keyword kw">end</span></pre>
+</body>
+</html>
\ No newline at end of file

Added: antargis/trunk/rookey/docs/ruby/classes/Rookey/Compiler.src/M000030.html
===================================================================
--- antargis/trunk/rookey/docs/ruby/classes/Rookey/Compiler.src/M000030.html	2008-03-17 15:29:28 UTC (rev 1235)
+++ antargis/trunk/rookey/docs/ruby/classes/Rookey/Compiler.src/M000030.html	2008-03-26 19:30:10 UTC (rev 1236)
@@ -0,0 +1,49 @@
+<?xml version="1.0" encoding="iso-8859-1"?>
+<!DOCTYPE html 
+     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
+     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
+
+<html>
+<head>
+  <title>compile (Rookey::Compiler)</title>
+  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
+  <link rel="stylesheet" href="../../.././rdoc-style.css" type="text/css" media="screen" />
+</head>
+<body class="standalone-code">
+  <pre><span class="ruby-comment cmt"># File compile.rb, line 18</span>
+          <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">compile</span>(<span class="ruby-identifier">target</span>,<span class="ruby-identifier">sources</span>)
+            <span class="ruby-identifier">source</span>=<span class="ruby-identifier">makeSource</span>(<span class="ruby-identifier">target</span>)
+            
+      <span class="ruby-comment cmt"># FIXME check for c/c++</span>
+      
+            <span class="ruby-identifier">program</span>=<span class="ruby-identifier">getCompiler</span>(<span class="ruby-identifier">:cpp</span>)
+
+            
+            <span class="ruby-identifier">options</span>=[]
+        
+            <span class="ruby-identifier">options</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-ivar">@config</span>[<span class="ruby-value str">&quot;CFLAGS&quot;</span>]
+            
+            <span class="ruby-identifier">includeDirs</span> = <span class="ruby-ivar">@config</span>[<span class="ruby-value str">&quot;INCLUDEDIRS&quot;</span>].<span class="ruby-identifier">split</span>(<span class="ruby-value str">&quot; &quot;</span>)
+            <span class="ruby-identifier">includes</span>=<span class="ruby-identifier">includeDirs</span>.<span class="ruby-identifier">map</span>{<span class="ruby-operator">|</span><span class="ruby-identifier">d</span><span class="ruby-operator">|</span><span class="ruby-value str">&quot;-I&quot;</span><span class="ruby-operator">+</span><span class="ruby-identifier">d</span>}
+            <span class="ruby-identifier">options</span><span class="ruby-operator">+=</span><span class="ruby-identifier">includes</span>
+            
+            <span class="ruby-identifier">options</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-value str">&quot;-c &quot;</span><span class="ruby-operator">+</span><span class="ruby-constant">File</span>.<span class="ruby-identifier">expand_path</span>(<span class="ruby-identifier">source</span>)
+            <span class="ruby-identifier">options</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-value str">&quot;-o &quot;</span><span class="ruby-operator">+</span><span class="ruby-identifier">target</span>
+      
+      
+      <span class="ruby-identifier">depfile</span>=<span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span>(<span class="ruby-constant">Compiler</span>.<span class="ruby-identifier">getDepsDir</span>,<span class="ruby-identifier">source</span>)
+      <span class="ruby-identifier">depdir</span>=<span class="ruby-constant">File</span>.<span class="ruby-identifier">split</span>(<span class="ruby-identifier">depfile</span>)[<span class="ruby-value">0</span>]
+      <span class="ruby-constant">Rookey</span>.<span class="ruby-identifier">mkdir</span>(<span class="ruby-identifier">depdir</span>)
+      
+      <span class="ruby-identifier">outdir</span>=<span class="ruby-constant">File</span>.<span class="ruby-identifier">split</span>(<span class="ruby-identifier">target</span>)[<span class="ruby-value">0</span>]      
+      <span class="ruby-constant">Rookey</span>.<span class="ruby-identifier">mkdir</span>(<span class="ruby-identifier">outdir</span>)
+
+      <span class="ruby-identifier">options</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-node">&quot;-Wp,-MD,#{depfile}&quot;</span>
+                    
+            <span class="ruby-identifier">call</span>=<span class="ruby-identifier">program</span><span class="ruby-operator">+</span><span class="ruby-value str">&quot; &quot;</span><span class="ruby-operator">+</span><span class="ruby-identifier">options</span>.<span class="ruby-identifier">join</span>(<span class="ruby-value str">&quot; &quot;</span>)
+            <span class="ruby-identifier">sh</span> <span class="ruby-identifier">call</span>
+      <span class="ruby-identifier">puts</span>
+          
+          <span class="ruby-keyword kw">end</span></pre>
+</body>
+</html>
\ No newline at end of file

Added: antargis/trunk/rookey/docs/ruby/classes/Rookey/Compiler.src/M000031.html
===================================================================
--- antargis/trunk/rookey/docs/ruby/classes/Rookey/Compiler.src/M000031.html	2008-03-17 15:29:28 UTC (rev 1235)
+++ antargis/trunk/rookey/docs/ruby/classes/Rookey/Compiler.src/M000031.html	2008-03-26 19:30:10 UTC (rev 1236)
@@ -0,0 +1,25 @@
+<?xml version="1.0" encoding="iso-8859-1"?>
+<!DOCTYPE html 
+     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
+     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
+
+<html>
+<head>
+  <title>linkEXE (Rookey::Compiler)</title>
+  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
+  <link rel="stylesheet" href="../../.././rdoc-style.css" type="text/css" media="screen" />
+</head>
+<body class="standalone-code">
+  <pre><span class="ruby-comment cmt"># File compile.rb, line 53</span>
+    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">linkEXE</span>(<span class="ruby-identifier">name</span>,<span class="ruby-identifier">objects</span>)
+      <span class="ruby-identifier">program</span>=<span class="ruby-identifier">getCompiler</span>(<span class="ruby-identifier">:cpp</span>)
+      <span class="ruby-identifier">options</span>=[]
+      <span class="ruby-identifier">options</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-value str">&quot;-o &quot;</span><span class="ruby-operator">+</span><span class="ruby-identifier">name</span>
+      <span class="ruby-identifier">options</span> <span class="ruby-operator">+=</span> <span class="ruby-identifier">objects</span>.<span class="ruby-identifier">uniq</span>
+      <span class="ruby-identifier">options</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-ivar">@config</span>[<span class="ruby-value str">&quot;LDFLAGS&quot;</span>] 
+      <span class="ruby-identifier">call</span>=<span class="ruby-identifier">program</span><span class="ruby-operator">+</span><span class="ruby-value str">&quot; &quot;</span><span class="ruby-operator">+</span><span class="ruby-identifier">options</span>.<span class="ruby-identifier">join</span>(<span class="ruby-value str">&quot; &quot;</span>)
+      <span class="ruby-identifier">sh</span> <span class="ruby-identifier">call</span>
+      <span class="ruby-identifier">puts</span>
+    <span class="ruby-keyword kw">end</span></pre>
+</body>
+</html>
\ No newline at end of file

Added: antargis/trunk/rookey/docs/ruby/classes/Rookey/Compiler.src/M000032.html
===================================================================
--- antargis/trunk/rookey/docs/ruby/classes/Rookey/Compiler.src/M000032.html	2008-03-17 15:29:28 UTC (rev 1235)
+++ antargis/trunk/rookey/docs/ruby/classes/Rookey/Compiler.src/M000032.html	2008-03-26 19:30:10 UTC (rev 1236)
@@ -0,0 +1,29 @@
+<?xml version="1.0" encoding="iso-8859-1"?>
+<!DOCTYPE html 
+     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
+     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
+
+<html>
+<head>
+  <title>linkDLL (Rookey::Compiler)</title>
+  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
+  <link rel="stylesheet" href="../../.././rdoc-style.css" type="text/css" media="screen" />
+</head>
+<body class="standalone-code">
+  <pre><span class="ruby-comment cmt"># File compile.rb, line 65</span>
+          <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">linkDLL</span>(<span class="ruby-identifier">t</span>)
+            <span class="ruby-identifier">programcall</span>=<span class="ruby-identifier">getCompiler</span>(<span class="ruby-identifier">:cpp</span>)<span class="ruby-operator">+</span><span class="ruby-value str">&quot; &quot;</span> <span class="ruby-operator">+</span><span class="ruby-ivar">@config</span>[<span class="ruby-value str">&quot;LDSHAREDFLAGS&quot;</span>]
+      
+      <span class="ruby-identifier">options</span>=[]
+      
+      <span class="ruby-identifier">options</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-value str">&quot;-o &quot;</span><span class="ruby-operator">+</span><span class="ruby-identifier">t</span>.<span class="ruby-identifier">name</span>
+      <span class="ruby-identifier">options</span> <span class="ruby-operator">+=</span> <span class="ruby-identifier">t</span>.<span class="ruby-identifier">prerequisites</span>
+      <span class="ruby-identifier">options</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-ivar">@config</span>[<span class="ruby-value str">&quot;LDFLAGS&quot;</span>] 
+      <span class="ruby-identifier">options</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-ivar">@config</span>[<span class="ruby-value str">&quot;LIBS&quot;</span>]
+      <span class="ruby-identifier">options</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-ivar">@config</span>[<span class="ruby-value str">&quot;LIBRUBYARG&quot;</span>] 
+      <span class="ruby-identifier">call</span>=<span class="ruby-identifier">programcall</span><span class="ruby-operator">+</span><span class="ruby-value str">&quot; &quot;</span><span class="ruby-operator">+</span><span class="ruby-identifier">options</span>.<span class="ruby-identifier">join</span>(<span class="ruby-value str">&quot; &quot;</span>)
+      <span class="ruby-identifier">sh</span> <span class="ruby-identifier">call</span>
+      <span class="ruby-identifier">puts</span>
+          <span class="ruby-keyword kw">end</span></pre>
+</body>
+</html>
\ No newline at end of file

Added: antargis/trunk/rookey/docs/ruby/classes/Rookey/Compiler.src/M000033.html
===================================================================
--- antargis/trunk/rookey/docs/ruby/classes/Rookey/Compiler.src/M000033.html	2008-03-17 15:29:28 UTC (rev 1235)
+++ antargis/trunk/rookey/docs/ruby/classes/Rookey/Compiler.src/M000033.html	2008-03-26 19:30:10 UTC (rev 1236)
@@ -0,0 +1,17 @@
+<?xml version="1.0" encoding="iso-8859-1"?>
+<!DOCTYPE html 
+     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
+     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
+
+<html>
+<head>
+  <title>linkSO (Rookey::Compiler)</title>
+  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
+  <link rel="stylesheet" href="../../.././rdoc-style.css" type="text/css" media="screen" />
+</head>
+<body class="standalone-code">
+  <pre><span class="ruby-comment cmt"># File compile.rb, line 79</span>
+          <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">linkSO</span>(<span class="ruby-identifier">t</span>)
+          <span class="ruby-keyword kw">end</span></pre>
+</body>
+</html>
\ No newline at end of file

Added: antargis/trunk/rookey/docs/ruby/classes/Rookey/Compiler.src/M000034.html
===================================================================
--- antargis/trunk/rookey/docs/ruby/classes/Rookey/Compiler.src/M000034.html	2008-03-17 15:29:28 UTC (rev 1235)
+++ antargis/trunk/rookey/docs/ruby/classes/Rookey/Compiler.src/M000034.html	2008-03-26 19:30:10 UTC (rev 1236)
@@ -0,0 +1,17 @@
+<?xml version="1.0" encoding="iso-8859-1"?>
+<!DOCTYPE html 
+     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
+     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
+
+<html>
+<head>
+  <title>linkA (Rookey::Compiler)</title>
+  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
+  <link rel="stylesheet" href="../../.././rdoc-style.css" type="text/css" media="screen" />
+</head>
+<body class="standalone-code">
+  <pre><span class="ruby-comment cmt"># File compile.rb, line 81</span>
+          <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">linkA</span>(<span class="ruby-identifier">t</span>)
+          <span class="ruby-keyword kw">end</span></pre>
+</body>
+</html>
\ No newline at end of file

Added: antargis/trunk/rookey/docs/ruby/classes/Rookey/Compiler.src/M000035.html
===================================================================
--- antargis/trunk/rookey/docs/ruby/classes/Rookey/Compiler.src/M000035.html	2008-03-17 15:29:28 UTC (rev 1235)
+++ antargis/trunk/rookey/docs/ruby/classes/Rookey/Compiler.src/M000035.html	2008-03-26 19:30:10 UTC (rev 1236)
@@ -0,0 +1,18 @@
+<?xml version="1.0" encoding="iso-8859-1"?>
+<!DOCTYPE html 
+     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
+     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
+
+<html>
+<head>
+  <title>dllName (Rookey::Compiler)</title>
+  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
+  <link rel="stylesheet" href="../../.././rdoc-style.css" type="text/css" media="screen" />
+</head>
+<body class="standalone-code">
+  <pre><span class="ruby-comment cmt"># File compile.rb, line 84</span>
+          <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">dllName</span>(<span class="ruby-identifier">base</span>)
+            <span class="ruby-identifier">base</span><span class="ruby-operator">+</span><span class="ruby-value str">&quot;.&quot;</span><span class="ruby-operator">+</span><span class="ruby-ivar">@config</span>[<span class="ruby-value str">&quot;DLEXT&quot;</span>]
+          <span class="ruby-keyword kw">end</span></pre>
+</body>
+</html>
\ No newline at end of file

Added: antargis/trunk/rookey/docs/ruby/classes/Rookey/Compiler.src/M000036.html
===================================================================
--- antargis/trunk/rookey/docs/ruby/classes/Rookey/Compiler.src/M000036.html	2008-03-17 15:29:28 UTC (rev 1235)
+++ antargis/trunk/rookey/docs/ruby/classes/Rookey/Compiler.src/M000036.html	2008-03-26 19:30:10 UTC (rev 1236)
@@ -0,0 +1,22 @@
+<?xml version="1.0" encoding="iso-8859-1"?>
+<!DOCTYPE html 
+     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
+     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
+
+<html>
+<head>
+  <title>exeName (Rookey::Compiler)</title>
+  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
+  <link rel="stylesheet" href="../../.././rdoc-style.css" type="text/css" media="screen" />
+</head>
+<body class="standalone-code">
+  <pre><span class="ruby-comment cmt"># File compile.rb, line 88</span>
+    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">exeName</span>(<span class="ruby-identifier">base</span>)
+      <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@config</span>[<span class="ruby-value str">&quot;host_os&quot;</span>]<span class="ruby-operator">=~</span><span class="ruby-regexp re">/win/</span> <span class="ruby-keyword kw">and</span> <span class="ruby-keyword kw">not</span> <span class="ruby-ivar">@config</span>[<span class="ruby-value str">&quot;host_os&quot;</span>]<span class="ruby-operator">=~</span><span class="ruby-regexp re">/darwin/</span>
+        <span class="ruby-identifier">base</span><span class="ruby-operator">+</span><span class="ruby-value str">&quot;.exe&quot;</span>
+      <span class="ruby-keyword kw">else</span>
+        <span class="ruby-identifier">base</span>
+      <span class="ruby-keyword kw">end</span>
+    <span class="ruby-keyword kw">end</span></pre>
+</body>
+</html>
\ No newline at end of file

Added: antargis/trunk/rookey/docs/ruby/classes/Rookey/Compiler.src/M000037.html
===================================================================
--- antargis/trunk/rookey/docs/ruby/classes/Rookey/Compiler.src/M000037.html	2008-03-17 15:29:28 UTC (rev 1235)
+++ antargis/trunk/rookey/docs/ruby/classes/Rookey/Compiler.src/M000037.html	2008-03-26 19:30:10 UTC (rev 1236)
@@ -0,0 +1,28 @@
+<?xml version="1.0" encoding="iso-8859-1"?>
+<!DOCTYPE html 
+     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
+     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
+
+<html>
+<head>
+  <title>makeObject (Rookey::Compiler)</title>
+  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
+  <link rel="stylesheet" href="../../.././rdoc-style.css" type="text/css" media="screen" />
+</head>
+<body class="standalone-code">
+  <pre><span class="ruby-comment cmt"># File compile.rb, line 97</span>
+          <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">makeObject</span>(<span class="ruby-identifier">sourceName</span>)
+            <span class="ruby-identifier">file</span>=<span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span>(<span class="ruby-identifier">getBuildDir</span>,<span class="ruby-identifier">sourceName</span><span class="ruby-operator">+</span><span class="ruby-value str">&quot;.o&quot;</span>)
+      <span class="ruby-identifier">dir</span>=<span class="ruby-constant">File</span>.<span class="ruby-identifier">split</span>(<span class="ruby-identifier">file</span>)[<span class="ruby-value">0</span>]
+      <span class="ruby-keyword kw">begin</span>
+<span class="ruby-comment cmt">#        pp @config</span>
+<span class="ruby-comment cmt">#        pp &quot;DIR:&quot;,dir</span>
+        <span class="ruby-comment cmt">#if dir</span>
+        <span class="ruby-constant">Rookey</span>.<span class="ruby-identifier">mkdir</span>(<span class="ruby-identifier">dir</span>) <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">dir</span>.<span class="ruby-identifier">length</span><span class="ruby-operator">&gt;</span><span class="ruby-value">0</span>
+      <span class="ruby-keyword kw">rescue</span> <span class="ruby-constant">Object</span>
+        <span class="ruby-identifier">pp</span> <span class="ruby-identifier">$!</span>
+      <span class="ruby-keyword kw">end</span>
+      <span class="ruby-identifier">file</span>
+          <span class="ruby-keyword kw">end</span></pre>
+</body>
+</html>
\ No newline at end of file

Added: antargis/trunk/rookey/docs/ruby/classes/Rookey/Compiler.src/M000038.html
===================================================================
--- antargis/trunk/rookey/docs/ruby/classes/Rookey/Compiler.src/M000038.html	2008-03-17 15:29:28 UTC (rev 1235)
+++ antargis/trunk/rookey/docs/ruby/classes/Rookey/Compiler.src/M000038.html	2008-03-26 19:30:10 UTC (rev 1236)
@@ -0,0 +1,18 @@
+<?xml version="1.0" encoding="iso-8859-1"?>
+<!DOCTYPE html 
+     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
+     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
+
+<html>
+<head>
+  <title>makeSource (Rookey::Compiler)</title>
+  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
+  <link rel="stylesheet" href="../../.././rdoc-style.css" type="text/css" media="screen" />
+</head>
+<body class="standalone-code">
+  <pre><span class="ruby-comment cmt"># File compile.rb, line 111</span>
+          <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">makeSource</span>(<span class="ruby-identifier">objectName</span>)
+            <span class="ruby-identifier">objectName</span>.<span class="ruby-identifier">sub</span>(<span class="ruby-regexp re">/\.o$/</span>,<span class="ruby-value str">&quot;&quot;</span>).<span class="ruby-identifier">sub</span>(<span class="ruby-node">/^#{getBuildDir}[\/\\]/</span>,<span class="ruby-value str">&quot;&quot;</span>)
+          <span class="ruby-keyword kw">end</span></pre>
+</body>
+</html>
\ No newline at end of file

Added: antargis/trunk/rookey/docs/ruby/classes/Rookey/Compiler.src/M000039.html
===================================================================
--- antargis/trunk/rookey/docs/ruby/classes/Rookey/Compiler.src/M000039.html	2008-03-17 15:29:28 UTC (rev 1235)
+++ antargis/trunk/rookey/docs/ruby/classes/Rookey/Compiler.src/M000039.html	2008-03-26 19:30:10 UTC (rev 1236)
@@ -0,0 +1,18 @@
+<?xml version="1.0" encoding="iso-8859-1"?>
+<!DOCTYPE html 
+     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
+     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
+
+<html>
+<head>
+  <title>getBuildDir (Rookey::Compiler)</title>
+  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
+  <link rel="stylesheet" href="../../.././rdoc-style.css" type="text/css" media="screen" />
+</head>
+<body class="standalone-code">
+  <pre><span class="ruby-comment cmt"># File compile.rb, line 115</span>
+          <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">getBuildDir</span>
+            <span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span>(<span class="ruby-constant">Dir</span>.<span class="ruby-identifier">pwd</span>,<span class="ruby-value str">&quot;.build_&quot;</span><span class="ruby-operator">+</span><span class="ruby-ivar">@config</span>[<span class="ruby-value str">&quot;host_os&quot;</span>])
+          <span class="ruby-keyword kw">end</span></pre>
+</body>
+</html>
\ No newline at end of file

Added: antargis/trunk/rookey/docs/ruby/classes/Rookey/Compiler.src/M000040.html
===================================================================
--- antargis/trunk/rookey/docs/ruby/classes/Rookey/Compiler.src/M000040.html	2008-03-17 15:29:28 UTC (rev 1235)
+++ antargis/trunk/rookey/docs/ruby/classes/Rookey/Compiler.src/M000040.html	2008-03-26 19:30:10 UTC (rev 1236)
@@ -0,0 +1,18 @@
+<?xml version="1.0" encoding="iso-8859-1"?>
+<!DOCTYPE html 
+     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
+     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
+
+<html>
+<head>
+  <title>getDepsDir (Rookey::Compiler)</title>
+  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
+  <link rel="stylesheet" href="../../.././rdoc-style.css" type="text/css" media="screen" />
+</head>
+<body class="standalone-code">
+  <pre><span class="ruby-comment cmt"># File compile.rb, line 118</span>
+    <span class="ruby-keyword kw">def</span> <span class="ruby-constant">Compiler</span>.<span class="ruby-identifier">getDepsDir</span>
+      <span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span>(<span class="ruby-constant">Dir</span>.<span class="ruby-identifier">pwd</span>,<span class="ruby-value str">&quot;.deps&quot;</span>)
+    <span class="ruby-keyword kw">end</span></pre>
+</body>
+</html>
\ No newline at end of file

Added: antargis/trunk/rookey/docs/ruby/classes/Rookey/Config.html
===================================================================
--- antargis/trunk/rookey/docs/ruby/classes/Rookey/Config.html	2008-03-17 15:29:28 UTC (rev 1235)
+++ antargis/trunk/rookey/docs/ruby/classes/Rookey/Config.html	2008-03-26 19:30:10 UTC (rev 1236)
@@ -0,0 +1,184 @@
+<?xml version="1.0" encoding="iso-8859-1"?>
+<!DOCTYPE html 
+     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
+     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
+
+<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
+<head>
+  <title>Class: Rookey::Config</title>
+  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
+  <meta http-equiv="Content-Script-Type" content="text/javascript" />
+  <link rel="stylesheet" href="../.././rdoc-style.css" type="text/css" media="screen" />
+  <script type="text/javascript">
+  // <![CDATA[
+
+  function popupCode( url ) {
+    window.open(url, "Code", "resizable=yes,scrollbars=yes,toolbar=no,status=no,height=150,width=400")
+  }
+
+  function toggleCode( id ) {
+    if ( document.getElementById )
+      elem = document.getElementById( id );
+    else if ( document.all )
+      elem = eval( "document.all." + id );
+    else
+      return false;
+
+    elemStyle = elem.style;
+    
+    if ( elemStyle.display != "block" ) {
+      elemStyle.display = "block"
+    } else {
+      elemStyle.display = "none"
+    }
+
+    return true;
+  }
+  
+  // Make codeblocks hidden by default
+  document.writeln( "<style type=\"text/css\">div.method-source-code { display: none }</style>" )
+  
+  // ]]>
+  </script>
+
+</head>
+<body>
+
+
+
+    <div id="classHeader">
+        <table class="header-table">
+        <tr class="top-aligned-row">
+          <td><strong>Class</strong></td>
+          <td class="class-name-in-header">Rookey::Config</td>
+        </tr>
+        <tr class="top-aligned-row">
+            <td><strong>In:</strong></td>
+            <td>
+                <a href="../../files/config_generator_rb.html">
+                config_generator.rb
+                </a>
+        <br />
+            </td>
+        </tr>
+
+        <tr class="top-aligned-row">
+            <td><strong>Parent:</strong></td>
+            <td>
+                Object
+            </td>
+        </tr>
+        </table>
+    </div>
+  <!-- banner header -->
+
+  <div id="bodyContent">
+
+
+
+  <div id="contextContent">
+
+
+
+   </div>
+
+    <div id="method-list">
+      <h3 class="section-bar">Methods</h3>
+
+      <div class="name-list">
+      <a href="#M000025">[]</a>&nbsp;&nbsp;
+      <a href="#M000026">[]=</a>&nbsp;&nbsp;
+      <a href="#M000027">add</a>&nbsp;&nbsp;
+      <a href="#M000024">new</a>&nbsp;&nbsp;
+      </div>
+    </div>
+
+  </div>
+
+
+    <!-- if includes -->
+
+    <div id="section">
+
+
+
+
+
+      
+
+
+    <!-- if method_list -->
+    <div id="methods">
+      <h3 class="section-bar">Public Class methods</h3>
+
+      <div id="method-M000024" class="method-detail">
+        <a name="M000024"></a>
+
+        <div class="method-heading">
+          <a href="Config.src/M000024.html" target="Code" class="method-signature"
+            onclick="popupCode('Config.src/M000024.html');return false;">
+          <span class="method-name">new</span><span class="method-args">(hash={})</span>
+          </a>
+        </div>
+      
+        <div class="method-description">
+        </div>
+      </div>
+
+      <h3 class="section-bar">Public Instance methods</h3>
+
+      <div id="method-M000025" class="method-detail">
+        <a name="M000025"></a>
+
+        <div class="method-heading">
+          <a href="Config.src/M000025.html" target="Code" class="method-signature"
+            onclick="popupCode('Config.src/M000025.html');return false;">
+          <span class="method-name">[]</span><span class="method-args">(name)</span>
+          </a>
+        </div>
+      
+        <div class="method-description">
+        </div>
+      </div>
+
+      <div id="method-M000026" class="method-detail">
+        <a name="M000026"></a>
+
+        <div class="method-heading">
+          <a href="Config.src/M000026.html" target="Code" class="method-signature"
+            onclick="popupCode('Config.src/M000026.html');return false;">
+          <span class="method-name">[]=</span><span class="method-args">(name,value)</span>
+          </a>
+        </div>
+      
+        <div class="method-description">
+        </div>
+      </div>
+
+      <div id="method-M000027" class="method-detail">
+        <a name="M000027"></a>
+
+        <div class="method-heading">
+          <a href="Config.src/M000027.html" target="Code" class="method-signature"
+            onclick="popupCode('Config.src/M000027.html');return false;">
+          <span class="method-name">add</span><span class="method-args">(name,value)</span>
+          </a>
+        </div>
+      
+        <div class="method-description">
+        </div>
+      </div>
+
+
+    </div>
+
+
+  </div>
+
+
+<div id="validator-badges">
+  <p><small><a href="http://validator.w3.org/check/referer">[Validate]</a></small></p>
+</div>
+
+</body>
+</html>
\ No newline at end of file

Added: antargis/trunk/rookey/docs/ruby/classes/Rookey/Config.src/M000024.html
===================================================================
--- antargis/trunk/rookey/docs/ruby/classes/Rookey/Config.src/M000024.html	2008-03-17 15:29:28 UTC (rev 1235)
+++ antargis/trunk/rookey/docs/ruby/classes/Rookey/Config.src/M000024.html	2008-03-26 19:30:10 UTC (rev 1236)
@@ -0,0 +1,18 @@
+<?xml version="1.0" encoding="iso-8859-1"?>
+<!DOCTYPE html 
+     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
+     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
+
+<html>
+<head>
+  <title>new (Rookey::Config)</title>
+  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
+  <link rel="stylesheet" href="../../.././rdoc-style.css" type="text/css" media="screen" />
+</head>
+<body class="standalone-code">
+  <pre><span class="ruby-comment cmt"># File config_generator.rb, line 17</span>
+    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">initialize</span>(<span class="ruby-identifier">hash</span>={})
+      <span class="ruby-ivar">@hash</span>=<span class="ruby-identifier">hash</span>
+    <span class="ruby-keyword kw">end</span></pre>
+</body>
+</html>
\ No newline at end of file

Added: antargis/trunk/rookey/docs/ruby/classes/Rookey/Config.src/M000025.html
===================================================================
--- antargis/trunk/rookey/docs/ruby/classes/Rookey/Config.src/M000025.html	2008-03-17 15:29:28 UTC (rev 1235)
+++ antargis/trunk/rookey/docs/ruby/classes/Rookey/Config.src/M000025.html	2008-03-26 19:30:10 UTC (rev 1236)
@@ -0,0 +1,18 @@
+<?xml version="1.0" encoding="iso-8859-1"?>
+<!DOCTYPE html 
+     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
+     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
+
+<html>
+<head>
+  <title>[] (Rookey::Config)</title>
+  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
+  <link rel="stylesheet" href="../../.././rdoc-style.css" type="text/css" media="screen" />
+</head>
+<body class="standalone-code">
+  <pre><span class="ruby-comment cmt"># File config_generator.rb, line 20</span>
+    <span class="ruby-keyword kw">def</span> <span class="ruby-operator">[]</span>(<span class="ruby-identifier">name</span>)
+      <span class="ruby-ivar">@hash</span>[<span class="ruby-identifier">name</span>]<span class="ruby-operator">||</span><span class="ruby-value str">&quot;&quot;</span>
+    <span class="ruby-keyword kw">end</span></pre>
+</body>
+</html>
\ No newline at end of file

Added: antargis/trunk/rookey/docs/ruby/classes/Rookey/Config.src/M000026.html
===================================================================
--- antargis/trunk/rookey/docs/ruby/classes/Rookey/Config.src/M000026.html	2008-03-17 15:29:28 UTC (rev 1235)
+++ antargis/trunk/rookey/docs/ruby/classes/Rookey/Config.src/M000026.html	2008-03-26 19:30:10 UTC (rev 1236)
@@ -0,0 +1,18 @@
+<?xml version="1.0" encoding="iso-8859-1"?>
+<!DOCTYPE html 
+     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
+     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
+
+<html>
+<head>
+  <title>[]= (Rookey::Config)</title>
+  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
+  <link rel="stylesheet" href="../../.././rdoc-style.css" type="text/css" media="screen" />
+</head>
+<body class="standalone-code">
+  <pre><span class="ruby-comment cmt"># File config_generator.rb, line 23</span>
+    <span class="ruby-keyword kw">def</span> <span class="ruby-operator">[]=</span>(<span class="ruby-identifier">name</span>,<span class="ruby-identifier">value</span>)
+      <span class="ruby-ivar">@hash</span>[<span class="ruby-identifier">name</span>]=<span class="ruby-identifier">value</span>
+    <span class="ruby-keyword kw">end</span></pre>
+</body>
+</html>
\ No newline at end of file

Added: antargis/trunk/rookey/docs/ruby/classes/Rookey/Config.src/M000027.html
===================================================================
--- antargis/trunk/rookey/docs/ruby/classes/Rookey/Config.src/M000027.html	2008-03-17 15:29:28 UTC (rev 1235)
+++ antargis/trunk/rookey/docs/ruby/classes/Rookey/Config.src/M000027.html	2008-03-26 19:30:10 UTC (rev 1236)
@@ -0,0 +1,19 @@
+<?xml version="1.0" encoding="iso-8859-1"?>
+<!DOCTYPE html 
+     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
+     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
+
+<html>
+<head>
+  <title>add (Rookey::Config)</title>
+  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
+  <link rel="stylesheet" href="../../.././rdoc-style.css" type="text/css" media="screen" />
+</head>
+<body class="standalone-code">
+  <pre><span class="ruby-comment cmt"># File config_generator.rb, line 26</span>
+    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">add</span>(<span class="ruby-identifier">name</span>,<span class="ruby-identifier">value</span>)
+      <span class="ruby-ivar">@hash</span>[<span class="ruby-identifier">name</span>]<span class="ruby-operator">||=</span><span class="ruby-value str">&quot;&quot;</span>
+      <span class="ruby-ivar">@hash</span>[<span class="ruby-identifier">name</span>]<span class="ruby-operator">+=</span><span class="ruby-value str">&quot; &quot;</span><span class="ruby-operator">+</span><span class="ruby-identifier">value</span>
+    <span class="ruby-keyword kw">end</span></pre>
+</body>
+</html>
\ No newline at end of file

Added: antargis/trunk/rookey/docs/ruby/classes/Rookey/Configurator.html
===================================================================
--- antargis/trunk/rookey/docs/ruby/classes/Rookey/Configurator.html	2008-03-17 15:29:28 UTC (rev 1235)
+++ antargis/trunk/rookey/docs/ruby/classes/Rookey/Configurator.html	2008-03-26 19:30:10 UTC (rev 1236)
@@ -0,0 +1,199 @@
+<?xml version="1.0" encoding="iso-8859-1"?>
+<!DOCTYPE html 
+     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
+     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
+
+<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
+<head>
+  <title>Class: Rookey::Configurator</title>
+  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
+  <meta http-equiv="Content-Script-Type" content="text/javascript" />
+  <link rel="stylesheet" href="../.././rdoc-style.css" type="text/css" media="screen" />
+  <script type="text/javascript">
+  // <![CDATA[
+
+  function popupCode( url ) {
+    window.open(url, "Code", "resizable=yes,scrollbars=yes,toolbar=no,status=no,height=150,width=400")
+  }
+
+  function toggleCode( id ) {
+    if ( document.getElementById )
+      elem = document.getElementById( id );
+    else if ( document.all )
+      elem = eval( "document.all." + id );
+    else
+      return false;
+
+    elemStyle = elem.style;
+    
+    if ( elemStyle.display != "block" ) {
+      elemStyle.display = "block"
+    } else {
+      elemStyle.display = "none"
+    }
+
+    return true;
+  }
+  
+  // Make codeblocks hidden by default
+  document.writeln( "<style type=\"text/css\">div.method-source-code { display: none }</style>" )
+  
+  // ]]>
+  </script>
+
+</head>
+<body>
+
+
+
+    <div id="classHeader">
+        <table class="header-table">
+        <tr class="top-aligned-row">
+          <td><strong>Class</strong></td>
+          <td class="class-name-in-header">Rookey::Configurator</td>
+        </tr>
+        <tr class="top-aligned-row">
+            <td><strong>In:</strong></td>
+            <td>
+                <a href="../../files/config_generator_rb.html">
+                config_generator.rb
+                </a>
+        <br />
+            </td>
+        </tr>
+
+        <tr class="top-aligned-row">
+            <td><strong>Parent:</strong></td>
+            <td>
+                Object
+            </td>
+        </tr>
+        </table>
+    </div>
+  <!-- banner header -->
+
+  <div id="bodyContent">
+
+
+
+  <div id="contextContent">
+
+
+
+   </div>
+
+    <div id="method-list">
+      <h3 class="section-bar">Methods</h3>
+
+      <div class="name-list">
+      <a href="#M000045">checkLibrary</a>&nbsp;&nbsp;
+      <a href="#M000044">checkProgram</a>&nbsp;&nbsp;
+      <a href="#M000041">new</a>&nbsp;&nbsp;
+      <a href="#M000042">run</a>&nbsp;&nbsp;
+      <a href="#M000043">searchProgram</a>&nbsp;&nbsp;
+      </div>
+    </div>
+
+  </div>
+
+
+    <!-- if includes -->
+
+    <div id="section">
+
+
+
+
+
+      
+
+
+    <!-- if method_list -->
+    <div id="methods">
+      <h3 class="section-bar">Public Class methods</h3>
+
+      <div id="method-M000041" class="method-detail">
+        <a name="M000041"></a>
+
+        <div class="method-heading">
+          <a href="Configurator.src/M000041.html" target="Code" class="method-signature"
+            onclick="popupCode('Configurator.src/M000041.html');return false;">
+          <span class="method-name">new</span><span class="method-args">()</span>
+          </a>
+        </div>
+      
+        <div class="method-description">
+        </div>
+      </div>
+
+      <h3 class="section-bar">Public Instance methods</h3>
+
+      <div id="method-M000045" class="method-detail">
+        <a name="M000045"></a>
+
+        <div class="method-heading">
+          <a href="Configurator.src/M000045.html" target="Code" class="method-signature"
+            onclick="popupCode('Configurator.src/M000045.html');return false;">
+          <span class="method-name">checkLibrary</span><span class="method-args">(config,lib,funcname)</span>
+          </a>
+        </div>
+      
+        <div class="method-description">
+        </div>
+      </div>
+
+      <div id="method-M000044" class="method-detail">
+        <a name="M000044"></a>
+
+        <div class="method-heading">
+          <a href="Configurator.src/M000044.html" target="Code" class="method-signature"
+            onclick="popupCode('Configurator.src/M000044.html');return false;">
+          <span class="method-name">checkProgram</span><span class="method-args">(program)</span>
+          </a>
+        </div>
+      
+        <div class="method-description">
+        </div>
+      </div>
+
+      <div id="method-M000042" class="method-detail">
+        <a name="M000042"></a>
+
+        <div class="method-heading">
+          <a href="Configurator.src/M000042.html" target="Code" class="method-signature"
+            onclick="popupCode('Configurator.src/M000042.html');return false;">
+          <span class="method-name">run</span><span class="method-args">(config)</span>
+          </a>
+        </div>
+      
+        <div class="method-description">
+        </div>
+      </div>
+
+      <div id="method-M000043" class="method-detail">
+        <a name="M000043"></a>
+
+        <div class="method-heading">
+          <a href="Configurator.src/M000043.html" target="Code" class="method-signature"
+            onclick="popupCode('Configurator.src/M000043.html');return false;">
+          <span class="method-name">searchProgram</span><span class="method-args">(program)</span>
+          </a>
+        </div>
+      
+        <div class="method-description">
+        </div>
+      </div>
+
+
+    </div>
+
+
+  </div>
+
+
+<div id="validator-badges">
+  <p><small><a href="http://validator.w3.org/check/referer">[Validate]</a></small></p>
+</div>
+
+</body>
+</html>
\ No newline at end of file

Added: antargis/trunk/rookey/docs/ruby/classes/Rookey/Configurator.src/M000041.html
===================================================================
--- antargis/trunk/rookey/docs/ruby/classes/Rookey/Configurator.src/M000041.html	2008-03-17 15:29:28 UTC (rev 1235)
+++ antargis/trunk/rookey/docs/ruby/classes/Rookey/Configurator.src/M000041.html	2008-03-26 19:30:10 UTC (rev 1236)
@@ -0,0 +1,17 @@
+<?xml version="1.0" encoding="iso-8859-1"?>
+<!DOCTYPE html 
+     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
+     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
+
+<html>
+<head>
+  <title>new (Rookey::Configurator)</title>
+  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
+  <link rel="stylesheet" href="../../.././rdoc-style.css" type="text/css" media="screen" />
+</head>
+<body class="standalone-code">
+  <pre><span class="ruby-comment cmt"># File config_generator.rb, line 62</span>
+    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">initialize</span>
+    <span class="ruby-keyword kw">end</span></pre>
+</body>
+</html>
\ No newline at end of file

Added: antargis/trunk/rookey/docs/ruby/classes/Rookey/Configurator.src/M000042.html
===================================================================
--- antargis/trunk/rookey/docs/ruby/classes/Rookey/Configurator.src/M000042.html	2008-03-17 15:29:28 UTC (rev 1235)
+++ antargis/trunk/rookey/docs/ruby/classes/Rookey/Configurator.src/M000042.html	2008-03-26 19:30:10 UTC (rev 1236)
@@ -0,0 +1,17 @@
+<?xml version="1.0" encoding="iso-8859-1"?>
+<!DOCTYPE html 
+     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
+     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
+
+<html>
+<head>
+  <title>run (Rookey::Configurator)</title>
+  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
+  <link rel="stylesheet" href="../../.././rdoc-style.css" type="text/css" media="screen" />
+</head>
+<body class="standalone-code">
+  <pre><span class="ruby-comment cmt"># File config_generator.rb, line 64</span>
+    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">run</span>(<span class="ruby-identifier">config</span>)
+    <span class="ruby-keyword kw">end</span></pre>
+</body>
+</html>
\ No newline at end of file

Added: antargis/trunk/rookey/docs/ruby/classes/Rookey/Configurator.src/M000043.html
===================================================================
--- antargis/trunk/rookey/docs/ruby/classes/Rookey/Configurator.src/M000043.html	2008-03-17 15:29:28 UTC (rev 1235)
+++ antargis/trunk/rookey/docs/ruby/classes/Rookey/Configurator.src/M000043.html	2008-03-26 19:30:10 UTC (rev 1236)
@@ -0,0 +1,27 @@
+<?xml version="1.0" encoding="iso-8859-1"?>
+<!DOCTYPE html 
+     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
+     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
+
+<html>
+<head>
+  <title>searchProgram (Rookey::Configurator)</title>
+  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
+  <link rel="stylesheet" href="../../.././rdoc-style.css" type="text/css" media="screen" />
+</head>
+<body class="standalone-code">
+  <pre><span class="ruby-comment cmt"># File config_generator.rb, line 67</span>
+    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">searchProgram</span>(<span class="ruby-identifier">program</span>)
+      <span class="ruby-identifier">programs</span>=[<span class="ruby-identifier">program</span>].<span class="ruby-identifier">flatten</span>
+      <span class="ruby-identifier">programs</span>.<span class="ruby-identifier">each</span>{<span class="ruby-operator">|</span><span class="ruby-identifier">program</span><span class="ruby-operator">|</span>
+              <span class="ruby-identifier">getPath</span>.<span class="ruby-identifier">each</span>{<span class="ruby-operator">|</span><span class="ruby-identifier">dir</span><span class="ruby-operator">|</span>
+                <span class="ruby-identifier">p</span>=<span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span>(<span class="ruby-identifier">dir</span>,<span class="ruby-identifier">program</span>)
+                <span class="ruby-keyword kw">if</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">exists?</span>(<span class="ruby-identifier">p</span>)
+                  <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">p</span>
+                <span class="ruby-keyword kw">end</span>
+              }
+      }
+      <span class="ruby-keyword kw">nil</span>
+    <span class="ruby-keyword kw">end</span></pre>
+</body>
+</html>
\ No newline at end of file

Added: antargis/trunk/rookey/docs/ruby/classes/Rookey/Configurator.src/M000044.html
===================================================================
--- antargis/trunk/rookey/docs/ruby/classes/Rookey/Configurator.src/M000044.html	2008-03-17 15:29:28 UTC (rev 1235)
+++ antargis/trunk/rookey/docs/ruby/classes/Rookey/Configurator.src/M000044.html	2008-03-26 19:30:10 UTC (rev 1236)
@@ -0,0 +1,17 @@
+<?xml version="1.0" encoding="iso-8859-1"?>
+<!DOCTYPE html 
+     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
+     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
+
+<html>
+<head>
+  <title>checkProgram (Rookey::Configurator)</title>
+  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
+  <link rel="stylesheet" href="../../.././rdoc-style.css" type="text/css" media="screen" />
+</head>
+<body class="standalone-code">
+  <pre><span class="ruby-comment cmt"># File config_generator.rb, line 79</span>
+    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">checkProgram</span>(<span class="ruby-identifier">program</span>)      
+    <span class="ruby-keyword kw">end</span></pre>
+</body>
+</html>
\ No newline at end of file

Added: antargis/trunk/rookey/docs/ruby/classes/Rookey/Configurator.src/M000045.html
===================================================================
--- antargis/trunk/rookey/docs/ruby/classes/Rookey/Configurator.src/M000045.html	2008-03-17 15:29:28 UTC (rev 1235)
+++ antargis/trunk/rookey/docs/ruby/classes/Rookey/Configurator.src/M000045.html	2008-03-26 19:30:10 UTC (rev 1236)
@@ -0,0 +1,32 @@
+<?xml version="1.0" encoding="iso-8859-1"?>
+<!DOCTYPE html 
+     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
+     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
+
+<html>
+<head>
+  <title>checkLibrary (Rookey::Configurator)</title>
+  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
+  <link rel="stylesheet" href="../../.././rdoc-style.css" type="text/css" media="screen" />
+</head>
+<body class="standalone-code">
+  <pre><span class="ruby-comment cmt"># File config_generator.rb, line 81</span>
+    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">checkLibrary</span>(<span class="ruby-identifier">config</span>,<span class="ruby-identifier">lib</span>,<span class="ruby-identifier">funcname</span>)
+      <span class="ruby-identifier">source</span>=<span class="ruby-node">&quot;extern \&quot;C\&quot; void #{funcname}();int main(){return 0;}&quot;</span>
+      <span class="ruby-identifier">testSource</span>=<span class="ruby-value str">&quot;test.c&quot;</span>
+      <span class="ruby-identifier">fd</span>=<span class="ruby-constant">File</span>.<span class="ruby-identifier">open</span>(<span class="ruby-identifier">testSource</span>,<span class="ruby-value str">&quot;w&quot;</span>)
+      <span class="ruby-identifier">fd</span>.<span class="ruby-identifier">puts</span> <span class="ruby-identifier">source</span>
+      <span class="ruby-identifier">fd</span>.<span class="ruby-identifier">close</span>
+      <span class="ruby-identifier">compiler</span>=<span class="ruby-constant">Compiler</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">config</span>)
+      <span class="ruby-identifier">target</span>=<span class="ruby-identifier">compiler</span>.<span class="ruby-identifier">makeObject</span>(<span class="ruby-identifier">testSource</span>)
+      <span class="ruby-identifier">compiler</span>.<span class="ruby-identifier">compile</span>(<span class="ruby-identifier">target</span>,<span class="ruby-identifier">testSource</span>)
+      <span class="ruby-identifier">libadd</span>=<span class="ruby-node">&quot;-l#{lib}&quot;</span>
+      <span class="ruby-identifier">exeName</span>=<span class="ruby-identifier">compiler</span>.<span class="ruby-identifier">exeName</span>(<span class="ruby-value str">&quot;test&quot;</span>)
+      <span class="ruby-identifier">compiler</span>.<span class="ruby-identifier">linkEXE</span>(<span class="ruby-identifier">exeName</span>,[<span class="ruby-identifier">target</span>,<span class="ruby-identifier">libadd</span>])
+      <span class="ruby-node">`#{exeName}`</span>
+      <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">$?</span>
+        <span class="ruby-identifier">config</span>.<span class="ruby-identifier">add</span>(<span class="ruby-value str">&quot;LDFLAGS&quot;</span>,<span class="ruby-identifier">libadd</span>)
+      <span class="ruby-keyword kw">end</span>
+    <span class="ruby-keyword kw">end</span></pre>
+</body>
+</html>
\ No newline at end of file

Added: antargis/trunk/rookey/docs/ruby/classes/Rookey/CppHierarchyParser.html
===================================================================
--- antargis/trunk/rookey/docs/ruby/classes/Rookey/CppHierarchyParser.html	2008-03-17 15:29:28 UTC (rev 1235)
+++ antargis/trunk/rookey/docs/ruby/classes/Rookey/CppHierarchyParser.html	2008-03-26 19:30:10 UTC (rev 1236)
@@ -0,0 +1,200 @@
+<?xml version="1.0" encoding="iso-8859-1"?>
+<!DOCTYPE html 
+     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
+     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
+
+<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
+<head>
+  <title>Class: Rookey::CppHierarchyParser</title>
+  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
+  <meta http-equiv="Content-Script-Type" content="text/javascript" />
+  <link rel="stylesheet" href="../.././rdoc-style.css" type="text/css" media="screen" />
+  <script type="text/javascript">
+  // <![CDATA[
+
+  function popupCode( url ) {
+    window.open(url, "Code", "resizable=yes,scrollbars=yes,toolbar=no,status=no,height=150,width=400")
+  }
+
+  function toggleCode( id ) {
+    if ( document.getElementById )
+      elem = document.getElementById( id );
+    else if ( document.all )
+      elem = eval( "document.all." + id );
+    else
+      return false;
+
+    elemStyle = elem.style;
+    
+    if ( elemStyle.display != "block" ) {
+      elemStyle.display = "block"
+    } else {
+      elemStyle.display = "none"
+    }
+
+    return true;
+  }
+  
+  // Make codeblocks hidden by default
+  document.writeln( "<style type=\"text/css\">div.method-source-code { display: none }</style>" )
+  
+  // ]]>
+  </script>
+
+</head>
+<body>
+
+
+
+    <div id="classHeader">
+        <table class="header-table">
+        <tr class="top-aligned-row">
+          <td><strong>Class</strong></td>
+          <td class="class-name-in-header">Rookey::CppHierarchyParser</td>
+        </tr>
+        <tr class="top-aligned-row">
+            <td><strong>In:</strong></td>
+            <td>
+                <a href="../../files/cpp_hierarchy_parser_rb.html">
+                cpp_hierarchy_parser.rb
+                </a>
+        <br />
+            </td>
+        </tr>
+
+        <tr class="top-aligned-row">
+            <td><strong>Parent:</strong></td>
+            <td>
+                Object
+            </td>
+        </tr>
+        </table>
+    </div>
+  <!-- banner header -->
+
+  <div id="bodyContent">
+
+
+
+  <div id="contextContent">
+
+
+
+   </div>
+
+    <div id="method-list">
+      <h3 class="section-bar">Methods</h3>
+
+      <div class="name-list">
+      <a href="#M000048">getAllClasses</a>&nbsp;&nbsp;
+      <a href="#M000050">getAllDerivations</a>&nbsp;&nbsp;
+      <a href="#M000049">getAllRubyClasses</a>&nbsp;&nbsp;
+      <a href="#M000047">new</a>&nbsp;&nbsp;
+      </div>
+    </div>
+
+  </div>
+
+
+    <!-- if includes -->
+
+    <div id="section">
+
+
+    <div id="constants-list">
+      <h3 class="section-bar">Constants</h3>
+
+      <div class="name-list">
+        <table summary="Constants">
+        <tr class="top-aligned-row context-row">
+          <td class="context-item-name">CppClass</td>
+          <td>=</td>
+          <td class="context-item-value">Struct.new(:name,:parent,:header_file,:children)</td>
+        </tr>
+        </table>
+      </div>
+    </div>
+
+
+
+      
+
+
+    <!-- if method_list -->
+    <div id="methods">
+      <h3 class="section-bar">Public Class methods</h3>
+
+      <div id="method-M000047" class="method-detail">
+        <a name="M000047"></a>
+
+        <div class="method-heading">
+          <a href="CppHierarchyParser.src/M000047.html" target="Code" class="method-signature"
+            onclick="popupCode('CppHierarchyParser.src/M000047.html');return false;">
+          <span class="method-name">new</span><span class="method-args">(files)</span>
+          </a>
+        </div>
+      
+        <div class="method-description">
+        </div>
+      </div>
+
+      <h3 class="section-bar">Public Instance methods</h3>
+
+      <div id="method-M000048" class="method-detail">
+        <a name="M000048"></a>
+
+        <div class="method-heading">
+          <a href="CppHierarchyParser.src/M000048.html" target="Code" class="method-signature"
+            onclick="popupCode('CppHierarchyParser.src/M000048.html');return false;">
+          <span class="method-name">getAllClasses</span><span class="method-args">()</span>
+          </a>
+        </div>
+      
+        <div class="method-description">
+        </div>
+      </div>
+
+      <div id="method-M000050" class="method-detail">
+        <a name="M000050"></a>
+
+        <div class="method-heading">
+          <a href="CppHierarchyParser.src/M000050.html" target="Code" class="method-signature"
+            onclick="popupCode('CppHierarchyParser.src/M000050.html');return false;">
+          <span class="method-name">getAllDerivations</span><span class="method-args">()</span>
+          </a>
+        </div>
+      
+        <div class="method-description">
+          <p>
+returns array of (subclass,superclass)
+</p>
+        </div>
+      </div>
+
+      <div id="method-M000049" class="method-detail">
+        <a name="M000049"></a>
+
+        <div class="method-heading">
+          <a href="CppHierarchyParser.src/M000049.html" target="Code" class="method-signature"
+            onclick="popupCode('CppHierarchyParser.src/M000049.html');return false;">
+          <span class="method-name">getAllRubyClasses</span><span class="method-args">()</span>
+          </a>
+        </div>
+      
+        <div class="method-description">
+        </div>
+      </div>
+
+
+    </div>
+
+
+  </div>
+
+
+<div id="validator-badges">
+  <p><small><a href="http://validator.w3.org/check/referer">[Validate]</a></small></p>
+</div>
+
+</body>
+</html>
\ No newline at end of file

Added: antargis/trunk/rookey/docs/ruby/classes/Rookey/CppHierarchyParser.src/M000047.html
===================================================================
--- antargis/trunk/rookey/docs/ruby/classes/Rookey/CppHierarchyParser.src/M000047.html	2008-03-17 15:29:28 UTC (rev 1235)
+++ antargis/trunk/rookey/docs/ruby/classes/Rookey/CppHierarchyParser.src/M000047.html	2008-03-26 19:30:10 UTC (rev 1236)
@@ -0,0 +1,20 @@
+<?xml version="1.0" encoding="iso-8859-1"?>
+<!DOCTYPE html 
+     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
+     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
+
+<html>
+<head>
+  <title>new (Rookey::CppHierarchyParser)</title>
+  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
+  <link rel="stylesheet" href="../../.././rdoc-style.css" type="text/css" media="screen" />
+</head>
+<body class="standalone-code">
+  <pre><span class="ruby-comment cmt"># File cpp_hierarchy_parser.rb, line 65</span>
+    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">initialize</span>(<span class="ruby-identifier">files</span>)
+      <span class="ruby-ivar">@cppClasses</span>=[]
+      <span class="ruby-identifier">parseFiles</span>(<span class="ruby-identifier">files</span>)
+      <span class="ruby-identifier">processDerivations</span>
+    <span class="ruby-keyword kw">end</span></pre>
+</body>
+</html>
\ No newline at end of file

Added: antargis/trunk/rookey/docs/ruby/classes/Rookey/CppHierarchyParser.src/M000048.html
===================================================================
--- antargis/trunk/rookey/docs/ruby/classes/Rookey/CppHierarchyParser.src/M000048.html	2008-03-17 15:29:28 UTC (rev 1235)
+++ antargis/trunk/rookey/docs/ruby/classes/Rookey/CppHierarchyParser.src/M000048.html	2008-03-26 19:30:10 UTC (rev 1236)
@@ -0,0 +1,18 @@
+<?xml version="1.0" encoding="iso-8859-1"?>
+<!DOCTYPE html 
+     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
+     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
+
+<html>
+<head>
+  <title>getAllClasses (Rookey::CppHierarchyParser)</title>
+  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
+  <link rel="stylesheet" href="../../.././rdoc-style.css" type="text/css" media="screen" />
+</head>
+<body class="standalone-code">
+  <pre><span class="ruby-comment cmt"># File cpp_hierarchy_parser.rb, line 71</span>
+          <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">getAllClasses</span>
+            <span class="ruby-ivar">@cppClasses</span>
+          <span class="ruby-keyword kw">end</span></pre>
+</body>
+</html>
\ No newline at end of file

Added: antargis/trunk/rookey/docs/ruby/classes/Rookey/CppHierarchyParser.src/M000049.html
===================================================================
--- antargis/trunk/rookey/docs/ruby/classes/Rookey/CppHierarchyParser.src/M000049.html	2008-03-17 15:29:28 UTC (rev 1235)
+++ antargis/trunk/rookey/docs/ruby/classes/Rookey/CppHierarchyParser.src/M000049.html	2008-03-26 19:30:10 UTC (rev 1236)
@@ -0,0 +1,28 @@
+<?xml version="1.0" encoding="iso-8859-1"?>
+<!DOCTYPE html 
+     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
+     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
+
+<html>
+<head>
+  <title>getAllRubyClasses (Rookey::CppHierarchyParser)</title>
+  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
+  <link rel="stylesheet" href="../../.././rdoc-style.css" type="text/css" media="screen" />
+</head>
+<body class="standalone-code">
+  <pre><span class="ruby-comment cmt"># File cpp_hierarchy_parser.rb, line 75</span>
+    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">getAllRubyClasses</span>
+      <span class="ruby-identifier">clist</span>=[<span class="ruby-value str">&quot;AGRubyObject&quot;</span>]
+      <span class="ruby-keyword kw">while</span> <span class="ruby-keyword kw">true</span>
+        <span class="ruby-identifier">oldLength</span>=<span class="ruby-identifier">clist</span>.<span class="ruby-identifier">length</span>
+        <span class="ruby-ivar">@cppClasses</span>.<span class="ruby-identifier">each</span>{<span class="ruby-operator">|</span><span class="ruby-identifier">c</span><span class="ruby-operator">|</span>
+          <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">clist</span>.<span class="ruby-identifier">member?</span>(<span class="ruby-identifier">c</span>.<span class="ruby-identifier">parent</span>)
+            <span class="ruby-identifier">clist</span>=(<span class="ruby-identifier">clist</span><span class="ruby-operator">+</span>[<span class="ruby-identifier">c</span>]).<span class="ruby-identifier">uniq</span>
+          <span class="ruby-keyword kw">end</span>
+        }
+        <span class="ruby-keyword kw">break</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">oldLength!</span>=<span class="ruby-identifier">clist</span>.<span class="ruby-identifier">length</span>
+      <span class="ruby-keyword kw">end</span>
+      <span class="ruby-identifier">clist</span>
+    <span class="ruby-keyword kw">end</span></pre>
+</body>
+</html>
\ No newline at end of file

Added: antargis/trunk/rookey/docs/ruby/classes/Rookey/CppHierarchyParser.src/M000050.html
===================================================================
--- antargis/trunk/rookey/docs/ruby/classes/Rookey/CppHierarchyParser.src/M000050.html	2008-03-17 15:29:28 UTC (rev 1235)
+++ antargis/trunk/rookey/docs/ruby/classes/Rookey/CppHierarchyParser.src/M000050.html	2008-03-26 19:30:10 UTC (rev 1236)
@@ -0,0 +1,18 @@
+<?xml version="1.0" encoding="iso-8859-1"?>
+<!DOCTYPE html 
+     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
+     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
+
+<html>
+<head>
+  <title>getAllDerivations (Rookey::CppHierarchyParser)</title>
+  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
+  <link rel="stylesheet" href="../../.././rdoc-style.css" type="text/css" media="screen" />
+</head>
+<body class="standalone-code">
+  <pre><span class="ruby-comment cmt"># File cpp_hierarchy_parser.rb, line 90</span>
+    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">getAllDerivations</span>
+      <span class="ruby-ivar">@cppClasses</span>.<span class="ruby-identifier">select</span>{<span class="ruby-operator">|</span><span class="ruby-identifier">c</span><span class="ruby-operator">|</span><span class="ruby-identifier">c</span>.<span class="ruby-identifier">parent</span>}.<span class="ruby-identifier">map</span>{<span class="ruby-operator">|</span><span class="ruby-identifier">c</span><span class="ruby-operator">|</span>[<span class="ruby-identifier">c</span>.<span class="ruby-identifier">name</span>,<span class="ruby-identifier">c</span>.<span class="ruby-identifier">parent</span>]}
+    <span class="ruby-keyword kw">end</span></pre>
+</body>
+</html>
\ No newline at end of file

Added: antargis/trunk/rookey/docs/ruby/classes/Rookey/DebugConfig.html
===================================================================
--- antargis/trunk/rookey/docs/ruby/classes/Rookey/DebugConfig.html	2008-03-17 15:29:28 UTC (rev 1235)
+++ antargis/trunk/rookey/docs/ruby/classes/Rookey/DebugConfig.html	2008-03-26 19:30:10 UTC (rev 1236)
@@ -0,0 +1,139 @@
+<?xml version="1.0" encoding="iso-8859-1"?>
+<!DOCTYPE html 
+     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
+     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
+
+<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
+<head>
+  <title>Class: Rookey::DebugConfig</title>
+  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
+  <meta http-equiv="Content-Script-Type" content="text/javascript" />
+  <link rel="stylesheet" href="../.././rdoc-style.css" type="text/css" media="screen" />
+  <script type="text/javascript">
+  // <![CDATA[
+
+  function popupCode( url ) {
+    window.open(url, "Code", "resizable=yes,scrollbars=yes,toolbar=no,status=no,height=150,width=400")
+  }
+
+  function toggleCode( id ) {
+    if ( document.getElementById )
+      elem = document.getElementById( id );
+    else if ( document.all )
+      elem = eval( "document.all." + id );
+    else
+      return false;
+
+    elemStyle = elem.style;
+    
+    if ( elemStyle.display != "block" ) {
+      elemStyle.display = "block"
+    } else {
+      elemStyle.display = "none"
+    }
+
+    return true;
+  }
+  
+  // Make codeblocks hidden by default
+  document.writeln( "<style type=\"text/css\">div.method-source-code { display: none }</style>" )
+  
+  // ]]>
+  </script>
+
+</head>
+<body>
+
+
+
+    <div id="classHeader">
+        <table class="header-table">
+        <tr class="top-aligned-row">
+          <td><strong>Class</strong></td>
+          <td class="class-name-in-header">Rookey::DebugConfig</td>
+        </tr>
+        <tr class="top-aligned-row">
+            <td><strong>In:</strong></td>
+            <td>
+                <a href="../../files/configs/debug_rb.html">
+                configs/debug.rb
+                </a>
+        <br />
+            </td>
+        </tr>
+
+        <tr class="top-aligned-row">
+            <td><strong>Parent:</strong></td>
+            <td>
+                <a href="Configurator.html">
+                Configurator
+               </a>
+            </td>
+        </tr>
+        </table>
+    </div>
+  <!-- banner header -->
+
+  <div id="bodyContent">
+
+
+
+  <div id="contextContent">
+
+
+
+   </div>
+
+    <div id="method-list">
+      <h3 class="section-bar">Methods</h3>
+
+      <div class="name-list">
+      <a href="#M000057">run</a>&nbsp;&nbsp;
+      </div>
+    </div>
+
+  </div>
+
+
+    <!-- if includes -->
+
+    <div id="section">
+
+
+
+
+
+      
+
+
+    <!-- if method_list -->
+    <div id="methods">
+      <h3 class="section-bar">Public Instance methods</h3>
+
+      <div id="method-M000057" class="method-detail">
+        <a name="M000057"></a>
+
+        <div class="method-heading">
+          <a href="DebugConfig.src/M000057.html" target="Code" class="method-signature"
+            onclick="popupCode('DebugConfig.src/M000057.html');return false;">
+          <span class="method-name">run</span><span class="method-args">(config)</span>
+          </a>
+        </div>
+      
+        <div class="method-description">
+        </div>
+      </div>
+
+
+    </div>
+
+
+  </div>
+
+
+<div id="validator-badges">
+  <p><small><a href="http://validator.w3.org/check/referer">[Validate]</a></small></p>
+</div>
+
+</body>
+</html>
\ No newline at end of file

Added: antargis/trunk/rookey/docs/ruby/classes/Rookey/DebugConfig.src/M000057.html
===================================================================
--- antargis/trunk/rookey/docs/ruby/classes/Rookey/DebugConfig.src/M000057.html	2008-03-17 15:29:28 UTC (rev 1235)
+++ antargis/trunk/rookey/docs/ruby/classes/Rookey/DebugConfig.src/M000057.html	2008-03-26 19:30:10 UTC (rev 1236)
@@ -0,0 +1,19 @@
+<?xml version="1.0" encoding="iso-8859-1"?>
+<!DOCTYPE html 
+     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
+     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
+
+<html>
+<head>
+  <title>run (Rookey::DebugConfig)</title>
+  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
+  <link rel="stylesheet" href="../../.././rdoc-style.css" type="text/css" media="screen" />
+</head>
+<body class="standalone-code">
+  <pre><span class="ruby-comment cmt"># File configs/debug.rb, line 5</span>
+    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">run</span>(<span class="ruby-identifier">config</span>)
+      <span class="ruby-identifier">config</span>.<span class="ruby-identifier">add</span>(<span class="ruby-value str">&quot;CFLAGS&quot;</span>,<span class="ruby-value str">&quot;-O0 -g&quot;</span>)
+      <span class="ruby-identifier">config</span>.<span class="ruby-identifier">add</span>(<span class="ruby-value str">&quot;LDFLAGS&quot;</span>,<span class="ruby-value str">&quot;-g&quot;</span>)
+    <span class="ruby-keyword kw">end</span></pre>
+</body>
+</html>
\ No newline at end of file

Added: antargis/trunk/rookey/docs/ruby/classes/Rookey/GLConfig.html
===================================================================
--- antargis/trunk/rookey/docs/ruby/classes/Rookey/GLConfig.html	2008-03-17 15:29:28 UTC (rev 1235)
+++ antargis/trunk/rookey/docs/ruby/classes/Rookey/GLConfig.html	2008-03-26 19:30:10 UTC (rev 1236)
@@ -0,0 +1,139 @@
+<?xml version="1.0" encoding="iso-8859-1"?>
+<!DOCTYPE html 
+     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
+     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
+
+<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
+<head>
+  <title>Class: Rookey::GLConfig</title>
+  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
+  <meta http-equiv="Content-Script-Type" content="text/javascript" />
+  <link rel="stylesheet" href="../.././rdoc-style.css" type="text/css" media="screen" />
+  <script type="text/javascript">
+  // <![CDATA[
+
+  function popupCode( url ) {
+    window.open(url, "Code", "resizable=yes,scrollbars=yes,toolbar=no,status=no,height=150,width=400")
+  }
+
+  function toggleCode( id ) {
+    if ( document.getElementById )
+      elem = document.getElementById( id );
+    else if ( document.all )
+      elem = eval( "document.all." + id );
+    else
+      return false;
+
+    elemStyle = elem.style;
+    
+    if ( elemStyle.display != "block" ) {
+      elemStyle.display = "block"
+    } else {
+      elemStyle.display = "none"
+    }
+
+    return true;
+  }
+  
+  // Make codeblocks hidden by default
+  document.writeln( "<style type=\"text/css\">div.method-source-code { display: none }</style>" )
+  
+  // ]]>
+  </script>
+
+</head>
+<body>
+
+
+
+    <div id="classHeader">
+        <table class="header-table">
+        <tr class="top-aligned-row">
+          <td><strong>Class</strong></td>
+          <td class="class-name-in-header">Rookey::GLConfig</td>
+        </tr>
+        <tr class="top-aligned-row">
+            <td><strong>In:</strong></td>
+            <td>
+                <a href="../../files/configs/gl_rb.html">
+                configs/gl.rb
+                </a>
+        <br />
+            </td>
+        </tr>
+
+        <tr class="top-aligned-row">
+            <td><strong>Parent:</strong></td>
+            <td>
+                <a href="RubyConfig.html">
+                RubyConfig
+               </a>
+            </td>
+        </tr>
+        </table>
+    </div>
+  <!-- banner header -->
+
+  <div id="bodyContent">
+
+
+
+  <div id="contextContent">
+
+
+
+   </div>
+
+    <div id="method-list">
+      <h3 class="section-bar">Methods</h3>
+
+      <div class="name-list">
+      <a href="#M000052">run</a>&nbsp;&nbsp;
+      </div>
+    </div>
+
+  </div>
+
+
+    <!-- if includes -->
+
+    <div id="section">
+
+
+
+
+
+      
+
+
+    <!-- if method_list -->
+    <div id="methods">
+      <h3 class="section-bar">Public Instance methods</h3>
+
+      <div id="method-M000052" class="method-detail">
+        <a name="M000052"></a>
+
+        <div class="method-heading">
+          <a href="GLConfig.src/M000052.html" target="Code" class="method-signature"
+            onclick="popupCode('GLConfig.src/M000052.html');return false;">
+          <span class="method-name">run</span><span class="method-args">(config)</span>
+          </a>
+        </div>
+      
+        <div class="method-description">
+        </div>
+      </div>
+
+
+    </div>
+
+
+  </div>
+
+
+<div id="validator-badges">
+  <p><small><a href="http://validator.w3.org/check/referer">[Validate]</a></small></p>
+</div>
+
+</body>
+</html>
\ No newline at end of file

Added: antargis/trunk/rookey/docs/ruby/classes/Rookey/GLConfig.src/M000052.html
===================================================================
--- antargis/trunk/rookey/docs/ruby/classes/Rookey/GLConfig.src/M000052.html	2008-03-17 15:29:28 UTC (rev 1235)
+++ antargis/trunk/rookey/docs/ruby/classes/Rookey/GLConfig.src/M000052.html	2008-03-26 19:30:10 UTC (rev 1236)
@@ -0,0 +1,21 @@
+<?xml version="1.0" encoding="iso-8859-1"?>
+<!DOCTYPE html 
+     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
+     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
+
+<html>
+<head>
+  <title>run (Rookey::GLConfig)</title>
+  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
+  <link rel="stylesheet" href="../../.././rdoc-style.css" type="text/css" media="screen" />
+</head>
+<body class="standalone-code">
+  <pre><span class="ruby-comment cmt"># File configs/gl.rb, line 8</span>
+    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">run</span>(<span class="ruby-identifier">config</span>)
+      <span class="ruby-keyword kw">case</span> <span class="ruby-identifier">get</span>(<span class="ruby-value str">&quot;host_os&quot;</span>)
+        <span class="ruby-keyword kw">when</span> <span class="ruby-regexp re">/darwin/</span>
+          <span class="ruby-identifier">config</span>.<span class="ruby-identifier">add</span>(<span class="ruby-value str">&quot;INCLUDEDIRS&quot;</span>,<span class="ruby-value str">&quot;/usr/X11/include&quot;</span>)        
+      <span class="ruby-keyword kw">end</span>      
+    <span class="ruby-keyword kw">end</span></pre>
+</body>
+</html>
\ No newline at end of file

Added: antargis/trunk/rookey/docs/ruby/classes/Rookey/RubyConfig.html
===================================================================
--- antargis/trunk/rookey/docs/ruby/classes/Rookey/RubyConfig.html	2008-03-17 15:29:28 UTC (rev 1235)
+++ antargis/trunk/rookey/docs/ruby/classes/Rookey/RubyConfig.html	2008-03-26 19:30:10 UTC (rev 1236)
@@ -0,0 +1,139 @@
+<?xml version="1.0" encoding="iso-8859-1"?>
+<!DOCTYPE html 
+     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
+     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
+
+<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
+<head>
+  <title>Class: Rookey::RubyConfig</title>
+  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
+  <meta http-equiv="Content-Script-Type" content="text/javascript" />
+  <link rel="stylesheet" href="../.././rdoc-style.css" type="text/css" media="screen" />
+  <script type="text/javascript">
+  // <![CDATA[
+
+  function popupCode( url ) {
+    window.open(url, "Code", "resizable=yes,scrollbars=yes,toolbar=no,status=no,height=150,width=400")
+  }
+
+  function toggleCode( id ) {
+    if ( document.getElementById )
+      elem = document.getElementById( id );
+    else if ( document.all )
+      elem = eval( "document.all." + id );
+    else
+      return false;
+
+    elemStyle = elem.style;
+    
+    if ( elemStyle.display != "block" ) {
+      elemStyle.display = "block"
+    } else {
+      elemStyle.display = "none"
+    }
+
+    return true;
+  }
+  
+  // Make codeblocks hidden by default
+  document.writeln( "<style type=\"text/css\">div.method-source-code { display: none }</style>" )
+  
+  // ]]>
+  </script>
+
+</head>
+<body>
+
+
+
+    <div id="classHeader">
+        <table class="header-table">
+        <tr class="top-aligned-row">
+          <td><strong>Class</strong></td>
+          <td class="class-name-in-header">Rookey::RubyConfig</td>
+        </tr>
+        <tr class="top-aligned-row">
+            <td><strong>In:</strong></td>
+            <td>
+                <a href="../../files/configs/ruby_rb.html">
+                configs/ruby.rb
+                </a>
+        <br />
+            </td>
+        </tr>
+
+        <tr class="top-aligned-row">
+            <td><strong>Parent:</strong></td>
+            <td>
+                <a href="Configurator.html">
+                Configurator
+               </a>
+            </td>
+        </tr>
+        </table>
+    </div>
+  <!-- banner header -->
+
+  <div id="bodyContent">
+
+
+
+  <div id="contextContent">
+
+
+
+   </div>
+
+    <div id="method-list">
+      <h3 class="section-bar">Methods</h3>
+
+      <div class="name-list">
+      <a href="#M000051">run</a>&nbsp;&nbsp;
+      </div>
+    </div>
+
+  </div>
+
+
+    <!-- if includes -->
+
+    <div id="section">
+
+
+
+
+
+      
+
+
+    <!-- if method_list -->
+    <div id="methods">
+      <h3 class="section-bar">Public Instance methods</h3>
+
+      <div id="method-M000051" class="method-detail">
+        <a name="M000051"></a>
+
+        <div class="method-heading">
+          <a href="RubyConfig.src/M000051.html" target="Code" class="method-signature"
+            onclick="popupCode('RubyConfig.src/M000051.html');return false;">
+          <span class="method-name">run</span><span class="method-args">(config)</span>
+          </a>
+        </div>
+      
+        <div class="method-description">
+        </div>
+      </div>
+
+
+    </div>
+
+
+  </div>
+
+
+<div id="validator-badges">
+  <p><small><a href="http://validator.w3.org/check/referer">[Validate]</a></small></p>
+</div>
+
+</body>
+</html>
\ No newline at end of file

Added: antargis/trunk/rookey/docs/ruby/classes/Rookey/RubyConfig.src/M000051.html
===================================================================
--- antargis/trunk/rookey/docs/ruby/classes/Rookey/RubyConfig.src/M000051.html	2008-03-17 15:29:28 UTC (rev 1235)
+++ antargis/trunk/rookey/docs/ruby/classes/Rookey/RubyConfig.src/M000051.html	2008-03-26 19:30:10 UTC (rev 1236)
@@ -0,0 +1,24 @@
+<?xml version="1.0" encoding="iso-8859-1"?>
+<!DOCTYPE html 
+     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
+     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
+
+<html>
+<head>
+  <title>run (Rookey::RubyConfig)</title>
+  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
+  <link rel="stylesheet" href="../../.././rdoc-style.css" type="text/css" media="screen" />
+</head>
+<body class="standalone-code">
+  <pre><span class="ruby-comment cmt"># File configs/ruby.rb, line 7</span>
+    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">run</span>(<span class="ruby-identifier">config</span>)
+      <span class="ruby-identifier">config</span>.<span class="ruby-identifier">add</span>(<span class="ruby-value str">&quot;INCLUDEDIRS&quot;</span>,<span class="ruby-identifier">get</span>(<span class="ruby-value str">&quot;archdir&quot;</span>)<span class="ruby-operator">+</span><span class="ruby-value str">&quot; &quot;</span><span class="ruby-operator">+</span><span class="ruby-identifier">get</span>(<span class="ruby-value str">&quot;includedir&quot;</span>))
+      <span class="ruby-identifier">config</span>.<span class="ruby-identifier">add</span>(<span class="ruby-value str">&quot;CFLAGS&quot;</span>,<span class="ruby-identifier">get</span>(<span class="ruby-value str">&quot;CFLAGS&quot;</span>))
+      <span class="ruby-identifier">config</span>.<span class="ruby-identifier">add</span>(<span class="ruby-value str">&quot;LDFLAGS&quot;</span>,<span class="ruby-identifier">get</span>(<span class="ruby-value str">&quot;LIBS&quot;</span>))
+      <span class="ruby-identifier">config</span>.<span class="ruby-identifier">add</span>(<span class="ruby-value str">&quot;LDFLAGS&quot;</span>,<span class="ruby-identifier">get</span>(<span class="ruby-value str">&quot;LIBRUBYARG&quot;</span>))
+      <span class="ruby-identifier">config</span>.<span class="ruby-identifier">add</span>(<span class="ruby-value str">&quot;LDSHAREDFLAGS&quot;</span>,<span class="ruby-identifier">get</span>(<span class="ruby-value str">&quot;LDSHARED&quot;</span>).<span class="ruby-identifier">sub</span>(<span class="ruby-regexp re">/^[^ ]+ /</span>,<span class="ruby-value str">&quot;&quot;</span>))
+      <span class="ruby-identifier">config</span>[<span class="ruby-value str">&quot;DLEXT&quot;</span>]=<span class="ruby-identifier">get</span>(<span class="ruby-value str">&quot;DLEXT&quot;</span>)
+      <span class="ruby-identifier">config</span>[<span class="ruby-value str">&quot;host_os&quot;</span>]=<span class="ruby-identifier">get</span>(<span class="ruby-value str">&quot;host_os&quot;</span>)      
+    <span class="ruby-keyword kw">end</span></pre>
+</body>
+</html>
\ No newline at end of file

Added: antargis/trunk/rookey/docs/ruby/classes/Rookey/SDLConfig.html
===================================================================
--- antargis/trunk/rookey/docs/ruby/classes/Rookey/SDLConfig.html	2008-03-17 15:29:28 UTC (rev 1235)
+++ antargis/trunk/rookey/docs/ruby/classes/Rookey/SDLConfig.html	2008-03-26 19:30:10 UTC (rev 1236)
@@ -0,0 +1,139 @@
+<?xml version="1.0" encoding="iso-8859-1"?>
+<!DOCTYPE html 
+     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
+     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
+
+<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
+<head>
+  <title>Class: Rookey::SDLConfig</title>
+  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
+  <meta http-equiv="Content-Script-Type" content="text/javascript" />
+  <link rel="stylesheet" href="../.././rdoc-style.css" type="text/css" media="screen" />
+  <script type="text/javascript">
+  // <![CDATA[
+
+  function popupCode( url ) {
+    window.open(url, "Code", "resizable=yes,scrollbars=yes,toolbar=no,status=no,height=150,width=400")
+  }
+
+  function toggleCode( id ) {
+    if ( document.getElementById )
+      elem = document.getElementById( id );
+    else if ( document.all )
+      elem = eval( "document.all." + id );
+    else
+      return false;
+
+    elemStyle = elem.style;
+    
+    if ( elemStyle.display != "block" ) {
+      elemStyle.display = "block"
+    } else {
+      elemStyle.display = "none"
+    }
+
+    return true;
+  }
+  
+  // Make codeblocks hidden by default
+  document.writeln( "<style type=\"text/css\">div.method-source-code { display: none }</style>" )
+  
+  // ]]>
+  </script>
+
+</head>
+<body>
+
+
+
+    <div id="classHeader">
+        <table class="header-table">
+        <tr class="top-aligned-row">
+          <td><strong>Class</strong></td>
+          <td class="class-name-in-header">Rookey::SDLConfig</td>
+        </tr>
+        <tr class="top-aligned-row">
+            <td><strong>In:</strong></td>
+            <td>
+                <a href="../../files/configs/sdl_rb.html">
+                configs/sdl.rb
+                </a>
+        <br />
+            </td>
+        </tr>
+
+        <tr class="top-aligned-row">
+            <td><strong>Parent:</strong></td>
+            <td>
+                <a href="Configurator.html">
+                Configurator
+               </a>
+            </td>
+        </tr>
+        </table>
+    </div>
+  <!-- banner header -->
+
+  <div id="bodyContent">
+
+
+
+  <div id="contextContent">
+
+
+
+   </div>
+
+    <div id="method-list">
+      <h3 class="section-bar">Methods</h3>
+
+      <div class="name-list">
+      <a href="#M000019">run</a>&nbsp;&nbsp;
+      </div>
+    </div>
+
+  </div>
+
+
+    <!-- if includes -->
+
+    <div id="section">
+
+
+
+
+
+      
+
+
+    <!-- if method_list -->
+    <div id="methods">
+      <h3 class="section-bar">Public Instance methods</h3>
+
+      <div id="method-M000019" class="method-detail">
+        <a name="M000019"></a>
+
+        <div class="method-heading">
+          <a href="SDLConfig.src/M000019.html" target="Code" class="method-signature"
+            onclick="popupCode('SDLConfig.src/M000019.html');return false;">
+          <span class="method-name">run</span><span class="method-args">(config)</span>
+          </a>
+        </div>
+      
+        <div class="method-description">
+        </div>
+      </div>
+
+
+    </div>
+
+
+  </div>
+
+
+<div id="validator-badges">
+  <p><small><a href="http://validator.w3.org/check/referer">[Validate]</a></small></p>
+</div>
+
+</body>
+</html>
\ No newline at end of file

Added: antargis/trunk/rookey/docs/ruby/classes/Rookey/SDLConfig.src/M000019.html
===================================================================
--- antargis/trunk/rookey/docs/ruby/classes/Rookey/SDLConfig.src/M000019.html	2008-03-17 15:29:28 UTC (rev 1235)
+++ antargis/trunk/rookey/docs/ruby/classes/Rookey/SDLConfig.src/M000019.html	2008-03-26 19:30:10 UTC (rev 1236)
@@ -0,0 +1,29 @@
+<?xml version="1.0" encoding="iso-8859-1"?>
+<!DOCTYPE html 
+     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
+     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
+
+<html>
+<head>
+  <title>run (Rookey::SDLConfig)</title>
+  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
+  <link rel="stylesheet" href="../../.././rdoc-style.css" type="text/css" media="screen" />
+</head>
+<body class="standalone-code">
+  <pre><span class="ruby-comment cmt"># File configs/sdl.rb, line 6</span>
+    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">run</span>(<span class="ruby-identifier">config</span>)
+      <span class="ruby-comment cmt"># FIXME</span>
+      <span class="ruby-identifier">sdlconfig</span>=<span class="ruby-value str">&quot;sdl-config&quot;</span>
+      
+      <span class="ruby-identifier">cflags</span>=<span class="ruby-node">`#{sdlconfig} --cflags`</span>.<span class="ruby-identifier">chomp</span>
+      <span class="ruby-identifier">config</span>.<span class="ruby-identifier">add</span>(<span class="ruby-value str">&quot;CFLAGS&quot;</span>,<span class="ruby-identifier">cflags</span>.<span class="ruby-identifier">split</span>(<span class="ruby-value str">&quot; &quot;</span>).<span class="ruby-identifier">select</span>{<span class="ruby-operator">|</span><span class="ruby-identifier">f</span><span class="ruby-operator">|</span><span class="ruby-keyword kw">not</span> <span class="ruby-identifier">f</span><span class="ruby-operator">=~</span><span class="ruby-regexp re">/^-I/</span>}.<span class="ruby-identifier">join</span>(<span class="ruby-value str">&quot; &quot;</span>))
+      <span class="ruby-identifier">config</span>.<span class="ruby-identifier">add</span>(<span class="ruby-value str">&quot;INCLUDEDIRS&quot;</span>,<span class="ruby-identifier">cflags</span>.<span class="ruby-identifier">split</span>(<span class="ruby-value str">&quot; &quot;</span>).<span class="ruby-identifier">select</span>{<span class="ruby-operator">|</span><span class="ruby-identifier">f</span><span class="ruby-operator">|</span><span class="ruby-identifier">f</span><span class="ruby-operator">=~</span><span class="ruby-regexp re">/^-I/</span>}.<span class="ruby-identifier">map</span>{<span class="ruby-operator">|</span><span class="ruby-identifier">f</span><span class="ruby-operator">|</span><span class="ruby-identifier">f</span>[<span class="ruby-value">2</span><span class="ruby-operator">..</span><span class="ruby-value">-1</span>]}.<span class="ruby-identifier">join</span>(<span class="ruby-value str">&quot; &quot;</span>))
+      <span class="ruby-identifier">config</span>.<span class="ruby-identifier">add</span>(<span class="ruby-value str">&quot;LDFLAGS&quot;</span>,<span class="ruby-value">`sdl-config --libs`</span>.<span class="ruby-identifier">chomp</span>)
+      
+      
+      <span class="ruby-identifier">checkLibrary</span>(<span class="ruby-identifier">config</span>,<span class="ruby-value str">&quot;SDL_image&quot;</span>,<span class="ruby-value str">&quot;IMG_Load&quot;</span>)
+      <span class="ruby-identifier">checkLibrary</span>(<span class="ruby-identifier">config</span>,<span class="ruby-value str">&quot;SDL_ttf&quot;</span>,<span class="ruby-value str">&quot;TTF_Quit&quot;</span>)
+      <span class="ruby-identifier">checkLibrary</span>(<span class="ruby-identifier">config</span>,<span class="ruby-value str">&quot;SDL_mixer&quot;</span>,<span class="ruby-value str">&quot;Mix_LoadMus&quot;</span>)
+    <span class="ruby-keyword kw">end</span></pre>
+</body>
+</html>
\ No newline at end of file

Added: antargis/trunk/rookey/docs/ruby/classes/Rookey/Swig.html
===================================================================
--- antargis/trunk/rookey/docs/ruby/classes/Rookey/Swig.html	2008-03-17 15:29:28 UTC (rev 1235)
+++ antargis/trunk/rookey/docs/ruby/classes/Rookey/Swig.html	2008-03-26 19:30:10 UTC (rev 1236)
@@ -0,0 +1,169 @@
+<?xml version="1.0" encoding="iso-8859-1"?>
+<!DOCTYPE html 
+     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
+     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
+
+<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
+<head>
+  <title>Class: Rookey::Swig</title>
+  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
+  <meta http-equiv="Content-Script-Type" content="text/javascript" />
+  <link rel="stylesheet" href="../.././rdoc-style.css" type="text/css" media="screen" />
+  <script type="text/javascript">
+  // <![CDATA[
+
+  function popupCode( url ) {
+    window.open(url, "Code", "resizable=yes,scrollbars=yes,toolbar=no,status=no,height=150,width=400")
+  }
+
+  function toggleCode( id ) {
+    if ( document.getElementById )
+      elem = document.getElementById( id );
+    else if ( document.all )
+      elem = eval( "document.all." + id );
+    else
+      return false;
+
+    elemStyle = elem.style;
+    
+    if ( elemStyle.display != "block" ) {
+      elemStyle.display = "block"
+    } else {
+      elemStyle.display = "none"
+    }
+
+    return true;
+  }
+  
+  // Make codeblocks hidden by default
+  document.writeln( "<style type=\"text/css\">div.method-source-code { display: none }</style>" )
+  
+  // ]]>
+  </script>
+
+</head>
+<body>
+
+
+
+    <div id="classHeader">
+        <table class="header-table">
+        <tr class="top-aligned-row">
+          <td><strong>Class</strong></td>
+          <td class="class-name-in-header">Rookey::Swig</td>
+        </tr>
+        <tr class="top-aligned-row">
+            <td><strong>In:</strong></td>
+            <td>
+                <a href="../../files/swig_rb.html">
+                swig.rb
+                </a>
+        <br />
+            </td>
+        </tr>
+
+        <tr class="top-aligned-row">
+            <td><strong>Parent:</strong></td>
+            <td>
+                Object
+            </td>
+        </tr>
+        </table>
+    </div>
+  <!-- banner header -->
+
+  <div id="bodyContent">
+
+
+
+  <div id="contextContent">
+
+
+
+   </div>
+
+    <div id="method-list">
+      <h3 class="section-bar">Methods</h3>
+
+      <div class="name-list">
+      <a href="#M000023">getDeps</a>&nbsp;&nbsp;
+      <a href="#M000021">new</a>&nbsp;&nbsp;
+      <a href="#M000022">swig</a>&nbsp;&nbsp;
+      </div>
+    </div>
+
+  </div>
+
+
+    <!-- if includes -->
+
+    <div id="section">
+
+
+
+
+
+      
+
+
+    <!-- if method_list -->
+    <div id="methods">
+      <h3 class="section-bar">Public Class methods</h3>
+
+      <div id="method-M000023" class="method-detail">
+        <a name="M000023"></a>
+
+        <div class="method-heading">
+          <a href="Swig.src/M000023.html" target="Code" class="method-signature"
+            onclick="popupCode('Swig.src/M000023.html');return false;">
+          <span class="method-name">getDeps</span><span class="method-args">(interface)</span>
+          </a>
+        </div>
+      
+        <div class="method-description">
+        </div>
+      </div>
+
+      <div id="method-M000021" class="method-detail">
+        <a name="M000021"></a>
+
+        <div class="method-heading">
+          <a href="Swig.src/M000021.html" target="Code" class="method-signature"
+            onclick="popupCode('Swig.src/M000021.html');return false;">
+          <span class="method-name">new</span><span class="method-args">(config,target=:ruby,cpp=true)</span>
+          </a>
+        </div>
+      
+        <div class="method-description">
+        </div>
+      </div>
+
+      <h3 class="section-bar">Public Instance methods</h3>
+
+      <div id="method-M000022" class="method-detail">
+        <a name="M000022"></a>
+
+        <div class="method-heading">
+          <a href="Swig.src/M000022.html" target="Code" class="method-signature"
+            onclick="popupCode('Swig.src/M000022.html');return false;">
+          <span class="method-name">swig</span><span class="method-args">(t,interface)</span>
+          </a>
+        </div>
+      
+        <div class="method-description">
+        </div>
+      </div>
+
+
+    </div>
+
+
+  </div>
+
+
+<div id="validator-badges">
+  <p><small><a href="http://validator.w3.org/check/referer">[Validate]</a></small></p>
+</div>
+
+</body>
+</html>
\ No newline at end of file

Added: antargis/trunk/rookey/docs/ruby/classes/Rookey/Swig.src/M000021.html
===================================================================
--- antargis/trunk/rookey/docs/ruby/classes/Rookey/Swig.src/M000021.html	2008-03-17 15:29:28 UTC (rev 1235)
+++ antargis/trunk/rookey/docs/ruby/classes/Rookey/Swig.src/M000021.html	2008-03-26 19:30:10 UTC (rev 1236)
@@ -0,0 +1,20 @@
+<?xml version="1.0" encoding="iso-8859-1"?>
+<!DOCTYPE html 
+     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
+     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
+
+<html>
+<head>
+  <title>new (Rookey::Swig)</title>
+  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
+  <link rel="stylesheet" href="../../.././rdoc-style.css" type="text/css" media="screen" />
+</head>
+<body class="standalone-code">
+  <pre><span class="ruby-comment cmt"># File swig.rb, line 3</span>
+    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">initialize</span>(<span class="ruby-identifier">config</span>,<span class="ruby-identifier">target</span>=<span class="ruby-identifier">:ruby</span>,<span class="ruby-identifier">cpp</span>=<span class="ruby-keyword kw">true</span>)
+      <span class="ruby-ivar">@config</span>=<span class="ruby-identifier">config</span>
+      <span class="ruby-ivar">@target</span>=<span class="ruby-identifier">target</span>
+      <span class="ruby-ivar">@cpp</span>=<span class="ruby-identifier">cpp</span>
+    <span class="ruby-keyword kw">end</span></pre>
+</body>
+</html>
\ No newline at end of file

Added: antargis/trunk/rookey/docs/ruby/classes/Rookey/Swig.src/M000022.html
===================================================================
--- antargis/trunk/rookey/docs/ruby/classes/Rookey/Swig.src/M000022.html	2008-03-17 15:29:28 UTC (rev 1235)
+++ antargis/trunk/rookey/docs/ruby/classes/Rookey/Swig.src/M000022.html	2008-03-26 19:30:10 UTC (rev 1236)
@@ -0,0 +1,56 @@
+<?xml version="1.0" encoding="iso-8859-1"?>
+<!DOCTYPE html 
+     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
+     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
+
+<html>
+<head>
+  <title>swig (Rookey::Swig)</title>
+  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
+  <link rel="stylesheet" href="../../.././rdoc-style.css" type="text/css" media="screen" />
+</head>
+<body class="standalone-code">
+  <pre><span class="ruby-comment cmt"># File swig.rb, line 8</span>
+    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">swig</span>(<span class="ruby-identifier">t</span>,<span class="ruby-identifier">interface</span>)
+      <span class="ruby-identifier">options</span>=[]
+      <span class="ruby-identifier">program</span>=<span class="ruby-ivar">@config</span>[<span class="ruby-value str">&quot;SWIG&quot;</span>]
+      <span class="ruby-identifier">program</span><span class="ruby-operator">||=</span><span class="ruby-value str">&quot;swig&quot;</span>
+      <span class="ruby-identifier">program</span>=<span class="ruby-value str">&quot;swig&quot;</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">program</span><span class="ruby-operator">==</span><span class="ruby-value str">&quot;&quot;</span>
+      <span class="ruby-identifier">options</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-node">&quot;-#{@target}&quot;</span>
+      <span class="ruby-identifier">options</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-value str">&quot;-c++&quot;</span> <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@cpp</span>
+      <span class="ruby-identifier">swigOptions</span> = <span class="ruby-ivar">@config</span>[<span class="ruby-value str">&quot;SWIG_OPTIONS&quot;</span>].<span class="ruby-identifier">split</span>(<span class="ruby-value str">&quot; &quot;</span>)
+      <span class="ruby-identifier">swigOptions</span><span class="ruby-operator">||=</span>[]
+      <span class="ruby-identifier">includeDirs</span> = <span class="ruby-ivar">@config</span>[<span class="ruby-value str">&quot;INCLUDEDIRS&quot;</span>].<span class="ruby-identifier">split</span>(<span class="ruby-value str">&quot; &quot;</span>)
+      <span class="ruby-identifier">includeDirs</span><span class="ruby-operator">||=</span>[]
+      <span class="ruby-identifier">includes</span>=<span class="ruby-identifier">includeDirs</span>.<span class="ruby-identifier">map</span>{<span class="ruby-operator">|</span><span class="ruby-identifier">d</span><span class="ruby-operator">|</span><span class="ruby-value str">&quot;-I&quot;</span><span class="ruby-operator">+</span><span class="ruby-identifier">d</span>}
+      <span class="ruby-identifier">options</span><span class="ruby-operator">+=</span><span class="ruby-identifier">swigOptions</span><span class="ruby-operator">+</span><span class="ruby-identifier">includes</span>
+      <span class="ruby-identifier">options</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-value str">&quot;-o &quot;</span><span class="ruby-operator">+</span><span class="ruby-identifier">t</span>.<span class="ruby-identifier">name</span>
+      <span class="ruby-identifier">options</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">interface</span>
+      <span class="ruby-identifier">call</span>=<span class="ruby-identifier">program</span><span class="ruby-operator">+</span><span class="ruby-value str">&quot; &quot;</span><span class="ruby-operator">+</span><span class="ruby-identifier">options</span>.<span class="ruby-identifier">join</span>(<span class="ruby-value str">&quot; &quot;</span>)
+      <span class="ruby-keyword kw">begin</span>
+        <span class="ruby-identifier">sh</span> <span class="ruby-identifier">call</span>
+      <span class="ruby-keyword kw">rescue</span>
+        <span class="ruby-keyword kw">begin</span>
+          <span class="ruby-constant">File</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-identifier">t</span>.<span class="ruby-identifier">name</span>)
+        <span class="ruby-keyword kw">rescue</span>
+        <span class="ruby-keyword kw">end</span>
+        <span class="ruby-identifier">raise</span>
+      <span class="ruby-keyword kw">end</span>
+      
+      <span class="ruby-comment cmt"># write deps</span>
+      <span class="ruby-comment cmt"># rmove -o</span>
+      <span class="ruby-identifier">options</span>=<span class="ruby-identifier">options</span>.<span class="ruby-identifier">select</span>{<span class="ruby-operator">|</span><span class="ruby-identifier">op</span><span class="ruby-operator">|</span><span class="ruby-keyword kw">not</span> <span class="ruby-identifier">op</span><span class="ruby-operator">=~</span><span class="ruby-regexp re">/^-o/</span>}
+      <span class="ruby-identifier">depsfile</span>=<span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span>(<span class="ruby-value str">&quot;.deps&quot;</span>,<span class="ruby-identifier">interface</span>)
+      <span class="ruby-identifier">depsdir</span>=<span class="ruby-constant">File</span>.<span class="ruby-identifier">split</span>(<span class="ruby-identifier">depsfile</span>)[<span class="ruby-value">0</span>]
+      <span class="ruby-keyword kw">begin</span>
+        <span class="ruby-constant">Dir</span>.<span class="ruby-identifier">mkdir</span>(<span class="ruby-identifier">depsdir</span>)
+      <span class="ruby-keyword kw">rescue</span>
+      <span class="ruby-keyword kw">end</span>
+      <span class="ruby-identifier">options</span>=<span class="ruby-identifier">options</span>[<span class="ruby-value">0</span><span class="ruby-operator">..</span><span class="ruby-value">2</span>]<span class="ruby-operator">+</span>[<span class="ruby-value str">&quot;-o &quot;</span><span class="ruby-operator">+</span><span class="ruby-identifier">depsfile</span>,<span class="ruby-value str">&quot;-M&quot;</span>]<span class="ruby-operator">+</span><span class="ruby-identifier">options</span>[<span class="ruby-value">3</span><span class="ruby-operator">..</span><span class="ruby-value">-1</span>]
+      <span class="ruby-identifier">call</span>=<span class="ruby-identifier">program</span><span class="ruby-operator">+</span><span class="ruby-value str">&quot; &quot;</span><span class="ruby-operator">+</span><span class="ruby-identifier">options</span>.<span class="ruby-identifier">join</span>(<span class="ruby-value str">&quot; &quot;</span>)
+      <span class="ruby-identifier">sh</span> <span class="ruby-identifier">call</span>
+      
+      <span class="ruby-identifier">puts</span>    
+    <span class="ruby-keyword kw">end</span></pre>
+</body>
+</html>
\ No newline at end of file

Added: antargis/trunk/rookey/docs/ruby/classes/Rookey/Swig.src/M000023.html
===================================================================
--- antargis/trunk/rookey/docs/ruby/classes/Rookey/Swig.src/M000023.html	2008-03-17 15:29:28 UTC (rev 1235)
+++ antargis/trunk/rookey/docs/ruby/classes/Rookey/Swig.src/M000023.html	2008-03-26 19:30:10 UTC (rev 1236)
@@ -0,0 +1,19 @@
+<?xml version="1.0" encoding="iso-8859-1"?>
+<!DOCTYPE html 
+     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
+     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
+
+<html>
+<head>
+  <title>getDeps (Rookey::Swig)</title>
+  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
+  <link rel="stylesheet" href="../../.././rdoc-style.css" type="text/css" media="screen" />
+</head>
+<body class="standalone-code">
+  <pre><span class="ruby-comment cmt"># File swig.rb, line 50</span>
+    <span class="ruby-keyword kw">def</span> <span class="ruby-constant">Swig</span>.<span class="ruby-identifier">getDeps</span>(<span class="ruby-identifier">interface</span>)
+      <span class="ruby-identifier">interface</span>=[<span class="ruby-identifier">interface</span>].<span class="ruby-identifier">flatten</span>[<span class="ruby-value">0</span>]
+      <span class="ruby-constant">Compiler</span>.<span class="ruby-identifier">getDeps</span>(<span class="ruby-identifier">interface</span>.<span class="ruby-identifier">sub</span>(<span class="ruby-regexp re">/\.d$/</span>,<span class="ruby-value str">&quot;.i&quot;</span>))
+    <span class="ruby-keyword kw">end</span></pre>
+</body>
+</html>
\ No newline at end of file

Added: antargis/trunk/rookey/docs/ruby/classes/Rookey/SwigConfig.html
===================================================================
--- antargis/trunk/rookey/docs/ruby/classes/Rookey/SwigConfig.html	2008-03-17 15:29:28 UTC (rev 1235)
+++ antargis/trunk/rookey/docs/ruby/classes/Rookey/SwigConfig.html	2008-03-26 19:30:10 UTC (rev 1236)
@@ -0,0 +1,139 @@
+<?xml version="1.0" encoding="iso-8859-1"?>
+<!DOCTYPE html 
+     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
+     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
+
+<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
+<head>
+  <title>Class: Rookey::SwigConfig</title>
+  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
+  <meta http-equiv="Content-Script-Type" content="text/javascript" />
+  <link rel="stylesheet" href="../.././rdoc-style.css" type="text/css" media="screen" />
+  <script type="text/javascript">
+  // <![CDATA[
+
+  function popupCode( url ) {
+    window.open(url, "Code", "resizable=yes,scrollbars=yes,toolbar=no,status=no,height=150,width=400")
+  }
+
+  function toggleCode( id ) {
+    if ( document.getElementById )
+      elem = document.getElementById( id );
+    else if ( document.all )
+      elem = eval( "document.all." + id );
+    else
+      return false;
+
+    elemStyle = elem.style;
+    
+    if ( elemStyle.display != "block" ) {
+      elemStyle.display = "block"
+    } else {
+      elemStyle.display = "none"
+    }
+
+    return true;
+  }
+  
+  // Make codeblocks hidden by default
+  document.writeln( "<style type=\"text/css\">div.method-source-code { display: none }</style>" )
+  
+  // ]]>
+  </script>
+
+</head>
+<body>
+
+
+
+    <div id="classHeader">
+        <table class="header-table">
+        <tr class="top-aligned-row">
+          <td><strong>Class</strong></td>
+          <td class="class-name-in-header">Rookey::SwigConfig</td>
+        </tr>
+        <tr class="top-aligned-row">
+            <td><strong>In:</strong></td>
+            <td>
+                <a href="../../files/configs/swig_rb.html">
+                configs/swig.rb
+                </a>
+        <br />
+            </td>
+        </tr>
+
+        <tr class="top-aligned-row">
+            <td><strong>Parent:</strong></td>
+            <td>
+                <a href="Configurator.html">
+                Configurator
+               </a>
+            </td>
+        </tr>
+        </table>
+    </div>
+  <!-- banner header -->
+
+  <div id="bodyContent">
+
+
+
+  <div id="contextContent">
+
+
+
+   </div>
+
+    <div id="method-list">
+      <h3 class="section-bar">Methods</h3>
+
+      <div class="name-list">
+      <a href="#M000046">run</a>&nbsp;&nbsp;
+      </div>
+    </div>
+
+  </div>
+
+
+    <!-- if includes -->
+
+    <div id="section">
+
+
+
+
+
+      
+
+
+    <!-- if method_list -->
+    <div id="methods">
+      <h3 class="section-bar">Public Instance methods</h3>
+
+      <div id="method-M000046" class="method-detail">
+        <a name="M000046"></a>
+
+        <div class="method-heading">
+          <a href="SwigConfig.src/M000046.html" target="Code" class="method-signature"
+            onclick="popupCode('SwigConfig.src/M000046.html');return false;">
+          <span class="method-name">run</span><span class="method-args">(config)</span>
+          </a>
+        </div>
+      
+        <div class="method-description">
+        </div>
+      </div>
+
+
+    </div>
+
+
+  </div>
+
+
+<div id="validator-badges">
+  <p><small><a href="http://validator.w3.org/check/referer">[Validate]</a></small></p>
+</div>
+
+</body>
+</html>
\ No newline at end of file

Added: antargis/trunk/rookey/docs/ruby/classes/Rookey/SwigConfig.src/M000046.html
===================================================================
--- antargis/trunk/rookey/docs/ruby/classes/Rookey/SwigConfig.src/M000046.html	2008-03-17 15:29:28 UTC (rev 1235)
+++ antargis/trunk/rookey/docs/ruby/classes/Rookey/SwigConfig.src/M000046.html	2008-03-26 19:30:10 UTC (rev 1236)
@@ -0,0 +1,19 @@
+<?xml version="1.0" encoding="iso-8859-1"?>
+<!DOCTYPE html 
+     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
+     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
+
+<html>
+<head>
+  <title>run (Rookey::SwigConfig)</title>
+  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
+  <link rel="stylesheet" href="../../.././rdoc-style.css" type="text/css" media="screen" />
+</head>
+<body class="standalone-code">
+  <pre><span class="ruby-comment cmt"># File configs/swig.rb, line 5</span>
+    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">run</span>(<span class="ruby-identifier">config</span>)
+      <span class="ruby-comment cmt"># FIXME: search program</span>
+      <span class="ruby-identifier">config</span>.<span class="ruby-identifier">add</span>(<span class="ruby-value str">&quot;SWIG_OPTIONS&quot;</span>,<span class="ruby-value str">&quot;-Wall -DAGEXPORT&quot;</span>)
+    <span class="ruby-keyword kw">end</span></pre>
+</body>
+</html>
\ No newline at end of file

Added: antargis/trunk/rookey/docs/ruby/classes/Rookey/SwigInterfaceBuilder.html
===================================================================
--- antargis/trunk/rookey/docs/ruby/classes/Rookey/SwigInterfaceBuilder.html	2008-03-17 15:29:28 UTC (rev 1235)
+++ antargis/trunk/rookey/docs/ruby/classes/Rookey/SwigInterfaceBuilder.html	2008-03-26 19:30:10 UTC (rev 1236)
@@ -0,0 +1,184 @@
+<?xml version="1.0" encoding="iso-8859-1"?>
+<!DOCTYPE html 
+     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
+     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
+
+<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
+<head>
+  <title>Class: Rookey::SwigInterfaceBuilder</title>
+  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
+  <meta http-equiv="Content-Script-Type" content="text/javascript" />
+  <link rel="stylesheet" href="../.././rdoc-style.css" type="text/css" media="screen" />
+  <script type="text/javascript">
+  // <![CDATA[
+
+  function popupCode( url ) {
+    window.open(url, "Code", "resizable=yes,scrollbars=yes,toolbar=no,status=no,height=150,width=400")
+  }
+
+  function toggleCode( id ) {
+    if ( document.getElementById )
+      elem = document.getElementById( id );
+    else if ( document.all )
+      elem = eval( "document.all." + id );
+    else
+      return false;
+
+    elemStyle = elem.style;
+    
+    if ( elemStyle.display != "block" ) {
+      elemStyle.display = "block"
+    } else {
+      elemStyle.display = "none"
+    }
+
+    return true;
+  }
+  
+  // Make codeblocks hidden by default
+  document.writeln( "<style type=\"text/css\">div.method-source-code { display: none }</style>" )
+  
+  // ]]>
+  </script>
+
+</head>
+<body>
+
+
+
+    <div id="classHeader">
+        <table class="header-table">
+        <tr class="top-aligned-row">
+          <td><strong>Class</strong></td>
+          <td class="class-name-in-header">Rookey::SwigInterfaceBuilder</td>
+        </tr>
+        <tr class="top-aligned-row">
+            <td><strong>In:</strong></td>
+            <td>
+                <a href="../../files/swig_interface_builder_rb.html">
+                swig_interface_builder.rb
+                </a>
+        <br />
+            </td>
+        </tr>
+
+        <tr class="top-aligned-row">
+            <td><strong>Parent:</strong></td>
+            <td>
+                Object
+            </td>
+        </tr>
+        </table>
+    </div>
+  <!-- banner header -->
+
+  <div id="bodyContent">
+
+
+
+  <div id="contextContent">
+
+
+
+   </div>
+
+    <div id="method-list">
+      <h3 class="section-bar">Methods</h3>
+
+      <div class="name-list">
+      <a href="#M000054">create</a>&nbsp;&nbsp;
+      <a href="#M000056">getClasses</a>&nbsp;&nbsp;
+      <a href="#M000055">getFiles</a>&nbsp;&nbsp;
+      <a href="#M000053">new</a>&nbsp;&nbsp;
+      </div>
+    </div>
+
+  </div>
+
+
+    <!-- if includes -->
+
+    <div id="section">
+
+
+
+
+
+      
+
+
+    <!-- if method_list -->
+    <div id="methods">
+      <h3 class="section-bar">Public Class methods</h3>
+
+      <div id="method-M000053" class="method-detail">
+        <a name="M000053"></a>
+
+        <div class="method-heading">
+          <a href="SwigInterfaceBuilder.src/M000053.html" target="Code" class="method-signature"
+            onclick="popupCode('SwigInterfaceBuilder.src/M000053.html');return false;">
+          <span class="method-name">new</span><span class="method-args">(file,moduleName,classes,files,interfaces,inits,templates)</span>
+          </a>
+        </div>
+      
+        <div class="method-description">
+        </div>
+      </div>
+
+      <h3 class="section-bar">Public Instance methods</h3>
+
+      <div id="method-M000054" class="method-detail">
+        <a name="M000054"></a>
+
+        <div class="method-heading">
+          <a href="SwigInterfaceBuilder.src/M000054.html" target="Code" class="method-signature"
+            onclick="popupCode('SwigInterfaceBuilder.src/M000054.html');return false;">
+          <span class="method-name">create</span><span class="method-args">(classes)</span>
+          </a>
+        </div>
+      
+        <div class="method-description">
+        </div>
+      </div>
+
+      <div id="method-M000056" class="method-detail">
+        <a name="M000056"></a>
+
+        <div class="method-heading">
+          <a href="SwigInterfaceBuilder.src/M000056.html" target="Code" class="method-signature"
+            onclick="popupCode('SwigInterfaceBuilder.src/M000056.html');return false;">
+          <span class="method-name">getClasses</span><span class="method-args">()</span>
+          </a>
+        </div>
+      
+        <div class="method-description">
+        </div>
+      </div>
+
+      <div id="method-M000055" class="method-detail">
+        <a name="M000055"></a>
+
+        <div class="method-heading">
+          <a href="SwigInterfaceBuilder.src/M000055.html" target="Code" class="method-signature"
+            onclick="popupCode('SwigInterfaceBuilder.src/M000055.html');return false;">
+          <span class="method-name">getFiles</span><span class="method-args">()</span>
+          </a>
+        </div>
+      
+        <div class="method-description">
+        </div>
+      </div>
+
+
+    </div>
+
+
+  </div>
+
+
+<div id="validator-badges">
+  <p><small><a href="http://validator.w3.org/check/referer">[Validate]</a></small></p>
+</div>
+
+</body>
+</html>
\ No newline at end of file

Added: antargis/trunk/rookey/docs/ruby/classes/Rookey/SwigInterfaceBuilder.src/M000053.html
===================================================================
--- antargis/trunk/rookey/docs/ruby/classes/Rookey/SwigInterfaceBuilder.src/M000053.html	2008-03-17 15:29:28 UTC (rev 1235)
+++ antargis/trunk/rookey/docs/ruby/classes/Rookey/SwigInterfaceBuilder.src/M000053.html	2008-03-26 19:30:10 UTC (rev 1236)
@@ -0,0 +1,25 @@
+<?xml version="1.0" encoding="iso-8859-1"?>
+<!DOCTYPE html 
+     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
+     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
+
+<html>
+<head>
+  <title>new (Rookey::SwigInterfaceBuilder)</title>
+  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
+  <link rel="stylesheet" href="../../.././rdoc-style.css" type="text/css" media="screen" />
+</head>
+<body class="standalone-code">
+  <pre><span class="ruby-comment cmt"># File swig_interface_builder.rb, line 3</span>
+    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">initialize</span>(<span class="ruby-identifier">file</span>,<span class="ruby-identifier">moduleName</span>,<span class="ruby-identifier">classes</span>,<span class="ruby-identifier">files</span>,<span class="ruby-identifier">interfaces</span>,<span class="ruby-identifier">inits</span>,<span class="ruby-identifier">templates</span>)
+      <span class="ruby-ivar">@file</span>=<span class="ruby-identifier">file</span>
+      <span class="ruby-ivar">@moduleName</span>=<span class="ruby-identifier">moduleName</span>
+      <span class="ruby-ivar">@classes</span>=<span class="ruby-identifier">classes</span>
+      <span class="ruby-ivar">@files</span>=<span class="ruby-identifier">files</span>
+      <span class="ruby-ivar">@interfaces</span>=<span class="ruby-identifier">interfaces</span>
+      <span class="ruby-ivar">@inits</span>=<span class="ruby-identifier">inits</span>
+      <span class="ruby-ivar">@templates</span>=<span class="ruby-identifier">templates</span>
+      <span class="ruby-comment cmt">#@information=information</span>
+    <span class="ruby-keyword kw">end</span></pre>
+</body>
+</html>
\ No newline at end of file

Added: antargis/trunk/rookey/docs/ruby/classes/Rookey/SwigInterfaceBuilder.src/M000054.html
===================================================================
--- antargis/trunk/rookey/docs/ruby/classes/Rookey/SwigInterfaceBuilder.src/M000054.html	2008-03-17 15:29:28 UTC (rev 1235)
+++ antargis/trunk/rookey/docs/ruby/classes/Rookey/SwigInterfaceBuilder.src/M000054.html	2008-03-26 19:30:10 UTC (rev 1236)
@@ -0,0 +1,20 @@
+<?xml version="1.0" encoding="iso-8859-1"?>
+<!DOCTYPE html 
+     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
+     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
+
+<html>
+<head>
+  <title>create (Rookey::SwigInterfaceBuilder)</title>
+  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
+  <link rel="stylesheet" href="../../.././rdoc-style.css" type="text/css" media="screen" />
+</head>
+<body class="standalone-code">
+  <pre><span class="ruby-comment cmt"># File swig_interface_builder.rb, line 15</span>
+    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">create</span>(<span class="ruby-identifier">classes</span>)
+      <span class="ruby-identifier">fd</span>=<span class="ruby-constant">File</span>.<span class="ruby-identifier">open</span>(<span class="ruby-ivar">@file</span>,<span class="ruby-value str">&quot;w&quot;</span>)
+      <span class="ruby-identifier">fd</span>.<span class="ruby-identifier">puts</span> <span class="ruby-identifier">generate</span>()
+      <span class="ruby-identifier">fd</span>.<span class="ruby-identifier">close</span>
+    <span class="ruby-keyword kw">end</span></pre>
+</body>
+</html>
\ No newline at end of file

Added: antargis/trunk/rookey/docs/ruby/classes/Rookey/SwigInterfaceBuilder.src/M000055.html
===================================================================
--- antargis/trunk/rookey/docs/ruby/classes/Rookey/SwigInterfaceBuilder.src/M000055.html	2008-03-17 15:29:28 UTC (rev 1235)
+++ antargis/trunk/rookey/docs/ruby/classes/Rookey/SwigInterfaceBuilder.src/M000055.html	2008-03-26 19:30:10 UTC (rev 1236)
@@ -0,0 +1,18 @@
+<?xml version="1.0" encoding="iso-8859-1"?>
+<!DOCTYPE html 
+     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
+     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
+
+<html>
+<head>
+  <title>getFiles (Rookey::SwigInterfaceBuilder)</title>
+  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
+  <link rel="stylesheet" href="../../.././rdoc-style.css" type="text/css" media="screen" />
+</head>
+<body class="standalone-code">
+  <pre><span class="ruby-comment cmt"># File swig_interface_builder.rb, line 21</span>
+    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">getFiles</span>
+      <span class="ruby-ivar">@files</span>
+    <span class="ruby-keyword kw">end</span></pre>
+</body>
+</html>
\ No newline at end of file

Added: antargis/trunk/rookey/docs/ruby/classes/Rookey/SwigInterfaceBuilder.src/M000056.html
===================================================================
--- antargis/trunk/rookey/docs/ruby/classes/Rookey/SwigInterfaceBuilder.src/M000056.html	2008-03-17 15:29:28 UTC (rev 1235)
+++ antargis/trunk/rookey/docs/ruby/classes/Rookey/SwigInterfaceBuilder.src/M000056.html	2008-03-26 19:30:10 UTC (rev 1236)
@@ -0,0 +1,18 @@
+<?xml version="1.0" encoding="iso-8859-1"?>
+<!DOCTYPE html 
+     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
+     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
+
+<html>
+<head>
+  <title>getClasses (Rookey::SwigInterfaceBuilder)</title>
+  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
+  <link rel="stylesheet" href="../../.././rdoc-style.css" type="text/css" media="screen" />
+</head>
+<body class="standalone-code">
+  <pre><span class="ruby-comment cmt"># File swig_interface_builder.rb, line 25</span>
+    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">getClasses</span>
+      <span class="ruby-constant">Rookey</span>.<span class="ruby-identifier">getRubyClasses</span>(<span class="ruby-ivar">@classes</span>)
+    <span class="ruby-keyword kw">end</span></pre>
+</body>
+</html>
\ No newline at end of file

Added: antargis/trunk/rookey/docs/ruby/classes/Rookey/Tools.html
===================================================================
--- antargis/trunk/rookey/docs/ruby/classes/Rookey/Tools.html	2008-03-17 15:29:28 UTC (rev 1235)
+++ antargis/trunk/rookey/docs/ruby/classes/Rookey/Tools.html	2008-03-26 19:30:10 UTC (rev 1236)
@@ -0,0 +1,134 @@
+<?xml version="1.0" encoding="iso-8859-1"?>
+<!DOCTYPE html 
+     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
+     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
+
+<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
+<head>
+  <title>Module: Rookey::Tools</title>
+  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
+  <meta http-equiv="Content-Script-Type" content="text/javascript" />
+  <link rel="stylesheet" href="../.././rdoc-style.css" type="text/css" media="screen" />
+  <script type="text/javascript">
+  // <![CDATA[
+
+  function popupCode( url ) {
+    window.open(url, "Code", "resizable=yes,scrollbars=yes,toolbar=no,status=no,height=150,width=400")
+  }
+
+  function toggleCode( id ) {
+    if ( document.getElementById )
+      elem = document.getElementById( id );
+    else if ( document.all )
+      elem = eval( "document.all." + id );
+    else
+      return false;
+
+    elemStyle = elem.style;
+    
+    if ( elemStyle.display != "block" ) {
+      elemStyle.display = "block"
+    } else {
+      elemStyle.display = "none"
+    }
+
+    return true;
+  }
+  
+  // Make codeblocks hidden by default
+  document.writeln( "<style type=\"text/css\">div.method-source-code { display: none }</style>" )
+  
+  // ]]>
+  </script>
+
+</head>
+<body>
+
+
+
+    <div id="classHeader">
+        <table class="header-table">
+        <tr class="top-aligned-row">
+          <td><strong>Module</strong></td>
+          <td class="class-name-in-header">Rookey::Tools</td>
+        </tr>
+        <tr class="top-aligned-row">
+            <td><strong>In:</strong></td>
+            <td>
+                <a href="../../files/tools_rb.html">
+                tools.rb
+                </a>
+        <br />
+            </td>
+        </tr>
+
+        </table>
+    </div>
+  <!-- banner header -->
+
+  <div id="bodyContent">
+
+
+
+  <div id="contextContent">
+
+
+
+   </div>
+
+    <div id="method-list">
+      <h3 class="section-bar">Methods</h3>
+
+      <div class="name-list">
+      <a href="#M000018">mkdir</a>&nbsp;&nbsp;
+      </div>
+    </div>
+
+  </div>
+
+
+    <!-- if includes -->
+
+    <div id="section">
+
+
+
+
+
+      
+
+
+    <!-- if method_list -->
+    <div id="methods">
+      <h3 class="section-bar">Public Class methods</h3>
+
+      <div id="method-M000018" class="method-detail">
+        <a name="M000018"></a>
+
+        <div class="method-heading">
+          <a href="Tools.src/M000018.html" target="Code" class="method-signature"
+            onclick="popupCode('Tools.src/M000018.html');return false;">
+          <span class="method-name">mkdir</span><span class="method-args">(dir)</span>
+          </a>
+        </div>
+      
+        <div class="method-description">
+          <p>
+creates a directory <b>dir</b> and parent-dirs if they don&#8216;t exist
+</p>
+        </div>
+      </div>
+
+
+    </div>
+
+
+  </div>
+
+
+<div id="validator-badges">
+  <p><small><a href="http://validator.w3.org/check/referer">[Validate]</a></small></p>
+</div>
+
+</body>
+</html>
\ No newline at end of file

Added: antargis/trunk/rookey/docs/ruby/classes/Rookey/Tools.src/M000018.html
===================================================================
--- antargis/trunk/rookey/docs/ruby/classes/Rookey/Tools.src/M000018.html	2008-03-17 15:29:28 UTC (rev 1235)
+++ antargis/trunk/rookey/docs/ruby/classes/Rookey/Tools.src/M000018.html	2008-03-26 19:30:10 UTC (rev 1236)
@@ -0,0 +1,32 @@
+<?xml version="1.0" encoding="iso-8859-1"?>
+<!DOCTYPE html 
+     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
+     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
+
+<html>
+<head>
+  <title>mkdir (Rookey::Tools)</title>
+  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
+  <link rel="stylesheet" href="../../.././rdoc-style.css" type="text/css" media="screen" />
+</head>
+<body class="standalone-code">
+  <pre><span class="ruby-comment cmt"># File tools.rb, line 24</span>
+                <span class="ruby-keyword kw">def</span> <span class="ruby-constant">Tools</span>.<span class="ruby-identifier">mkdir</span>(<span class="ruby-identifier">dir</span>)
+                  <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">if</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">exists?</span>(<span class="ruby-identifier">dir</span>)
+                  <span class="ruby-identifier">pp</span> <span class="ruby-identifier">dir</span>
+                  <span class="ruby-keyword kw">begin</span>
+                    <span class="ruby-identifier">puts</span> <span class="ruby-node">&quot;making #{dir}&quot;</span>
+                    <span class="ruby-constant">Dir</span>.<span class="ruby-identifier">mkdir</span>(<span class="ruby-identifier">dir</span>.<span class="ruby-identifier">to_s</span>)
+                    <span class="ruby-identifier">puts</span> <span class="ruby-value str">&quot;ok&quot;</span>
+                  <span class="ruby-keyword kw">rescue</span>
+                    <span class="ruby-identifier">p</span>=<span class="ruby-constant">File</span>.<span class="ruby-identifier">split</span>(<span class="ruby-identifier">dir</span>)[<span class="ruby-value">0</span>]
+                    <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">p</span><span class="ruby-operator">==</span><span class="ruby-identifier">dir</span>
+                    <span class="ruby-constant">Rookey</span>.<span class="ruby-identifier">mkdir</span>(<span class="ruby-identifier">p</span>)
+                    <span class="ruby-keyword kw">begin</span>
+                      <span class="ruby-constant">Dir</span>.<span class="ruby-identifier">mkdir</span>(<span class="ruby-identifier">dir</span>)
+                    <span class="ruby-keyword kw">rescue</span>
+                    <span class="ruby-keyword kw">end</span>
+                  <span class="ruby-keyword kw">end</span>
+                <span class="ruby-keyword kw">end</span></pre>
+</body>
+</html>
\ No newline at end of file

Added: antargis/trunk/rookey/docs/ruby/classes/Rookey.html
===================================================================
--- antargis/trunk/rookey/docs/ruby/classes/Rookey.html	2008-03-17 15:29:28 UTC (rev 1235)
+++ antargis/trunk/rookey/docs/ruby/classes/Rookey.html	2008-03-26 19:30:10 UTC (rev 1236)
@@ -0,0 +1,435 @@
+<?xml version="1.0" encoding="iso-8859-1"?>
+<!DOCTYPE html 
+     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
+     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
+
+<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
+<head>
+  <title>Module: Rookey</title>
+  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
+  <meta http-equiv="Content-Script-Type" content="text/javascript" />
+  <link rel="stylesheet" href=".././rdoc-style.css" type="text/css" media="screen" />
+  <script type="text/javascript">
+  // <![CDATA[
+
+  function popupCode( url ) {
+    window.open(url, "Code", "resizable=yes,scrollbars=yes,toolbar=no,status=no,height=150,width=400")
+  }
+
+  function toggleCode( id ) {
+    if ( document.getElementById )
+      elem = document.getElementById( id );
+    else if ( document.all )
+      elem = eval( "document.all." + id );
+    else
+      return false;
+
+    elemStyle = elem.style;
+    
+    if ( elemStyle.display != "block" ) {
+      elemStyle.display = "block"
+    } else {
+      elemStyle.display = "none"
+    }
+
+    return true;
+  }
+  
+  // Make codeblocks hidden by default
+  document.writeln( "<style type=\"text/css\">div.method-source-code { display: none }</style>" )
+  
+  // ]]>
+  </script>
+
+</head>
+<body>
+
+
+
+    <div id="classHeader">
+        <table class="header-table">
+        <tr class="top-aligned-row">
+          <td><strong>Module</strong></td>
+          <td class="class-name-in-header">Rookey</td>
+        </tr>
+        <tr class="top-aligned-row">
+            <td><strong>In:</strong></td>
+            <td>
+                <a href="../files/compile_rb.html">
+                compile.rb
+                </a>
+        <br />
+                <a href="../files/config_generator_rb.html">
+                config_generator.rb
+                </a>
+        <br />
+                <a href="../files/configs/ccache_rb.html">
+                configs/ccache.rb
+                </a>
+        <br />
+                <a href="../files/configs/debug_rb.html">
+                configs/debug.rb
+                </a>
+        <br />
+                <a href="../files/configs/gl_rb.html">
+                configs/gl.rb
+                </a>
+        <br />
+                <a href="../files/configs/ruby_rb.html">
+                configs/ruby.rb
+                </a>
+        <br />
+                <a href="../files/configs/sdl_rb.html">
+                configs/sdl.rb
+                </a>
+        <br />
+                <a href="../files/configs/swig_rb.html">
+                configs/swig.rb
+                </a>
+        <br />
+                <a href="../files/cpp_hierarchy_parser_rb.html">
+                cpp_hierarchy_parser.rb
+                </a>
+        <br />
+                <a href="../files/swig_rb.html">
+                swig.rb
+                </a>
+        <br />
+                <a href="../files/swig_ext_rb.html">
+                swig_ext.rb
+                </a>
+        <br />
+                <a href="../files/swig_interface_builder_rb.html">
+                swig_interface_builder.rb
+                </a>
+        <br />
+                <a href="../files/tasks_rb.html">
+                tasks.rb
+                </a>
+        <br />
+                <a href="../files/tools_rb.html">
+                tools.rb
+                </a>
+        <br />
+            </td>
+        </tr>
+
+        </table>
+    </div>
+  <!-- banner header -->
+
+  <div id="bodyContent">
+
+
+
+  <div id="contextContent">
+
+    <div id="description">
+      <p>
+For using <a href="Rookey.html">Rookey</a> you&#8216;ll create a Rakefile
+and include rookey, e.g. like this:
+</p>
+<pre>
+ require 'rookey/rookey.rb'
+</pre>
+<p>
+After this you&#8216;re free to use the public methods of the <a
+href="Rookey.html">Rookey</a> module to define your projects libraries,
+sources and so forth.
+</p>
+<p>
+All tasks are designed so that you can take their output as a new target,
+e.g.:
+</p>
+
+    </div>
+
+
+   </div>
+
+    <div id="method-list">
+      <h3 class="section-bar">Methods</h3>
+
+      <div class="name-list">
+      <a href="#M000014">compile</a>&nbsp;&nbsp;
+      <a href="#M000004">getConfig</a>&nbsp;&nbsp;
+      <a href="#M000007">getDescendantsOfClass</a>&nbsp;&nbsp;
+      <a href="#M000010">getOrderedCppHeaders</a>&nbsp;&nbsp;
+      <a href="#M000009">getRubyClasses</a>&nbsp;&nbsp;
+      <a href="#M000005">hibe</a>&nbsp;&nbsp;
+      <a href="#M000015">link_dll</a>&nbsp;&nbsp;
+      <a href="#M000016">link_exe</a>&nbsp;&nbsp;
+      <a href="#M000006">log</a>&nbsp;&nbsp;
+      <a href="#M000017">ruby_ext</a>&nbsp;&nbsp;
+      <a href="#M000008">runConfigure</a>&nbsp;&nbsp;
+      <a href="#M000012">swig</a>&nbsp;&nbsp;
+      <a href="#M000013">swigDirect</a>&nbsp;&nbsp;
+      <a href="#M000011">swig_interface</a>&nbsp;&nbsp;
+      </div>
+    </div>
+
+  </div>
+
+
+    <!-- if includes -->
+
+    <div id="section">
+
+    <div id="class-list">
+      <h3 class="section-bar">Classes and Modules</h3>
+
+      Module <a href="Rookey/Tools.html" class="link">Rookey::Tools</a><br />
+Class <a href="Rookey/CcacheConfig.html" class="link">Rookey::CcacheConfig</a><br />
+Class <a href="Rookey/Compiler.html" class="link">Rookey::Compiler</a><br />
+Class <a href="Rookey/Config.html" class="link">Rookey::Config</a><br />
+Class <a href="Rookey/Configurator.html" class="link">Rookey::Configurator</a><br />
+Class <a href="Rookey/CppHierarchyParser.html" class="link">Rookey::CppHierarchyParser</a><br />
+Class <a href="Rookey/DebugConfig.html" class="link">Rookey::DebugConfig</a><br />
+Class <a href="Rookey/GLConfig.html" class="link">Rookey::GLConfig</a><br />
+Class <a href="Rookey/RubyConfig.html" class="link">Rookey::RubyConfig</a><br />
+Class <a href="Rookey/SDLConfig.html" class="link">Rookey::SDLConfig</a><br />
+Class <a href="Rookey/Swig.html" class="link">Rookey::Swig</a><br />
+Class <a href="Rookey/SwigConfig.html" class="link">Rookey::SwigConfig</a><br />
+Class <a href="Rookey/SwigInterfaceBuilder.html" class="link">Rookey::SwigInterfaceBuilder</a><br />
+
+    </div>
+
+    <div id="constants-list">
+      <h3 class="section-bar">Constants</h3>
+
+      <div class="name-list">
+        <table summary="Constants">
+        <tr class="top-aligned-row context-row">
+          <td class="context-item-name">CONFIG_FILENAME</td>
+          <td>=</td>
+          <td class="context-item-value">&quot;antconfig.rb&quot;</td>
+        </tr>
+        </table>
+      </div>
+    </div>
+
+
+
+      
+
+
+    <!-- if method_list -->
+    <div id="methods">
+      <h3 class="section-bar">Public Class methods</h3>
+
+      <div id="method-M000014" class="method-detail">
+        <a name="M000014"></a>
+
+        <div class="method-heading">
+          <a href="Rookey.src/M000014.html" target="Code" class="method-signature"
+            onclick="popupCode('Rookey.src/M000014.html');return false;">
+          <span class="method-name">compile</span><span class="method-args">(files,config=nil)</span>
+          </a>
+        </div>
+      
+        <div class="method-description">
+        </div>
+      </div>
+
+      <div id="method-M000004" class="method-detail">
+        <a name="M000004"></a>
+
+        <div class="method-heading">
+          <a href="Rookey.src/M000004.html" target="Code" class="method-signature"
+            onclick="popupCode('Rookey.src/M000004.html');return false;">
+          <span class="method-name">getConfig</span><span class="method-args">()</span>
+          </a>
+        </div>
+      
+        <div class="method-description">
+        </div>
+      </div>
+
+      <div id="method-M000007" class="method-detail">
+        <a name="M000007"></a>
+
+        <div class="method-heading">
+          <a href="Rookey.src/M000007.html" target="Code" class="method-signature"
+            onclick="popupCode('Rookey.src/M000007.html');return false;">
+          <span class="method-name">getDescendantsOfClass</span><span class="method-args">(p)</span>
+          </a>
+        </div>
+      
+        <div class="method-description">
+        </div>
+      </div>
+
+      <div id="method-M000010" class="method-detail">
+        <a name="M000010"></a>
+
+        <div class="method-heading">
+          <a href="Rookey.src/M000010.html" target="Code" class="method-signature"
+            onclick="popupCode('Rookey.src/M000010.html');return false;">
+          <span class="method-name">getOrderedCppHeaders</span><span class="method-args">(classes)</span>
+          </a>
+        </div>
+      
+        <div class="method-description">
+        </div>
+      </div>
+
+      <div id="method-M000009" class="method-detail">
+        <a name="M000009"></a>
+
+        <div class="method-heading">
+          <a href="Rookey.src/M000009.html" target="Code" class="method-signature"
+            onclick="popupCode('Rookey.src/M000009.html');return false;">
+          <span class="method-name">getRubyClasses</span><span class="method-args">(classes)</span>
+          </a>
+        </div>
+      
+        <div class="method-description">
+        </div>
+      </div>
+
+      <div id="method-M000005" class="method-detail">
+        <a name="M000005"></a>
+
+        <div class="method-heading">
+          <a href="Rookey.src/M000005.html" target="Code" class="method-signature"
+            onclick="popupCode('Rookey.src/M000005.html');return false;">
+          <span class="method-name">hibe</span><span class="method-args">(what,filename)</span>
+          </a>
+        </div>
+      
+        <div class="method-description">
+        </div>
+      </div>
+
+      <div id="method-M000015" class="method-detail">
+        <a name="M000015"></a>
+
+        <div class="method-heading">
+          <a href="Rookey.src/M000015.html" target="Code" class="method-signature"
+            onclick="popupCode('Rookey.src/M000015.html');return false;">
+          <span class="method-name">link_dll</span><span class="method-args">(name,files)</span>
+          </a>
+        </div>
+      
+        <div class="method-description">
+        </div>
+      </div>
+
+      <div id="method-M000016" class="method-detail">
+        <a name="M000016"></a>
+
+        <div class="method-heading">
+          <a href="Rookey.src/M000016.html" target="Code" class="method-signature"
+            onclick="popupCode('Rookey.src/M000016.html');return false;">
+          <span class="method-name">link_exe</span><span class="method-args">(name,files,config=nil)</span>
+          </a>
+        </div>
+      
+        <div class="method-description">
+        </div>
+      </div>
+
+      <div id="method-M000006" class="method-detail">
+        <a name="M000006"></a>
+
+        <div class="method-heading">
+          <a href="Rookey.src/M000006.html" target="Code" class="method-signature"
+            onclick="popupCode('Rookey.src/M000006.html');return false;">
+          <span class="method-name">log</span><span class="method-args">(*s)</span>
+          </a>
+        </div>
+      
+        <div class="method-description">
+        </div>
+      </div>
+
+      <div id="method-M000017" class="method-detail">
+        <a name="M000017"></a>
+
+        <div class="method-heading">
+          <a href="Rookey.src/M000017.html" target="Code" class="method-signature"
+            onclick="popupCode('Rookey.src/M000017.html');return false;">
+          <span class="method-name">ruby_ext</span><span class="method-args">(name,files,inits)</span>
+          </a>
+        </div>
+      
+        <div class="method-description">
+        </div>
+      </div>
+
+      <div id="method-M000008" class="method-detail">
+        <a name="M000008"></a>
+
+        <div class="method-heading">
+          <a href="Rookey.src/M000008.html" target="Code" class="method-signature"
+            onclick="popupCode('Rookey.src/M000008.html');return false;">
+          <span class="method-name">runConfigure</span><span class="method-args">()</span>
+          </a>
+        </div>
+      
+        <div class="method-description">
+        </div>
+      </div>
+
+      <div id="method-M000012" class="method-detail">
+        <a name="M000012"></a>
+
+        <div class="method-heading">
+          <a href="Rookey.src/M000012.html" target="Code" class="method-signature"
+            onclick="popupCode('Rookey.src/M000012.html');return false;">
+          <span class="method-name">swig</span><span class="method-args">(ops,config=nil)</span>
+          </a>
+        </div>
+      
+        <div class="method-description">
+        </div>
+      </div>
+
+      <div id="method-M000013" class="method-detail">
+        <a name="M000013"></a>
+
+        <div class="method-heading">
+          <a href="Rookey.src/M000013.html" target="Code" class="method-signature"
+            onclick="popupCode('Rookey.src/M000013.html');return false;">
+          <span class="method-name">swigDirect</span><span class="method-args">(output,interface,config=nil)</span>
+          </a>
+        </div>
+      
+        <div class="method-description">
+        </div>
+      </div>
+
+      <div id="method-M000011" class="method-detail">
+        <a name="M000011"></a>
+
+        <div class="method-heading">
+          <a href="Rookey.src/M000011.html" target="Code" class="method-signature"
+            onclick="popupCode('Rookey.src/M000011.html');return false;">
+          <span class="method-name">swig_interface</span><span class="method-args">(ops)</span>
+          </a>
+        </div>
+      
+        <div class="method-description">
+          <p>
+call like this <a href="Rookey.html#M000011">swig_interface</a> &quot;<a
+href="http://"ext/gui/*.h"">antargis_gui"=>Dir</a>+<a
+href="http://"func1","func2",...">additionalInterfaces,"initalizers"=></a>
+will generate an interface-file named &quot;antargis_gui_interface.i&quot;
+for module &quot;antargis_gui&quot;
+</p>
+        </div>
+      </div>
+
+
+    </div>
+
+
+  </div>
+
+
+<div id="validator-badges">
+  <p><small><a href="http://validator.w3.org/check/referer">[Validate]</a></small></p>
+</div>
+
+</body>
+</html>
\ No newline at end of file

Added: antargis/trunk/rookey/docs/ruby/classes/Rookey.src/M000004.html
===================================================================
--- antargis/trunk/rookey/docs/ruby/classes/Rookey.src/M000004.html	2008-03-17 15:29:28 UTC (rev 1235)
+++ antargis/trunk/rookey/docs/ruby/classes/Rookey.src/M000004.html	2008-03-26 19:30:10 UTC (rev 1236)
@@ -0,0 +1,27 @@
+<?xml version="1.0" encoding="iso-8859-1"?>
+<!DOCTYPE html 
+     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
+     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
+
+<html>
+<head>
+  <title>getConfig (Rookey)</title>
+  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
+  <link rel="stylesheet" href="../.././rdoc-style.css" type="text/css" media="screen" />
+</head>
+<body class="standalone-code">
+  <pre><span class="ruby-comment cmt"># File config_generator.rb, line 35</span>
+  <span class="ruby-keyword kw">def</span> <span class="ruby-constant">Rookey</span>.<span class="ruby-identifier">getConfig</span>
+    <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@@config</span>.<span class="ruby-identifier">nil?</span>
+      <span class="ruby-keyword kw">if</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">exists?</span>(<span class="ruby-constant">Rookey</span><span class="ruby-operator">::</span><span class="ruby-constant">CONFIG_FILENAME</span>)
+        <span class="ruby-identifier">load</span> <span class="ruby-constant">Rookey</span><span class="ruby-operator">::</span><span class="ruby-constant">CONFIG_FILENAME</span>
+            <span class="ruby-keyword kw">else</span> 
+              <span class="ruby-identifier">runConfigure</span>
+        <span class="ruby-identifier">hibe</span>(<span class="ruby-ivar">@@config</span>,<span class="ruby-constant">Rookey</span><span class="ruby-operator">::</span><span class="ruby-constant">CONFIG_FILENAME</span>)
+            <span class="ruby-keyword kw">end</span>
+      <span class="ruby-constant">CLEAN</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-constant">Rookey</span><span class="ruby-operator">::</span><span class="ruby-constant">CONFIG_FILENAME</span>
+    <span class="ruby-keyword kw">end</span>
+    <span class="ruby-ivar">@@config</span>
+  <span class="ruby-keyword kw">end</span></pre>
+</body>
+</html>
\ No newline at end of file

Added: antargis/trunk/rookey/docs/ruby/classes/Rookey.src/M000005.html
===================================================================
--- antargis/trunk/rookey/docs/ruby/classes/Rookey.src/M000005.html	2008-03-17 15:29:28 UTC (rev 1235)
+++ antargis/trunk/rookey/docs/ruby/classes/Rookey.src/M000005.html	2008-03-26 19:30:10 UTC (rev 1236)
@@ -0,0 +1,22 @@
+<?xml version="1.0" encoding="iso-8859-1"?>
+<!DOCTYPE html 
+     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
+     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
+
+<html>
+<head>
+  <title>hibe (Rookey)</title>
+  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
+  <link rel="stylesheet" href="../.././rdoc-style.css" type="text/css" media="screen" />
+</head>
+<body class="standalone-code">
+  <pre><span class="ruby-comment cmt"># File config_generator.rb, line 48</span>
+  <span class="ruby-keyword kw">def</span> <span class="ruby-constant">Rookey</span>.<span class="ruby-identifier">hibe</span>(<span class="ruby-identifier">what</span>,<span class="ruby-identifier">filename</span>)
+    <span class="ruby-identifier">content</span>=<span class="ruby-constant">Marshal</span>.<span class="ruby-identifier">dump</span>(<span class="ruby-identifier">what</span>).<span class="ruby-identifier">gsub</span>(<span class="ruby-value str">&quot;\&quot;&quot;</span>,<span class="ruby-value str">&quot;\\\&quot;&quot;</span>)
+    <span class="ruby-constant">File</span>.<span class="ruby-identifier">open</span>(<span class="ruby-identifier">filename</span>,<span class="ruby-value str">&quot;w&quot;</span>) <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">f</span><span class="ruby-operator">|</span>
+      <span class="ruby-identifier">f</span>.<span class="ruby-identifier">puts</span> <span class="ruby-value str">&quot;module Rookey\n  @@config=Marshal.load(\&quot;\#{content}\&quot;)\nend\n&quot;</span>
+    <span class="ruby-keyword kw">end</span>
+    
+  <span class="ruby-keyword kw">end</span></pre>
+</body>
+</html>
\ No newline at end of file

Added: antargis/trunk/rookey/docs/ruby/classes/Rookey.src/M000006.html
===================================================================
--- antargis/trunk/rookey/docs/ruby/classes/Rookey.src/M000006.html	2008-03-17 15:29:28 UTC (rev 1235)
+++ antargis/trunk/rookey/docs/ruby/classes/Rookey.src/M000006.html	2008-03-26 19:30:10 UTC (rev 1236)
@@ -0,0 +1,18 @@
+<?xml version="1.0" encoding="iso-8859-1"?>
+<!DOCTYPE html 
+     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
+     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
+
+<html>
+<head>
+  <title>log (Rookey)</title>
+  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
+  <link rel="stylesheet" href="../.././rdoc-style.css" type="text/css" media="screen" />
+</head>
+<body class="standalone-code">
+  <pre><span class="ruby-comment cmt"># File config_generator.rb, line 113</span>
+  <span class="ruby-keyword kw">def</span> <span class="ruby-constant">Rookey</span>.<span class="ruby-identifier">log</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">s</span>)
+    <span class="ruby-identifier">puts</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">s</span>)
+  <span class="ruby-keyword kw">end</span></pre>
+</body>
+</html>
\ No newline at end of file

Added: antargis/trunk/rookey/docs/ruby/classes/Rookey.src/M000007.html
===================================================================
--- antargis/trunk/rookey/docs/ruby/classes/Rookey.src/M000007.html	2008-03-17 15:29:28 UTC (rev 1235)
+++ antargis/trunk/rookey/docs/ruby/classes/Rookey.src/M000007.html	2008-03-26 19:30:10 UTC (rev 1236)
@@ -0,0 +1,20 @@
+<?xml version="1.0" encoding="iso-8859-1"?>
+<!DOCTYPE html 
+     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
+     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
+
+<html>
+<head>
+  <title>getDescendantsOfClass (Rookey)</title>
+  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
+  <link rel="stylesheet" href="../.././rdoc-style.css" type="text/css" media="screen" />
+</head>
+<body class="standalone-code">
+  <pre><span class="ruby-comment cmt"># File config_generator.rb, line 118</span>
+  <span class="ruby-keyword kw">def</span> <span class="ruby-constant">Rookey</span>.<span class="ruby-identifier">getDescendantsOfClass</span>(<span class="ruby-identifier">p</span>)
+    <span class="ruby-identifier">c</span>=[]
+    <span class="ruby-constant">ObjectSpace</span>.<span class="ruby-identifier">each_object</span>(<span class="ruby-constant">Class</span>){<span class="ruby-operator">|</span><span class="ruby-identifier">a</span><span class="ruby-operator">|</span><span class="ruby-identifier">c</span>.<span class="ruby-identifier">push</span>(<span class="ruby-identifier">a</span>) <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">a</span>.<span class="ruby-identifier">ancestors</span>.<span class="ruby-identifier">member?</span>(<span class="ruby-identifier">p</span>)}
+    <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">c</span>
+  <span class="ruby-keyword kw">end</span></pre>
+</body>
+</html>
\ No newline at end of file

Added: antargis/trunk/rookey/docs/ruby/classes/Rookey.src/M000008.html
===================================================================
--- antargis/trunk/rookey/docs/ruby/classes/Rookey.src/M000008.html	2008-03-17 15:29:28 UTC (rev 1235)
+++ antargis/trunk/rookey/docs/ruby/classes/Rookey.src/M000008.html	2008-03-26 19:30:10 UTC (rev 1236)
@@ -0,0 +1,36 @@
+<?xml version="1.0" encoding="iso-8859-1"?>
+<!DOCTYPE html 
+     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
+     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
+
+<html>
+<head>
+  <title>runConfigure (Rookey)</title>
+  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
+  <link rel="stylesheet" href="../.././rdoc-style.css" type="text/css" media="screen" />
+</head>
+<body class="standalone-code">
+  <pre><span class="ruby-comment cmt"># File config_generator.rb, line 125</span>
+  <span class="ruby-keyword kw">def</span> <span class="ruby-constant">Rookey</span>.<span class="ruby-identifier">runConfigure</span>
+    <span class="ruby-identifier">configurators</span>=<span class="ruby-identifier">getDescendantsOfClass</span>(<span class="ruby-constant">Configurator</span>)
+    <span class="ruby-identifier">ok</span>=[]
+    <span class="ruby-identifier">run</span>=[]
+    <span class="ruby-identifier">config</span>=<span class="ruby-constant">Config</span>.<span class="ruby-identifier">new</span>
+    <span class="ruby-keyword kw">while</span> <span class="ruby-identifier">run</span>.<span class="ruby-identifier">length</span><span class="ruby-operator">&lt;</span><span class="ruby-identifier">configurators</span>.<span class="ruby-identifier">length</span>
+            <span class="ruby-identifier">configurators</span>.<span class="ruby-identifier">each</span>{<span class="ruby-operator">|</span><span class="ruby-identifier">c</span><span class="ruby-operator">|</span>
+              <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">run</span>.<span class="ruby-identifier">member?</span>(<span class="ruby-identifier">c</span>)
+                      <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">c</span>.<span class="ruby-identifier">needs</span>.<span class="ruby-identifier">select</span>{<span class="ruby-operator">|</span><span class="ruby-identifier">s</span><span class="ruby-operator">|</span><span class="ruby-keyword kw">not</span> <span class="ruby-identifier">ok</span>.<span class="ruby-identifier">member?</span>(<span class="ruby-identifier">s</span>)}.<span class="ruby-identifier">length</span> <span class="ruby-operator">==</span> <span class="ruby-value">0</span>
+                        <span class="ruby-identifier">log</span> <span class="ruby-node">&quot;Running congurator #{c}&quot;</span>
+                        <span class="ruby-identifier">c</span>.<span class="ruby-identifier">new</span>.<span class="ruby-identifier">run</span>(<span class="ruby-identifier">config</span>)
+                        <span class="ruby-identifier">ok</span><span class="ruby-operator">+=</span><span class="ruby-identifier">c</span>.<span class="ruby-identifier">provides</span>
+                        <span class="ruby-identifier">ok</span>.<span class="ruby-identifier">uniq!</span>
+                        <span class="ruby-identifier">run</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">c</span>
+                      <span class="ruby-keyword kw">end</span>
+              <span class="ruby-keyword kw">end</span>
+            }
+    <span class="ruby-keyword kw">end</span>
+    <span class="ruby-identifier">puts</span>
+    <span class="ruby-ivar">@@config</span>=<span class="ruby-identifier">config</span>
+  <span class="ruby-keyword kw">end</span></pre>
+</body>
+</html>
\ No newline at end of file

Added: antargis/trunk/rookey/docs/ruby/classes/Rookey.src/M000009.html
===================================================================
--- antargis/trunk/rookey/docs/ruby/classes/Rookey.src/M000009.html	2008-03-17 15:29:28 UTC (rev 1235)
+++ antargis/trunk/rookey/docs/ruby/classes/Rookey.src/M000009.html	2008-03-26 19:30:10 UTC (rev 1236)
@@ -0,0 +1,23 @@
+<?xml version="1.0" encoding="iso-8859-1"?>
+<!DOCTYPE html 
+     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
+     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
+
+<html>
+<head>
+  <title>getRubyClasses (Rookey)</title>
+  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
+  <link rel="stylesheet" href="../.././rdoc-style.css" type="text/css" media="screen" />
+</head>
+<body class="standalone-code">
+  <pre><span class="ruby-comment cmt"># File cpp_hierarchy_parser.rb, line 5</span>
+  <span class="ruby-keyword kw">def</span> <span class="ruby-constant">Rookey</span>.<span class="ruby-identifier">getRubyClasses</span>(<span class="ruby-identifier">classes</span>)
+    <span class="ruby-identifier">cs</span>=[<span class="ruby-identifier">classes</span>.<span class="ruby-identifier">select</span>{<span class="ruby-operator">|</span><span class="ruby-identifier">c</span><span class="ruby-operator">|</span><span class="ruby-identifier">c</span>.<span class="ruby-identifier">name</span><span class="ruby-operator">==</span><span class="ruby-value str">&quot;AGRubyObject&quot;</span>}[<span class="ruby-value">0</span>]]
+    <span class="ruby-keyword kw">begin</span>
+      <span class="ruby-identifier">s</span>=<span class="ruby-identifier">cs</span>.<span class="ruby-identifier">length</span>
+      <span class="ruby-identifier">cs</span>=[<span class="ruby-identifier">cs</span><span class="ruby-operator">+</span><span class="ruby-identifier">cs</span>.<span class="ruby-identifier">map</span>{<span class="ruby-operator">|</span><span class="ruby-identifier">c</span><span class="ruby-operator">|</span><span class="ruby-identifier">c</span>.<span class="ruby-identifier">children</span>}].<span class="ruby-identifier">flatten</span>.<span class="ruby-identifier">uniq</span>
+    <span class="ruby-keyword kw">end</span> <span class="ruby-keyword kw">while</span> <span class="ruby-identifier">s!</span>=<span class="ruby-identifier">cs</span>.<span class="ruby-identifier">length</span>
+    <span class="ruby-identifier">cs</span>
+  <span class="ruby-keyword kw">end</span></pre>
+</body>
+</html>
\ No newline at end of file

Added: antargis/trunk/rookey/docs/ruby/classes/Rookey.src/M000010.html
===================================================================
--- antargis/trunk/rookey/docs/ruby/classes/Rookey.src/M000010.html	2008-03-17 15:29:28 UTC (rev 1235)
+++ antargis/trunk/rookey/docs/ruby/classes/Rookey.src/M000010.html	2008-03-26 19:30:10 UTC (rev 1236)
@@ -0,0 +1,60 @@
+<?xml version="1.0" encoding="iso-8859-1"?>
+<!DOCTYPE html 
+     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
+     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
+
+<html>
+<head>
+  <title>getOrderedCppHeaders (Rookey)</title>
+  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
+  <link rel="stylesheet" href="../.././rdoc-style.css" type="text/css" media="screen" />
+</head>
+<body class="standalone-code">
+  <pre><span class="ruby-comment cmt"># File cpp_hierarchy_parser.rb, line 14</span>
+  <span class="ruby-keyword kw">def</span> <span class="ruby-constant">Rookey</span>.<span class="ruby-identifier">getOrderedCppHeaders</span>(<span class="ruby-identifier">classes</span>)
+    <span class="ruby-identifier">map</span>={}
+    <span class="ruby-identifier">order</span>={}
+    
+    <span class="ruby-identifier">allClasses</span>=<span class="ruby-identifier">classes</span>.<span class="ruby-identifier">dup</span>
+    <span class="ruby-identifier">classes</span>=<span class="ruby-identifier">getRubyClasses</span>(<span class="ruby-identifier">classes</span>)
+    
+    <span class="ruby-identifier">classes</span>.<span class="ruby-identifier">each</span>{<span class="ruby-operator">|</span><span class="ruby-identifier">c</span><span class="ruby-operator">|</span>
+      <span class="ruby-identifier">map</span>[<span class="ruby-identifier">c</span>.<span class="ruby-identifier">name</span>.<span class="ruby-identifier">to_s</span>]=<span class="ruby-identifier">c</span>
+    }
+    <span class="ruby-identifier">classes</span>.<span class="ruby-identifier">each</span>{<span class="ruby-operator">|</span><span class="ruby-identifier">c</span><span class="ruby-operator">|</span>
+      <span class="ruby-identifier">order</span>[<span class="ruby-identifier">c</span>.<span class="ruby-identifier">name</span>]=<span class="ruby-value">0</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">map</span>[<span class="ruby-identifier">c</span>.<span class="ruby-identifier">parent</span>.<span class="ruby-identifier">to_s</span>].<span class="ruby-identifier">nil?</span> 
+    }
+    <span class="ruby-identifier">oneNotSet</span>=<span class="ruby-keyword kw">false</span>
+    <span class="ruby-identifier">maxNumber</span>=<span class="ruby-value">0</span>
+    <span class="ruby-keyword kw">begin</span>
+      <span class="ruby-identifier">oneNotSet</span>=<span class="ruby-keyword kw">false</span>
+      <span class="ruby-identifier">classes</span>.<span class="ruby-identifier">each</span>{<span class="ruby-operator">|</span><span class="ruby-identifier">c</span><span class="ruby-operator">|</span>
+        <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">order</span>[<span class="ruby-identifier">c</span>.<span class="ruby-identifier">name</span>].<span class="ruby-identifier">nil?</span>
+          <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">order</span>[<span class="ruby-identifier">c</span>.<span class="ruby-identifier">parent</span>].<span class="ruby-identifier">nil?</span>
+            <span class="ruby-identifier">oneNotSet</span>=<span class="ruby-keyword kw">true</span>
+          <span class="ruby-keyword kw">else</span>
+            <span class="ruby-identifier">order</span>[<span class="ruby-identifier">c</span>.<span class="ruby-identifier">name</span>]=<span class="ruby-identifier">order</span>[<span class="ruby-identifier">c</span>.<span class="ruby-identifier">parent</span>]<span class="ruby-operator">+</span><span class="ruby-value">1</span>
+            <span class="ruby-identifier">maxNumber</span>=[<span class="ruby-identifier">maxNumber</span>,<span class="ruby-identifier">order</span>[<span class="ruby-identifier">c</span>.<span class="ruby-identifier">name</span>]].<span class="ruby-identifier">max</span>
+          <span class="ruby-keyword kw">end</span>
+        <span class="ruby-keyword kw">end</span>
+      }
+    <span class="ruby-keyword kw">end</span> <span class="ruby-keyword kw">while</span> <span class="ruby-identifier">oneNotSet</span>
+    <span class="ruby-comment cmt">#puts &quot;MAX:&quot;,maxNumber</span>
+    <span class="ruby-identifier">cs</span>=[]
+    (<span class="ruby-value">0</span><span class="ruby-operator">..</span><span class="ruby-identifier">maxNumber</span>).<span class="ruby-identifier">each</span>{<span class="ruby-operator">|</span><span class="ruby-identifier">i</span><span class="ruby-operator">|</span>
+      <span class="ruby-identifier">order</span>.<span class="ruby-identifier">each</span>{<span class="ruby-operator">|</span><span class="ruby-identifier">k</span>,<span class="ruby-identifier">v</span><span class="ruby-operator">|</span>
+        <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">v</span><span class="ruby-operator">==</span><span class="ruby-identifier">i</span>
+          <span class="ruby-identifier">cs</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">map</span>[<span class="ruby-identifier">k</span>]
+        <span class="ruby-keyword kw">end</span>
+      }
+    }
+    <span class="ruby-identifier">pp</span> <span class="ruby-identifier">order</span>
+    <span class="ruby-identifier">allFiles</span>=<span class="ruby-identifier">allClasses</span>.<span class="ruby-identifier">map</span>{<span class="ruby-operator">|</span><span class="ruby-identifier">c</span><span class="ruby-operator">|</span><span class="ruby-identifier">c</span>.<span class="ruby-identifier">header_file</span>}.<span class="ruby-identifier">uniq</span>
+    <span class="ruby-identifier">result</span>=<span class="ruby-identifier">classes</span>.<span class="ruby-identifier">sort</span>{<span class="ruby-operator">|</span><span class="ruby-identifier">a</span>,<span class="ruby-identifier">b</span><span class="ruby-operator">|</span><span class="ruby-identifier">order</span>[<span class="ruby-identifier">a</span>.<span class="ruby-identifier">name</span>]<span class="ruby-operator">&lt;=&gt;</span><span class="ruby-identifier">order</span>[<span class="ruby-identifier">b</span>.<span class="ruby-identifier">name</span>]}.<span class="ruby-identifier">map</span>{<span class="ruby-operator">|</span><span class="ruby-identifier">c</span><span class="ruby-operator">|</span><span class="ruby-identifier">c</span>.<span class="ruby-identifier">header_file</span>}.<span class="ruby-identifier">uniq</span>
+    <span class="ruby-identifier">result</span>=<span class="ruby-identifier">result</span><span class="ruby-operator">+</span>(<span class="ruby-identifier">allFiles</span><span class="ruby-operator">-</span><span class="ruby-identifier">result</span>)
+    <span class="ruby-identifier">pp</span> <span class="ruby-identifier">result</span>
+    <span class="ruby-identifier">result</span>
+    <span class="ruby-comment cmt">#cs.map{|c|c.header_file}.uniq</span>
+  <span class="ruby-keyword kw">end</span></pre>
+</body>
+</html>
\ No newline at end of file

Added: antargis/trunk/rookey/docs/ruby/classes/Rookey.src/M000011.html
===================================================================
--- antargis/trunk/rookey/docs/ruby/classes/Rookey.src/M000011.html	2008-03-17 15:29:28 UTC (rev 1235)
+++ antargis/trunk/rookey/docs/ruby/classes/Rookey.src/M000011.html	2008-03-26 19:30:10 UTC (rev 1236)
@@ -0,0 +1,43 @@
+<?xml version="1.0" encoding="iso-8859-1"?>
+<!DOCTYPE html 
+     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
+     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
+
+<html>
+<head>
+  <title>swig_interface (Rookey)</title>
+  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
+  <link rel="stylesheet" href="../.././rdoc-style.css" type="text/css" media="screen" />
+</head>
+<body class="standalone-code">
+  <pre><span class="ruby-comment cmt"># File tasks.rb, line 24</span>
+  <span class="ruby-keyword kw">def</span> <span class="ruby-constant">Rookey</span>.<span class="ruby-identifier">swig_interface</span>(<span class="ruby-identifier">ops</span>)
+    <span class="ruby-identifier">target</span>=<span class="ruby-value str">&quot;&quot;</span>
+    <span class="ruby-identifier">source</span>=<span class="ruby-value str">&quot;&quot;</span>
+    <span class="ruby-identifier">inits</span>=[]
+    <span class="ruby-identifier">ops</span>.<span class="ruby-identifier">each</span>{<span class="ruby-operator">|</span><span class="ruby-identifier">n</span>,<span class="ruby-identifier">v</span><span class="ruby-operator">|</span>
+      <span class="ruby-keyword kw">case</span> <span class="ruby-identifier">n</span>
+        <span class="ruby-keyword kw">when</span> <span class="ruby-identifier">:initializers</span>
+          <span class="ruby-identifier">inits</span>=<span class="ruby-identifier">v</span>
+        <span class="ruby-keyword kw">else</span>
+                      <span class="ruby-identifier">target</span>=<span class="ruby-identifier">n</span>
+                      <span class="ruby-identifier">source</span>=<span class="ruby-identifier">v</span>
+      <span class="ruby-keyword kw">end</span>
+    }
+    <span class="ruby-identifier">file</span>=<span class="ruby-identifier">target</span><span class="ruby-operator">+</span><span class="ruby-value str">&quot;_interface.i&quot;</span>
+    <span class="ruby-identifier">templates</span>=[<span class="ruby-identifier">source</span>].<span class="ruby-identifier">flatten</span>.<span class="ruby-identifier">select</span>{<span class="ruby-operator">|</span><span class="ruby-identifier">f</span><span class="ruby-operator">|</span><span class="ruby-identifier">f</span><span class="ruby-operator">=~</span><span class="ruby-regexp re">/i$/</span>}
+    <span class="ruby-identifier">source</span>=<span class="ruby-identifier">source</span>.<span class="ruby-identifier">grep</span>(<span class="ruby-regexp re">/INCLUDE_SWIG/</span>)
+    
+    <span class="ruby-identifier">rule</span> <span class="ruby-identifier">file</span>=<span class="ruby-operator">&gt;</span><span class="ruby-identifier">source</span> <span class="ruby-keyword kw">do</span>
+            <span class="ruby-identifier">parser</span>=<span class="ruby-constant">CppHierarchyParser</span>.<span class="ruby-identifier">new</span>([<span class="ruby-identifier">source</span>].<span class="ruby-identifier">flatten</span>.<span class="ruby-identifier">select</span>{<span class="ruby-operator">|</span><span class="ruby-identifier">f</span><span class="ruby-operator">|</span><span class="ruby-identifier">f</span><span class="ruby-operator">=~</span><span class="ruby-regexp re">/h$/</span>})
+            <span class="ruby-identifier">classes</span>=<span class="ruby-identifier">parser</span>.<span class="ruby-identifier">getAllClasses</span>
+            
+            <span class="ruby-identifier">files</span>=(<span class="ruby-identifier">getOrderedCppHeaders</span>(<span class="ruby-identifier">classes</span>)<span class="ruby-operator">+</span><span class="ruby-identifier">source</span>).<span class="ruby-identifier">uniq</span>
+            <span class="ruby-identifier">interfaceBuilder</span>=<span class="ruby-constant">SwigInterfaceBuilder</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">file</span>,<span class="ruby-identifier">target</span>,<span class="ruby-identifier">classes</span>,<span class="ruby-identifier">files</span>,<span class="ruby-identifier">source</span>.<span class="ruby-identifier">select</span>{<span class="ruby-operator">|</span><span class="ruby-identifier">f</span><span class="ruby-operator">|</span><span class="ruby-identifier">f</span><span class="ruby-operator">=~</span><span class="ruby-regexp re">/i$/</span>},<span class="ruby-identifier">inits</span>,<span class="ruby-identifier">templates</span>)
+            <span class="ruby-identifier">interfaceBuilder</span>.<span class="ruby-identifier">create</span>(<span class="ruby-identifier">parser</span>)
+    <span class="ruby-keyword kw">end</span>
+    <span class="ruby-constant">CLEAN</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">file</span>
+    [<span class="ruby-identifier">file</span>]
+  <span class="ruby-keyword kw">end</span></pre>
+</body>
+</html>
\ No newline at end of file

Added: antargis/trunk/rookey/docs/ruby/classes/Rookey.src/M000012.html
===================================================================
--- antargis/trunk/rookey/docs/ruby/classes/Rookey.src/M000012.html	2008-03-17 15:29:28 UTC (rev 1235)
+++ antargis/trunk/rookey/docs/ruby/classes/Rookey.src/M000012.html	2008-03-26 19:30:10 UTC (rev 1236)
@@ -0,0 +1,24 @@
+<?xml version="1.0" encoding="iso-8859-1"?>
+<!DOCTYPE html 
+     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
+     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
+
+<html>
+<head>
+  <title>swig (Rookey)</title>
+  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
+  <link rel="stylesheet" href="../.././rdoc-style.css" type="text/css" media="screen" />
+</head>
+<body class="standalone-code">
+  <pre><span class="ruby-comment cmt"># File tasks.rb, line 53</span>
+  <span class="ruby-keyword kw">def</span> <span class="ruby-constant">Rookey</span>.<span class="ruby-identifier">swig</span>(<span class="ruby-identifier">ops</span>,<span class="ruby-identifier">config</span>=<span class="ruby-keyword kw">nil</span>)
+          <span class="ruby-identifier">target</span>=<span class="ruby-value str">&quot;&quot;</span>
+          <span class="ruby-identifier">source</span>=<span class="ruby-value str">&quot;&quot;</span>
+          <span class="ruby-identifier">ops</span>.<span class="ruby-identifier">each</span>{<span class="ruby-operator">|</span><span class="ruby-identifier">n</span>,<span class="ruby-identifier">v</span><span class="ruby-operator">|</span>
+            <span class="ruby-identifier">target</span>=<span class="ruby-identifier">n</span>
+            <span class="ruby-identifier">source</span>=<span class="ruby-identifier">v</span>
+          }
+          <span class="ruby-identifier">swigDirect</span>(<span class="ruby-identifier">target</span>,<span class="ruby-identifier">source</span>,<span class="ruby-identifier">config</span>)
+        <span class="ruby-keyword kw">end</span></pre>
+</body>
+</html>
\ No newline at end of file

Added: antargis/trunk/rookey/docs/ruby/classes/Rookey.src/M000013.html
===================================================================
--- antargis/trunk/rookey/docs/ruby/classes/Rookey.src/M000013.html	2008-03-17 15:29:28 UTC (rev 1235)
+++ antargis/trunk/rookey/docs/ruby/classes/Rookey.src/M000013.html	2008-03-26 19:30:10 UTC (rev 1236)
@@ -0,0 +1,28 @@
+<?xml version="1.0" encoding="iso-8859-1"?>
+<!DOCTYPE html 
+     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
+     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
+
+<html>
+<head>
+  <title>swigDirect (Rookey)</title>
+  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
+  <link rel="stylesheet" href="../.././rdoc-style.css" type="text/css" media="screen" />
+</head>
+<body class="standalone-code">
+  <pre><span class="ruby-comment cmt"># File tasks.rb, line 63</span>
+        <span class="ruby-keyword kw">def</span> <span class="ruby-constant">Rookey</span>.<span class="ruby-identifier">swigDirect</span>(<span class="ruby-identifier">output</span>,<span class="ruby-identifier">interface</span>,<span class="ruby-identifier">config</span>=<span class="ruby-keyword kw">nil</span>)
+          <span class="ruby-identifier">config</span><span class="ruby-operator">||=</span><span class="ruby-constant">Rookey</span><span class="ruby-operator">::</span><span class="ruby-identifier">getConfig</span>
+          <span class="ruby-identifier">swigCompiler</span>=<span class="ruby-constant">Rookey</span><span class="ruby-operator">::</span><span class="ruby-constant">Swig</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">config</span>)
+          
+          
+          <span class="ruby-comment cmt"># FIXME: handle deps</span>
+          
+          <span class="ruby-identifier">rule</span> <span class="ruby-identifier">output</span>=<span class="ruby-operator">&gt;</span><span class="ruby-constant">Swig</span>.<span class="ruby-identifier">getDeps</span>(<span class="ruby-identifier">interface</span>) <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">t</span><span class="ruby-operator">|</span>
+            <span class="ruby-identifier">swigCompiler</span>.<span class="ruby-identifier">swig</span>(<span class="ruby-identifier">t</span>,<span class="ruby-identifier">interface</span>)
+          <span class="ruby-keyword kw">end</span>
+          <span class="ruby-constant">CLEAN</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">output</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">output</span>.<span class="ruby-identifier">gsub</span>(<span class="ruby-regexp re">/\.cc?/</span>,<span class="ruby-value str">&quot;.h&quot;</span>)
+          <span class="ruby-identifier">output</span>
+        <span class="ruby-keyword kw">end</span></pre>
+</body>
+</html>
\ No newline at end of file

Added: antargis/trunk/rookey/docs/ruby/classes/Rookey.src/M000014.html
===================================================================
--- antargis/trunk/rookey/docs/ruby/classes/Rookey.src/M000014.html	2008-03-17 15:29:28 UTC (rev 1235)
+++ antargis/trunk/rookey/docs/ruby/classes/Rookey.src/M000014.html	2008-03-26 19:30:10 UTC (rev 1236)
@@ -0,0 +1,30 @@
+<?xml version="1.0" encoding="iso-8859-1"?>
+<!DOCTYPE html 
+     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
+     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
+
+<html>
+<head>
+  <title>compile (Rookey)</title>
+  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
+  <link rel="stylesheet" href="../.././rdoc-style.css" type="text/css" media="screen" />
+</head>
+<body class="standalone-code">
+  <pre><span class="ruby-comment cmt"># File tasks.rb, line 77</span>
+        <span class="ruby-keyword kw">def</span> <span class="ruby-constant">Rookey</span>.<span class="ruby-identifier">compile</span>(<span class="ruby-identifier">files</span>,<span class="ruby-identifier">config</span>=<span class="ruby-keyword kw">nil</span>)
+          <span class="ruby-identifier">files</span>=[<span class="ruby-identifier">files</span>].<span class="ruby-identifier">flatten</span>
+          <span class="ruby-identifier">config</span><span class="ruby-operator">||=</span><span class="ruby-constant">Rookey</span><span class="ruby-operator">::</span><span class="ruby-identifier">getConfig</span>
+          <span class="ruby-identifier">compiler</span>=<span class="ruby-constant">Rookey</span><span class="ruby-operator">::</span><span class="ruby-constant">Compiler</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">config</span>)
+          <span class="ruby-identifier">files</span>.<span class="ruby-identifier">each</span>{<span class="ruby-operator">|</span><span class="ruby-identifier">file</span><span class="ruby-operator">|</span>
+            <span class="ruby-identifier">t</span>=<span class="ruby-identifier">compiler</span>.<span class="ruby-identifier">makeObject</span>(<span class="ruby-identifier">file</span>)
+      <span class="ruby-identifier">s</span>=<span class="ruby-constant">Compiler</span>.<span class="ruby-identifier">getDeps</span>(<span class="ruby-identifier">file</span>)
+            <span class="ruby-identifier">rule</span> <span class="ruby-identifier">t</span>=<span class="ruby-operator">&gt;</span><span class="ruby-identifier">s</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">t</span><span class="ruby-operator">|</span>
+              <span class="ruby-identifier">compiler</span>.<span class="ruby-identifier">compile</span>(<span class="ruby-identifier">t</span>.<span class="ruby-identifier">name</span>,<span class="ruby-identifier">t</span>.<span class="ruby-identifier">prerequisites</span>)
+            <span class="ruby-keyword kw">end</span>
+          }
+          <span class="ruby-identifier">targets</span>=<span class="ruby-identifier">files</span>.<span class="ruby-identifier">map</span>{<span class="ruby-operator">|</span><span class="ruby-identifier">file</span><span class="ruby-operator">|</span><span class="ruby-identifier">compiler</span>.<span class="ruby-identifier">makeObject</span>(<span class="ruby-identifier">file</span>)}
+          <span class="ruby-constant">CLEAN</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">targets</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">compiler</span>.<span class="ruby-identifier">getBuildDir</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-constant">Compiler</span>.<span class="ruby-identifier">getDepsDir</span>
+          <span class="ruby-identifier">targets</span>
+        <span class="ruby-keyword kw">end</span></pre>
+</body>
+</html>
\ No newline at end of file

Added: antargis/trunk/rookey/docs/ruby/classes/Rookey.src/M000015.html
===================================================================
--- antargis/trunk/rookey/docs/ruby/classes/Rookey.src/M000015.html	2008-03-17 15:29:28 UTC (rev 1235)
+++ antargis/trunk/rookey/docs/ruby/classes/Rookey.src/M000015.html	2008-03-26 19:30:10 UTC (rev 1236)
@@ -0,0 +1,32 @@
+<?xml version="1.0" encoding="iso-8859-1"?>
+<!DOCTYPE html 
+     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
+     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
+
+<html>
+<head>
+  <title>link_dll (Rookey)</title>
+  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
+  <link rel="stylesheet" href="../.././rdoc-style.css" type="text/css" media="screen" />
+</head>
+<body class="standalone-code">
+  <pre><span class="ruby-comment cmt"># File tasks.rb, line 93</span>
+        <span class="ruby-keyword kw">def</span> <span class="ruby-constant">Rookey</span>.<span class="ruby-identifier">link_dll</span>(<span class="ruby-identifier">name</span>,<span class="ruby-identifier">files</span>)
+    <span class="ruby-identifier">files</span>.<span class="ruby-identifier">flatten!</span>
+    <span class="ruby-identifier">files</span>.<span class="ruby-identifier">uniq!</span>
+          <span class="ruby-identifier">config</span>=<span class="ruby-constant">Rookey</span><span class="ruby-operator">::</span><span class="ruby-identifier">getConfig</span>
+          
+    <span class="ruby-identifier">linker</span>=<span class="ruby-constant">Rookey</span><span class="ruby-operator">::</span><span class="ruby-constant">Compiler</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">config</span>)
+    
+    <span class="ruby-identifier">target</span>=<span class="ruby-identifier">linker</span>.<span class="ruby-identifier">dllName</span>(<span class="ruby-identifier">name</span>)
+    
+    <span class="ruby-identifier">desc</span> <span class="ruby-node">&quot;Link DLL #{name}&quot;</span>
+    <span class="ruby-identifier">task</span> <span class="ruby-identifier">target</span>=<span class="ruby-operator">&gt;</span><span class="ruby-identifier">files</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">t</span><span class="ruby-operator">|</span>
+      <span class="ruby-identifier">linker</span>.<span class="ruby-identifier">linkDLL</span>(<span class="ruby-identifier">t</span>)
+    <span class="ruby-keyword kw">end</span>
+    <span class="ruby-constant">CLEAN</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">target</span>
+    
+    <span class="ruby-identifier">target</span>
+        <span class="ruby-keyword kw">end</span></pre>
+</body>
+</html>
\ No newline at end of file

Added: antargis/trunk/rookey/docs/ruby/classes/Rookey.src/M000016.html
===================================================================
--- antargis/trunk/rookey/docs/ruby/classes/Rookey.src/M000016.html	2008-03-17 15:29:28 UTC (rev 1235)
+++ antargis/trunk/rookey/docs/ruby/classes/Rookey.src/M000016.html	2008-03-26 19:30:10 UTC (rev 1236)
@@ -0,0 +1,31 @@
+<?xml version="1.0" encoding="iso-8859-1"?>
+<!DOCTYPE html 
+     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
+     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
+
+<html>
+<head>
+  <title>link_exe (Rookey)</title>
+  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
+  <link rel="stylesheet" href="../.././rdoc-style.css" type="text/css" media="screen" />
+</head>
+<body class="standalone-code">
+  <pre><span class="ruby-comment cmt"># File tasks.rb, line 111</span>
+  <span class="ruby-keyword kw">def</span> <span class="ruby-constant">Rookey</span>.<span class="ruby-identifier">link_exe</span>(<span class="ruby-identifier">name</span>,<span class="ruby-identifier">files</span>,<span class="ruby-identifier">config</span>=<span class="ruby-keyword kw">nil</span>)
+    <span class="ruby-identifier">files</span>.<span class="ruby-identifier">flatten!</span>
+    <span class="ruby-identifier">files</span>.<span class="ruby-identifier">uniq!</span>
+    <span class="ruby-identifier">config</span><span class="ruby-operator">||=</span><span class="ruby-constant">Rookey</span><span class="ruby-operator">::</span><span class="ruby-identifier">getConfig</span>
+    
+    <span class="ruby-identifier">linker</span>=<span class="ruby-constant">Rookey</span><span class="ruby-operator">::</span><span class="ruby-constant">Compiler</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">config</span>)
+    
+    <span class="ruby-identifier">target</span>=<span class="ruby-identifier">linker</span>.<span class="ruby-identifier">exeName</span>(<span class="ruby-identifier">name</span>)
+    <span class="ruby-identifier">desc</span> <span class="ruby-node">&quot;Link EXE #{name}&quot;</span>
+    <span class="ruby-identifier">task</span> <span class="ruby-identifier">target</span>=<span class="ruby-operator">&gt;</span><span class="ruby-identifier">files</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">t</span><span class="ruby-operator">|</span>
+      <span class="ruby-identifier">linker</span>.<span class="ruby-identifier">linkEXE</span>(<span class="ruby-identifier">t</span>.<span class="ruby-identifier">name</span>,<span class="ruby-identifier">t</span>.<span class="ruby-identifier">prerequisites</span>)
+    <span class="ruby-keyword kw">end</span>
+    <span class="ruby-constant">CLEAN</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">target</span>
+    
+    <span class="ruby-identifier">target</span>    
+  <span class="ruby-keyword kw">end</span></pre>
+</body>
+</html>
\ No newline at end of file

Added: antargis/trunk/rookey/docs/ruby/classes/Rookey.src/M000017.html
===================================================================
--- antargis/trunk/rookey/docs/ruby/classes/Rookey.src/M000017.html	2008-03-17 15:29:28 UTC (rev 1235)
+++ antargis/trunk/rookey/docs/ruby/classes/Rookey.src/M000017.html	2008-03-26 19:30:10 UTC (rev 1236)
@@ -0,0 +1,36 @@
+<?xml version="1.0" encoding="iso-8859-1"?>
+<!DOCTYPE html 
+     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
+     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
+
+<html>
+<head>
+  <title>ruby_ext (Rookey)</title>
+  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
+  <link rel="stylesheet" href="../.././rdoc-style.css" type="text/css" media="screen" />
+</head>
+<body class="standalone-code">
+  <pre><span class="ruby-comment cmt"># File tasks.rb, line 129</span>
+  <span class="ruby-keyword kw">def</span> <span class="ruby-constant">Rookey</span>.<span class="ruby-identifier">ruby_ext</span>(<span class="ruby-identifier">name</span>,<span class="ruby-identifier">files</span>,<span class="ruby-identifier">inits</span>)
+    <span class="ruby-identifier">headerFiles</span>=<span class="ruby-identifier">files</span>.<span class="ruby-identifier">select</span>{<span class="ruby-operator">|</span><span class="ruby-identifier">f</span><span class="ruby-operator">|</span><span class="ruby-identifier">f</span><span class="ruby-operator">=~</span><span class="ruby-regexp re">/h$/</span>}
+    <span class="ruby-identifier">libs</span>=<span class="ruby-identifier">files</span>.<span class="ruby-identifier">select</span>{<span class="ruby-operator">|</span><span class="ruby-identifier">f</span><span class="ruby-operator">|</span><span class="ruby-identifier">f</span><span class="ruby-operator">=~</span><span class="ruby-regexp re">/so$/</span> <span class="ruby-keyword kw">or</span> <span class="ruby-identifier">f</span><span class="ruby-operator">=~</span><span class="ruby-regexp re">/bundle/</span>}
+    <span class="ruby-identifier">swigInterfaces</span>=<span class="ruby-identifier">libs</span>.<span class="ruby-identifier">map</span>{<span class="ruby-operator">|</span><span class="ruby-identifier">f</span><span class="ruby-operator">|</span><span class="ruby-identifier">f</span>.<span class="ruby-identifier">sub</span>(<span class="ruby-regexp re">/\.[a-zA-Z]+$/</span>,<span class="ruby-value str">&quot;.i&quot;</span>)}
+    <span class="ruby-identifier">swigInterfaces</span>=<span class="ruby-identifier">files</span>.<span class="ruby-identifier">select</span>{<span class="ruby-operator">|</span><span class="ruby-identifier">f</span><span class="ruby-operator">|</span><span class="ruby-identifier">f</span><span class="ruby-operator">=~</span><span class="ruby-regexp re">/i$/</span>}
+    <span class="ruby-identifier">swigInterface</span> = <span class="ruby-constant">Rookey</span><span class="ruby-operator">::</span><span class="ruby-identifier">swig_interface</span>(<span class="ruby-identifier">name</span>=<span class="ruby-operator">&gt;</span><span class="ruby-identifier">headerFiles</span><span class="ruby-operator">+</span><span class="ruby-identifier">swigInterfaces</span>,<span class="ruby-identifier">:initializers=</span><span class="ruby-operator">&gt;</span><span class="ruby-identifier">inits</span>)
+    <span class="ruby-identifier">cppFiles</span>=<span class="ruby-identifier">files</span>.<span class="ruby-identifier">select</span>{<span class="ruby-operator">|</span><span class="ruby-identifier">f</span><span class="ruby-operator">|</span><span class="ruby-identifier">f</span><span class="ruby-operator">=~</span><span class="ruby-regexp re">/c$/</span>}
+
+    <span class="ruby-identifier">sourceDirs</span>=<span class="ruby-identifier">files</span>.<span class="ruby-identifier">map</span>{<span class="ruby-operator">|</span><span class="ruby-identifier">file</span><span class="ruby-operator">|</span><span class="ruby-constant">File</span>.<span class="ruby-identifier">split</span>(<span class="ruby-identifier">file</span>)[<span class="ruby-value">0</span>]}.<span class="ruby-identifier">sort</span>.<span class="ruby-identifier">uniq</span>
+    
+    <span class="ruby-identifier">config</span>=<span class="ruby-constant">Rookey</span><span class="ruby-operator">::</span><span class="ruby-identifier">getConfig</span>
+    <span class="ruby-identifier">config</span>.<span class="ruby-identifier">add</span>(<span class="ruby-value str">&quot;INCLUDEDIRS&quot;</span>,<span class="ruby-identifier">sourceDirs</span>.<span class="ruby-identifier">join</span>(<span class="ruby-value str">&quot; &quot;</span>))
+        
+    <span class="ruby-identifier">swigTarget</span> = <span class="ruby-constant">Rookey</span><span class="ruby-operator">::</span><span class="ruby-identifier">swig</span>({<span class="ruby-identifier">name</span><span class="ruby-operator">+</span><span class="ruby-value str">&quot;_swig.cc&quot;</span>=<span class="ruby-operator">&gt;</span><span class="ruby-identifier">swigInterface</span>},<span class="ruby-identifier">config</span>)
+    
+    
+    <span class="ruby-identifier">targets</span> = <span class="ruby-constant">Rookey</span><span class="ruby-operator">::</span><span class="ruby-identifier">compile</span>(<span class="ruby-identifier">cppFiles</span><span class="ruby-operator">+</span>[<span class="ruby-identifier">swigTarget</span>],<span class="ruby-identifier">config</span>)
+    <span class="ruby-identifier">alllibs</span>=<span class="ruby-identifier">libs</span>
+    
+    <span class="ruby-identifier">lib</span>=<span class="ruby-constant">Rookey</span><span class="ruby-operator">::</span><span class="ruby-identifier">link_dll</span>(<span class="ruby-identifier">name</span>,<span class="ruby-identifier">targets</span><span class="ruby-operator">+</span><span class="ruby-identifier">alllibs</span>)
+  <span class="ruby-keyword kw">end</span></pre>
+</body>
+</html>
\ No newline at end of file

Added: antargis/trunk/rookey/docs/ruby/created.rid
===================================================================
--- antargis/trunk/rookey/docs/ruby/created.rid	2008-03-17 15:29:28 UTC (rev 1235)
+++ antargis/trunk/rookey/docs/ruby/created.rid	2008-03-26 19:30:10 UTC (rev 1236)
@@ -0,0 +1 @@
+Wed, 26 Mar 2008 20:22:48 +0100

Added: antargis/trunk/rookey/docs/ruby/files/README.html
===================================================================
--- antargis/trunk/rookey/docs/ruby/files/README.html	2008-03-17 15:29:28 UTC (rev 1235)
+++ antargis/trunk/rookey/docs/ruby/files/README.html	2008-03-26 19:30:10 UTC (rev 1236)
@@ -0,0 +1,150 @@
+<?xml version="1.0" encoding="iso-8859-1"?>
+<!DOCTYPE html 
+     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
+     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
+
+<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
+<head>
+  <title>File: README</title>
+  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
+  <meta http-equiv="Content-Script-Type" content="text/javascript" />
+  <link rel="stylesheet" href=".././rdoc-style.css" type="text/css" media="screen" />
+  <script type="text/javascript">
+  // <![CDATA[
+
+  function popupCode( url ) {
+    window.open(url, "Code", "resizable=yes,scrollbars=yes,toolbar=no,status=no,height=150,width=400")
+  }
+
+  function toggleCode( id ) {
+    if ( document.getElementById )
+      elem = document.getElementById( id );
+    else if ( document.all )
+      elem = eval( "document.all." + id );
+    else
+      return false;
+
+    elemStyle = elem.style;
+    
+    if ( elemStyle.display != "block" ) {
+      elemStyle.display = "block"
+    } else {
+      elemStyle.display = "none"
+    }
+
+    return true;
+  }
+  
+  // Make codeblocks hidden by default
+  document.writeln( "<style type=\"text/css\">div.method-source-code { display: none }</style>" )
+  
+  // ]]>
+  </script>
+
+</head>
+<body>
+
+
+
+  <div id="fileHeader">
+    <h1>README</h1>
+    <table class="header-table">
+    <tr class="top-aligned-row">
+      <td><strong>Path:</strong></td>
+      <td>README
+      </td>
+    </tr>
+    <tr class="top-aligned-row">
+      <td><strong>Last Update:</strong></td>
+      <td>Wed Mar 26 16:44:58 +0100 2008</td>
+    </tr>
+    </table>
+  </div>
+  <!-- banner header -->
+
+  <div id="bodyContent">
+
+
+
+  <div id="contextContent">
+
+    <div id="description">
+      <h2>Overview</h2>
+<p>
+<a href="../classes/Rookey.html">Rookey</a> is a simplified build-system in
+the manner of the autotools based on rake. It should make things much
+easier for c++-developers wanting to create ruby-extensions.
+</p>
+<p>
+It uses swig for creation of the wrapping-code, but tries to handle the
+complicated configuration itself, so you shouldn&#8216;t have to care about
+it too much.
+</p>
+<p>
+You&#8216;re however free to hack beside it.
+</p>
+<p>
+It handles the following things for you:
+</p>
+<ul>
+<li>dependencies of c++ and header files
+
+</li>
+<li>dependencies of swig-interface-files (.i), headerfiles and their derivants
+
+</li>
+<li>creation of the swig-interface-files
+
+</li>
+<li>directors and dynamic_casts are created automatically for children of
+AGRubyObject
+
+</li>
+<li>marking is simplified, so that you only have to override the
+&quot;mark()&quot;-method and call markObject(.) for each object that you
+want to mark (for all AGRubyObject-derived classes)
+
+</li>
+<li><a href="../classes/Rookey.html">Rookey</a> takes care of the
+class-hierarchy and includes header-files in the correct order
+
+</li>
+</ul>
+<p>
+<a href="../classes/Rookey.html">Rookey</a> is handled by a rake-alike
+syntax. Module <a href="../classes/Rookey.html">Rookey</a> describes how to
+use it.
+</p>
+
+    </div>
+
+
+   </div>
+
+
+  </div>
+
+
+    <!-- if includes -->
+
+    <div id="section">
+
+
+
+
+
+      
+
+
+    <!-- if method_list -->
+
+
+  </div>
+
+
+<div id="validator-badges">
+  <p><small><a href="http://validator.w3.org/check/referer">[Validate]</a></small></p>
+</div>
+
+</body>
+</html>
\ No newline at end of file

Added: antargis/trunk/rookey/docs/ruby/files/compile_rb.html
===================================================================
--- antargis/trunk/rookey/docs/ruby/files/compile_rb.html	2008-03-17 15:29:28 UTC (rev 1235)
+++ antargis/trunk/rookey/docs/ruby/files/compile_rb.html	2008-03-26 19:30:10 UTC (rev 1236)
@@ -0,0 +1,101 @@
+<?xml version="1.0" encoding="iso-8859-1"?>
+<!DOCTYPE html 
+     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
+     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
+
+<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
+<head>
+  <title>File: compile.rb</title>
+  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
+  <meta http-equiv="Content-Script-Type" content="text/javascript" />
+  <link rel="stylesheet" href=".././rdoc-style.css" type="text/css" media="screen" />
+  <script type="text/javascript">
+  // <![CDATA[
+
+  function popupCode( url ) {
+    window.open(url, "Code", "resizable=yes,scrollbars=yes,toolbar=no,status=no,height=150,width=400")
+  }
+
+  function toggleCode( id ) {
+    if ( document.getElementById )
+      elem = document.getElementById( id );
+    else if ( document.all )
+      elem = eval( "document.all." + id );
+    else
+      return false;
+
+    elemStyle = elem.style;
+    
+    if ( elemStyle.display != "block" ) {
+      elemStyle.display = "block"
+    } else {
+      elemStyle.display = "none"
+    }
+
+    return true;
+  }
+  
+  // Make codeblocks hidden by default
+  document.writeln( "<style type=\"text/css\">div.method-source-code { display: none }</style>" )
+  
+  // ]]>
+  </script>
+
+</head>
+<body>
+
+
+
+  <div id="fileHeader">
+    <h1>compile.rb</h1>
+    <table class="header-table">
+    <tr class="top-aligned-row">
+      <td><strong>Path:</strong></td>
+      <td>compile.rb
+      </td>
+    </tr>
+    <tr class="top-aligned-row">
+      <td><strong>Last Update:</strong></td>
+      <td>Wed Mar 26 16:48:41 +0100 2008</td>
+    </tr>
+    </table>
+  </div>
+  <!-- banner header -->
+
+  <div id="bodyContent">
+
+
+
+  <div id="contextContent">
+
+
+
+   </div>
+
+
+  </div>
+
+
+    <!-- if includes -->
+
+    <div id="section">
+
+
+
+
+
+      
+
+
+    <!-- if method_list -->
+
+
+  </div>
+
+
+<div id="validator-badges">
+  <p><small><a href="http://validator.w3.org/check/referer">[Validate]</a></small></p>
+</div>
+
+</body>
+</html>
\ No newline at end of file

Added: antargis/trunk/rookey/docs/ruby/files/config_generator_rb.html
===================================================================
--- antargis/trunk/rookey/docs/ruby/files/config_generator_rb.html	2008-03-17 15:29:28 UTC (rev 1235)
+++ antargis/trunk/rookey/docs/ruby/files/config_generator_rb.html	2008-03-26 19:30:10 UTC (rev 1236)
@@ -0,0 +1,101 @@
+<?xml version="1.0" encoding="iso-8859-1"?>
+<!DOCTYPE html 
+     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
+     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
+
+<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
+<head>
+  <title>File: config_generator.rb</title>
+  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
+  <meta http-equiv="Content-Script-Type" content="text/javascript" />
+  <link rel="stylesheet" href=".././rdoc-style.css" type="text/css" media="screen" />
+  <script type="text/javascript">
+  // <![CDATA[
+
+  function popupCode( url ) {
+    window.open(url, "Code", "resizable=yes,scrollbars=yes,toolbar=no,status=no,height=150,width=400")
+  }
+
+  function toggleCode( id ) {
+    if ( document.getElementById )
+      elem = document.getElementById( id );
+    else if ( document.all )
+      elem = eval( "document.all." + id );
+    else
+      return false;
+
+    elemStyle = elem.style;
+    
+    if ( elemStyle.display != "block" ) {
+      elemStyle.display = "block"
+    } else {
+      elemStyle.display = "none"
+    }
+
+    return true;
+  }
+  
+  // Make codeblocks hidden by default
+  document.writeln( "<style type=\"text/css\">div.method-source-code { display: none }</style>" )
+  
+  // ]]>
+  </script>
+
+</head>
+<body>
+
+
+
+  <div id="fileHeader">
+    <h1>config_generator.rb</h1>
+    <table class="header-table">
+    <tr class="top-aligned-row">
+      <td><strong>Path:</strong></td>
+      <td>config_generator.rb
+      </td>
+    </tr>
+    <tr class="top-aligned-row">
+      <td><strong>Last Update:</strong></td>
+      <td>Wed Mar 26 07:10:10 +0100 2008</td>
+    </tr>
+    </table>
+  </div>
+  <!-- banner header -->
+
+  <div id="bodyContent">
+
+
+
+  <div id="contextContent">
+
+
+
+   </div>
+
+
+  </div>
+
+
+    <!-- if includes -->
+
+    <div id="section">
+
+
+
+
+
+      
+
+
+    <!-- if method_list -->
+
+
+  </div>
+
+
+<div id="validator-badges">
+  <p><small><a href="http://validator.w3.org/check/referer">[Validate]</a></small></p>
+</div>
+
+</body>
+</html>
\ No newline at end of file

Added: antargis/trunk/rookey/docs/ruby/files/configs/ccache_rb.html
===================================================================
--- antargis/trunk/rookey/docs/ruby/files/configs/ccache_rb.html	2008-03-17 15:29:28 UTC (rev 1235)
+++ antargis/trunk/rookey/docs/ruby/files/configs/ccache_rb.html	2008-03-26 19:30:10 UTC (rev 1236)
@@ -0,0 +1,101 @@
+<?xml version="1.0" encoding="iso-8859-1"?>
+<!DOCTYPE html 
+     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
+     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
+
+<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
+<head>
+  <title>File: ccache.rb</title>
+  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
+  <meta http-equiv="Content-Script-Type" content="text/javascript" />
+  <link rel="stylesheet" href="../.././rdoc-style.css" type="text/css" media="screen" />
+  <script type="text/javascript">
+  // <![CDATA[
+
+  function popupCode( url ) {
+    window.open(url, "Code", "resizable=yes,scrollbars=yes,toolbar=no,status=no,height=150,width=400")
+  }
+
+  function toggleCode( id ) {
+    if ( document.getElementById )
+      elem = document.getElementById( id );
+    else if ( document.all )
+      elem = eval( "document.all." + id );
+    else
+      return false;
+
+    elemStyle = elem.style;
+    
+    if ( elemStyle.display != "block" ) {
+      elemStyle.display = "block"
+    } else {
+      elemStyle.display = "none"
+    }
+
+    return true;
+  }
+  
+  // Make codeblocks hidden by default
+  document.writeln( "<style type=\"text/css\">div.method-source-code { display: none }</style>" )
+  
+  // ]]>
+  </script>
+
+</head>
+<body>
+
+
+
+  <div id="fileHeader">
+    <h1>ccache.rb</h1>
+    <table class="header-table">
+    <tr class="top-aligned-row">
+      <td><strong>Path:</strong></td>
+      <td>configs/ccache.rb
+      </td>
+    </tr>
+    <tr class="top-aligned-row">
+      <td><strong>Last Update:</strong></td>
+      <td>Wed Mar 19 20:13:10 +0100 2008</td>
+    </tr>
+    </table>
+  </div>
+  <!-- banner header -->
+
+  <div id="bodyContent">
+
+
+
+  <div id="contextContent">
+
+
+
+   </div>
+
+
+  </div>
+
+
+    <!-- if includes -->
+
+    <div id="section">
+
+
+
+
+
+      
+
+
+    <!-- if method_list -->
+
+
+  </div>
+
+
+<div id="validator-badges">
+  <p><small><a href="http://validator.w3.org/check/referer">[Validate]</a></small></p>
+</div>
+
+</body>
+</html>
\ No newline at end of file

Added: antargis/trunk/rookey/docs/ruby/files/configs/debug_rb.html
===================================================================
--- antargis/trunk/rookey/docs/ruby/files/configs/debug_rb.html	2008-03-17 15:29:28 UTC (rev 1235)
+++ antargis/trunk/rookey/docs/ruby/files/configs/debug_rb.html	2008-03-26 19:30:10 UTC (rev 1236)
@@ -0,0 +1,101 @@
+<?xml version="1.0" encoding="iso-8859-1"?>
+<!DOCTYPE html 
+     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
+     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
+
+<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
+<head>
+  <title>File: debug.rb</title>
+  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
+  <meta http-equiv="Content-Script-Type" content="text/javascript" />
+  <link rel="stylesheet" href="../.././rdoc-style.css" type="text/css" media="screen" />
+  <script type="text/javascript">
+  // <![CDATA[
+
+  function popupCode( url ) {
+    window.open(url, "Code", "resizable=yes,scrollbars=yes,toolbar=no,status=no,height=150,width=400")
+  }
+
+  function toggleCode( id ) {
+    if ( document.getElementById )
+      elem = document.getElementById( id );
+    else if ( document.all )
+      elem = eval( "document.all." + id );
+    else
+      return false;
+
+    elemStyle = elem.style;
+    
+    if ( elemStyle.display != "block" ) {
+      elemStyle.display = "block"
+    } else {
+      elemStyle.display = "none"
+    }
+
+    return true;
+  }
+  
+  // Make codeblocks hidden by default
+  document.writeln( "<style type=\"text/css\">div.method-source-code { display: none }</style>" )
+  
+  // ]]>
+  </script>
+
+</head>
+<body>
+
+
+
+  <div id="fileHeader">
+    <h1>debug.rb</h1>
+    <table class="header-table">
+    <tr class="top-aligned-row">
+      <td><strong>Path:</strong></td>
+      <td>configs/debug.rb
+      </td>
+    </tr>
+    <tr class="top-aligned-row">
+      <td><strong>Last Update:</strong></td>
+      <td>Tue Mar 25 18:04:24 +0100 2008</td>
+    </tr>
+    </table>
+  </div>
+  <!-- banner header -->
+
+  <div id="bodyContent">
+
+
+
+  <div id="contextContent">
+
+
+
+   </div>
+
+
+  </div>
+
+
+    <!-- if includes -->
+
+    <div id="section">
+
+
+
+
+
+      
+
+
+    <!-- if method_list -->
+
+
+  </div>
+
+
+<div id="validator-badges">
+  <p><small><a href="http://validator.w3.org/check/referer">[Validate]</a></small></p>
+</div>
+
+</body>
+</html>
\ No newline at end of file

Added: antargis/trunk/rookey/docs/ruby/files/configs/gl_rb.html
===================================================================
--- antargis/trunk/rookey/docs/ruby/files/configs/gl_rb.html	2008-03-17 15:29:28 UTC (rev 1235)
+++ antargis/trunk/rookey/docs/ruby/files/configs/gl_rb.html	2008-03-26 19:30:10 UTC (rev 1236)
@@ -0,0 +1,108 @@
+<?xml version="1.0" encoding="iso-8859-1"?>
+<!DOCTYPE html 
+     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
+     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
+
+<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
+<head>
+  <title>File: gl.rb</title>
+  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
+  <meta http-equiv="Content-Script-Type" content="text/javascript" />
+  <link rel="stylesheet" href="../.././rdoc-style.css" type="text/css" media="screen" />
+  <script type="text/javascript">
+  // <![CDATA[
+
+  function popupCode( url ) {
+    window.open(url, "Code", "resizable=yes,scrollbars=yes,toolbar=no,status=no,height=150,width=400")
+  }
+
+  function toggleCode( id ) {
+    if ( document.getElementById )
+      elem = document.getElementById( id );
+    else if ( document.all )
+      elem = eval( "document.all." + id );
+    else
+      return false;
+
+    elemStyle = elem.style;
+    
+    if ( elemStyle.display != "block" ) {
+      elemStyle.display = "block"
+    } else {
+      elemStyle.display = "none"
+    }
+
+    return true;
+  }
+  
+  // Make codeblocks hidden by default
+  document.writeln( "<style type=\"text/css\">div.method-source-code { display: none }</style>" )
+  
+  // ]]>
+  </script>
+
+</head>
+<body>
+
+
+
+  <div id="fileHeader">
+    <h1>gl.rb</h1>
+    <table class="header-table">
+    <tr class="top-aligned-row">
+      <td><strong>Path:</strong></td>
+      <td>configs/gl.rb
+      </td>
+    </tr>
+    <tr class="top-aligned-row">
+      <td><strong>Last Update:</strong></td>
+      <td>Wed Mar 19 20:13:00 +0100 2008</td>
+    </tr>
+    </table>
+  </div>
+  <!-- banner header -->
+
+  <div id="bodyContent">
+
+
+
+  <div id="contextContent">
+
+
+    <div id="requires-list">
+      <h3 class="section-bar">Required files</h3>
+
+      <div class="name-list">
+      mkmf&nbsp;&nbsp;
+      </div>
+    </div>
+
+   </div>
+
+
+  </div>
+
+
+    <!-- if includes -->
+
+    <div id="section">
+
+
+
+
+
+      
+
+
+    <!-- if method_list -->
+
+
+  </div>
+
+
+<div id="validator-badges">
+  <p><small><a href="http://validator.w3.org/check/referer">[Validate]</a></small></p>
+</div>
+
+</body>
+</html>
\ No newline at end of file

Added: antargis/trunk/rookey/docs/ruby/files/configs/ruby_rb.html
===================================================================
--- antargis/trunk/rookey/docs/ruby/files/configs/ruby_rb.html	2008-03-17 15:29:28 UTC (rev 1235)
+++ antargis/trunk/rookey/docs/ruby/files/configs/ruby_rb.html	2008-03-26 19:30:10 UTC (rev 1236)
@@ -0,0 +1,108 @@
+<?xml version="1.0" encoding="iso-8859-1"?>
+<!DOCTYPE html 
+     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
+     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
+
+<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
+<head>
+  <title>File: ruby.rb</title>
+  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
+  <meta http-equiv="Content-Script-Type" content="text/javascript" />
+  <link rel="stylesheet" href="../.././rdoc-style.css" type="text/css" media="screen" />
+  <script type="text/javascript">
+  // <![CDATA[
+
+  function popupCode( url ) {
+    window.open(url, "Code", "resizable=yes,scrollbars=yes,toolbar=no,status=no,height=150,width=400")
+  }
+
+  function toggleCode( id ) {
+    if ( document.getElementById )
+      elem = document.getElementById( id );
+    else if ( document.all )
+      elem = eval( "document.all." + id );
+    else
+      return false;
+
+    elemStyle = elem.style;
+    
+    if ( elemStyle.display != "block" ) {
+      elemStyle.display = "block"
+    } else {
+      elemStyle.display = "none"
+    }
+
+    return true;
+  }
+  
+  // Make codeblocks hidden by default
+  document.writeln( "<style type=\"text/css\">div.method-source-code { display: none }</style>" )
+  
+  // ]]>
+  </script>
+
+</head>
+<body>
+
+
+
+  <div id="fileHeader">
+    <h1>ruby.rb</h1>
+    <table class="header-table">
+    <tr class="top-aligned-row">
+      <td><strong>Path:</strong></td>
+      <td>configs/ruby.rb
+      </td>
+    </tr>
+    <tr class="top-aligned-row">
+      <td><strong>Last Update:</strong></td>
+      <td>Wed Mar 19 20:13:02 +0100 2008</td>
+    </tr>
+    </table>
+  </div>
+  <!-- banner header -->
+
+  <div id="bodyContent">
+
+
+
+  <div id="contextContent">
+
+
+    <div id="requires-list">
+      <h3 class="section-bar">Required files</h3>
+
+      <div class="name-list">
+      mkmf&nbsp;&nbsp;
+      </div>
+    </div>
+
+   </div>
+
+
+  </div>
+
+
+    <!-- if includes -->
+
+    <div id="section">
+
+
+
+
+
+      
+
+
+    <!-- if method_list -->
+
+
+  </div>
+
+
+<div id="validator-badges">
+  <p><small><a href="http://validator.w3.org/check/referer">[Validate]</a></small></p>
+</div>
+
+</body>
+</html>
\ No newline at end of file

Added: antargis/trunk/rookey/docs/ruby/files/configs/sdl_rb.html
===================================================================
--- antargis/trunk/rookey/docs/ruby/files/configs/sdl_rb.html	2008-03-17 15:29:28 UTC (rev 1235)
+++ antargis/trunk/rookey/docs/ruby/files/configs/sdl_rb.html	2008-03-26 19:30:10 UTC (rev 1236)
@@ -0,0 +1,101 @@
+<?xml version="1.0" encoding="iso-8859-1"?>
+<!DOCTYPE html 
+     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
+     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
+
+<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
+<head>
+  <title>File: sdl.rb</title>
+  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
+  <meta http-equiv="Content-Script-Type" content="text/javascript" />
+  <link rel="stylesheet" href="../.././rdoc-style.css" type="text/css" media="screen" />
+  <script type="text/javascript">
+  // <![CDATA[
+
+  function popupCode( url ) {
+    window.open(url, "Code", "resizable=yes,scrollbars=yes,toolbar=no,status=no,height=150,width=400")
+  }
+
+  function toggleCode( id ) {
+    if ( document.getElementById )
+      elem = document.getElementById( id );
+    else if ( document.all )
+      elem = eval( "document.all." + id );
+    else
+      return false;
+
+    elemStyle = elem.style;
+    
+    if ( elemStyle.display != "block" ) {
+      elemStyle.display = "block"
+    } else {
+      elemStyle.display = "none"
+    }
+
+    return true;
+  }
+  
+  // Make codeblocks hidden by default
+  document.writeln( "<style type=\"text/css\">div.method-source-code { display: none }</style>" )
+  
+  // ]]>
+  </script>
+
+</head>
+<body>
+
+
+
+  <div id="fileHeader">
+    <h1>sdl.rb</h1>
+    <table class="header-table">
+    <tr class="top-aligned-row">
+      <td><strong>Path:</strong></td>
+      <td>configs/sdl.rb
+      </td>
+    </tr>
+    <tr class="top-aligned-row">
+      <td><strong>Last Update:</strong></td>
+      <td>Wed Mar 19 20:13:07 +0100 2008</td>
+    </tr>
+    </table>
+  </div>
+  <!-- banner header -->
+
+  <div id="bodyContent">
+
+
+
+  <div id="contextContent">
+
+
+
+   </div>
+
+
+  </div>
+
+
+    <!-- if includes -->
+
+    <div id="section">
+
+
+
+
+
+      
+
+
+    <!-- if method_list -->
+
+
+  </div>
+
+
+<div id="validator-badges">
+  <p><small><a href="http://validator.w3.org/check/referer">[Validate]</a></small></p>
+</div>
+
+</body>
+</html>
\ No newline at end of file

Added: antargis/trunk/rookey/docs/ruby/files/configs/swig_rb.html
===================================================================
--- antargis/trunk/rookey/docs/ruby/files/configs/swig_rb.html	2008-03-17 15:29:28 UTC (rev 1235)
+++ antargis/trunk/rookey/docs/ruby/files/configs/swig_rb.html	2008-03-26 19:30:10 UTC (rev 1236)
@@ -0,0 +1,101 @@
+<?xml version="1.0" encoding="iso-8859-1"?>
+<!DOCTYPE html 
+     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
+     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
+
+<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
+<head>
+  <title>File: swig.rb</title>
+  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
+  <meta http-equiv="Content-Script-Type" content="text/javascript" />
+  <link rel="stylesheet" href="../.././rdoc-style.css" type="text/css" media="screen" />
+  <script type="text/javascript">
+  // <![CDATA[
+
+  function popupCode( url ) {
+    window.open(url, "Code", "resizable=yes,scrollbars=yes,toolbar=no,status=no,height=150,width=400")
+  }
+
+  function toggleCode( id ) {
+    if ( document.getElementById )
+      elem = document.getElementById( id );
+    else if ( document.all )
+      elem = eval( "document.all." + id );
+    else
+      return false;
+
+    elemStyle = elem.style;
+    
+    if ( elemStyle.display != "block" ) {
+      elemStyle.display = "block"
+    } else {
+      elemStyle.display = "none"
+    }
+
+    return true;
+  }
+  
+  // Make codeblocks hidden by default
+  document.writeln( "<style type=\"text/css\">div.method-source-code { display: none }</style>" )
+  
+  // ]]>
+  </script>
+
+</head>
+<body>
+
+
+
+  <div id="fileHeader">
+    <h1>swig.rb</h1>
+    <table class="header-table">
+    <tr class="top-aligned-row">
+      <td><strong>Path:</strong></td>
+      <td>configs/swig.rb
+      </td>
+    </tr>
+    <tr class="top-aligned-row">
+      <td><strong>Last Update:</strong></td>
+      <td>Wed Mar 19 20:13:04 +0100 2008</td>
+    </tr>
+    </table>
+  </div>
+  <!-- banner header -->
+
+  <div id="bodyContent">
+
+
+
+  <div id="contextContent">
+
+
+
+   </div>
+
+
+  </div>
+
+
+    <!-- if includes -->
+
+    <div id="section">
+
+
+
+
+
+      
+
+
+    <!-- if method_list -->
+
+
+  </div>
+
+
+<div id="validator-badges">
+  <p><small><a href="http://validator.w3.org/check/referer">[Validate]</a></small></p>
+</div>
+
+</body>
+</html>
\ No newline at end of file

Added: antargis/trunk/rookey/docs/ruby/files/cpp_hierarchy_parser_rb.html
===================================================================
--- antargis/trunk/rookey/docs/ruby/files/cpp_hierarchy_parser_rb.html	2008-03-17 15:29:28 UTC (rev 1235)
+++ antargis/trunk/rookey/docs/ruby/files/cpp_hierarchy_parser_rb.html	2008-03-26 19:30:10 UTC (rev 1236)
@@ -0,0 +1,108 @@
+<?xml version="1.0" encoding="iso-8859-1"?>
+<!DOCTYPE html 
+     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
+     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
+
+<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
+<head>
+  <title>File: cpp_hierarchy_parser.rb</title>
+  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
+  <meta http-equiv="Content-Script-Type" content="text/javascript" />
+  <link rel="stylesheet" href=".././rdoc-style.css" type="text/css" media="screen" />
+  <script type="text/javascript">
+  // <![CDATA[
+
+  function popupCode( url ) {
+    window.open(url, "Code", "resizable=yes,scrollbars=yes,toolbar=no,status=no,height=150,width=400")
+  }
+
+  function toggleCode( id ) {
+    if ( document.getElementById )
+      elem = document.getElementById( id );
+    else if ( document.all )
+      elem = eval( "document.all." + id );
+    else
+      return false;
+
+    elemStyle = elem.style;
+    
+    if ( elemStyle.display != "block" ) {
+      elemStyle.display = "block"
+    } else {
+      elemStyle.display = "none"
+    }
+
+    return true;
+  }
+  
+  // Make codeblocks hidden by default
+  document.writeln( "<style type=\"text/css\">div.method-source-code { display: none }</style>" )
+  
+  // ]]>
+  </script>
+
+</head>
+<body>
+
+
+
+  <div id="fileHeader">
+    <h1>cpp_hierarchy_parser.rb</h1>
+    <table class="header-table">
+    <tr class="top-aligned-row">
+      <td><strong>Path:</strong></td>
+      <td>cpp_hierarchy_parser.rb
+      </td>
+    </tr>
+    <tr class="top-aligned-row">
+      <td><strong>Last Update:</strong></td>
+      <td>Tue Mar 25 07:11:43 +0100 2008</td>
+    </tr>
+    </table>
+  </div>
+  <!-- banner header -->
+
+  <div id="bodyContent">
+
+
+
+  <div id="contextContent">
+
+
+    <div id="requires-list">
+      <h3 class="section-bar">Required files</h3>
+
+      <div class="name-list">
+      ostruct&nbsp;&nbsp;
+      </div>
+    </div>
+
+   </div>
+
+
+  </div>
+
+
+    <!-- if includes -->
+
+    <div id="section">
+
+
+
+
+
+      
+
+
+    <!-- if method_list -->
+
+
+  </div>
+
+
+<div id="validator-badges">
+  <p><small><a href="http://validator.w3.org/check/referer">[Validate]</a></small></p>
+</div>
+
+</body>
+</html>
\ No newline at end of file

Added: antargis/trunk/rookey/docs/ruby/files/rookey_rb.html
===================================================================
--- antargis/trunk/rookey/docs/ruby/files/rookey_rb.html	2008-03-17 15:29:28 UTC (rev 1235)
+++ antargis/trunk/rookey/docs/ruby/files/rookey_rb.html	2008-03-26 19:30:10 UTC (rev 1236)
@@ -0,0 +1,101 @@
+<?xml version="1.0" encoding="iso-8859-1"?>
+<!DOCTYPE html 
+     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
+     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
+
+<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
+<head>
+  <title>File: rookey.rb</title>
+  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
+  <meta http-equiv="Content-Script-Type" content="text/javascript" />
+  <link rel="stylesheet" href=".././rdoc-style.css" type="text/css" media="screen" />
+  <script type="text/javascript">
+  // <![CDATA[
+
+  function popupCode( url ) {
+    window.open(url, "Code", "resizable=yes,scrollbars=yes,toolbar=no,status=no,height=150,width=400")
+  }
+
+  function toggleCode( id ) {
+    if ( document.getElementById )
+      elem = document.getElementById( id );
+    else if ( document.all )
+      elem = eval( "document.all." + id );
+    else
+      return false;
+
+    elemStyle = elem.style;
+    
+    if ( elemStyle.display != "block" ) {
+      elemStyle.display = "block"
+    } else {
+      elemStyle.display = "none"
+    }
+
+    return true;
+  }
+  
+  // Make codeblocks hidden by default
+  document.writeln( "<style type=\"text/css\">div.method-source-code { display: none }</style>" )
+  
+  // ]]>
+  </script>
+
+</head>
+<body>
+
+
+
+  <div id="fileHeader">
+    <h1>rookey.rb</h1>
+    <table class="header-table">
+    <tr class="top-aligned-row">
+      <td><strong>Path:</strong></td>
+      <td>rookey.rb
+      </td>
+    </tr>
+    <tr class="top-aligned-row">
+      <td><strong>Last Update:</strong></td>
+      <td>Wed Mar 26 16:34:36 +0100 2008</td>
+    </tr>
+    </table>
+  </div>
+  <!-- banner header -->
+
+  <div id="bodyContent">
+
+
+
+  <div id="contextContent">
+
+
+
+   </div>
+
+
+  </div>
+
+
+    <!-- if includes -->
+
+    <div id="section">
+
+
+
+
+
+      
+
+
+    <!-- if method_list -->
+
+
+  </div>
+
+
+<div id="validator-badges">
+  <p><small><a href="http://validator.w3.org/check/referer">[Validate]</a></small></p>
+</div>
+
+</body>
+</html>
\ No newline at end of file

Added: antargis/trunk/rookey/docs/ruby/files/swig_ext_rb.html
===================================================================
--- antargis/trunk/rookey/docs/ruby/files/swig_ext_rb.html	2008-03-17 15:29:28 UTC (rev 1235)
+++ antargis/trunk/rookey/docs/ruby/files/swig_ext_rb.html	2008-03-26 19:30:10 UTC (rev 1236)
@@ -0,0 +1,101 @@
+<?xml version="1.0" encoding="iso-8859-1"?>
+<!DOCTYPE html 
+     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
+     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
+
+<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
+<head>
+  <title>File: swig_ext.rb</title>
+  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
+  <meta http-equiv="Content-Script-Type" content="text/javascript" />
+  <link rel="stylesheet" href=".././rdoc-style.css" type="text/css" media="screen" />
+  <script type="text/javascript">
+  // <![CDATA[
+
+  function popupCode( url ) {
+    window.open(url, "Code", "resizable=yes,scrollbars=yes,toolbar=no,status=no,height=150,width=400")
+  }
+
+  function toggleCode( id ) {
+    if ( document.getElementById )
+      elem = document.getElementById( id );
+    else if ( document.all )
+      elem = eval( "document.all." + id );
+    else
+      return false;
+
+    elemStyle = elem.style;
+    
+    if ( elemStyle.display != "block" ) {
+      elemStyle.display = "block"
+    } else {
+      elemStyle.display = "none"
+    }
+
+    return true;
+  }
+  
+  // Make codeblocks hidden by default
+  document.writeln( "<style type=\"text/css\">div.method-source-code { display: none }</style>" )
+  
+  // ]]>
+  </script>
+
+</head>
+<body>
+
+
+
+  <div id="fileHeader">
+    <h1>swig_ext.rb</h1>
+    <table class="header-table">
+    <tr class="top-aligned-row">
+      <td><strong>Path:</strong></td>
+      <td>swig_ext.rb
+      </td>
+    </tr>
+    <tr class="top-aligned-row">
+      <td><strong>Last Update:</strong></td>
+      <td>Fri Mar 14 17:02:17 +0100 2008</td>
+    </tr>
+    </table>
+  </div>
+  <!-- banner header -->
+
+  <div id="bodyContent">
+
+
+
+  <div id="contextContent">
+
+
+
+   </div>
+
+
+  </div>
+
+
+    <!-- if includes -->
+
+    <div id="section">
+
+
+
+
+
+      
+
+
+    <!-- if method_list -->
+
+
+  </div>
+
+
+<div id="validator-badges">
+  <p><small><a href="http://validator.w3.org/check/referer">[Validate]</a></small></p>
+</div>
+
+</body>
+</html>
\ No newline at end of file

Added: antargis/trunk/rookey/docs/ruby/files/swig_interface_builder_rb.html
===================================================================
--- antargis/trunk/rookey/docs/ruby/files/swig_interface_builder_rb.html	2008-03-17 15:29:28 UTC (rev 1235)
+++ antargis/trunk/rookey/docs/ruby/files/swig_interface_builder_rb.html	2008-03-26 19:30:10 UTC (rev 1236)
@@ -0,0 +1,101 @@
+<?xml version="1.0" encoding="iso-8859-1"?>
+<!DOCTYPE html 
+     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
+     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
+
+<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
+<head>
+  <title>File: swig_interface_builder.rb</title>
+  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
+  <meta http-equiv="Content-Script-Type" content="text/javascript" />
+  <link rel="stylesheet" href=".././rdoc-style.css" type="text/css" media="screen" />
+  <script type="text/javascript">
+  // <![CDATA[
+
+  function popupCode( url ) {
+    window.open(url, "Code", "resizable=yes,scrollbars=yes,toolbar=no,status=no,height=150,width=400")
+  }
+
+  function toggleCode( id ) {
+    if ( document.getElementById )
+      elem = document.getElementById( id );
+    else if ( document.all )
+      elem = eval( "document.all." + id );
+    else
+      return false;
+
+    elemStyle = elem.style;
+    
+    if ( elemStyle.display != "block" ) {
+      elemStyle.display = "block"
+    } else {
+      elemStyle.display = "none"
+    }
+
+    return true;
+  }
+  
+  // Make codeblocks hidden by default
+  document.writeln( "<style type=\"text/css\">div.method-source-code { display: none }</style>" )
+  
+  // ]]>
+  </script>
+
+</head>
+<body>
+
+
+
+  <div id="fileHeader">
+    <h1>swig_interface_builder.rb</h1>
+    <table class="header-table">
+    <tr class="top-aligned-row">
+      <td><strong>Path:</strong></td>
+      <td>swig_interface_builder.rb
+      </td>
+    </tr>
+    <tr class="top-aligned-row">
+      <td><strong>Last Update:</strong></td>
+      <td>Tue Mar 25 17:37:54 +0100 2008</td>
+    </tr>
+    </table>
+  </div>
+  <!-- banner header -->
+
+  <div id="bodyContent">
+
+
+
+  <div id="contextContent">
+
+
+
+   </div>
+
+
+  </div>
+
+
+    <!-- if includes -->
+
+    <div id="section">
+
+
+
+
+
+      
+
+
+    <!-- if method_list -->
+
+
+  </div>
+
+
+<div id="validator-badges">
+  <p><small><a href="http://validator.w3.org/check/referer">[Validate]</a></small></p>
+</div>
+
+</body>
+</html>
\ No newline at end of file

Added: antargis/trunk/rookey/docs/ruby/files/swig_rb.html
===================================================================
--- antargis/trunk/rookey/docs/ruby/files/swig_rb.html	2008-03-17 15:29:28 UTC (rev 1235)
+++ antargis/trunk/rookey/docs/ruby/files/swig_rb.html	2008-03-26 19:30:10 UTC (rev 1236)
@@ -0,0 +1,101 @@
+<?xml version="1.0" encoding="iso-8859-1"?>
+<!DOCTYPE html 
+     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
+     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
+
+<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
+<head>
+  <title>File: swig.rb</title>
+  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
+  <meta http-equiv="Content-Script-Type" content="text/javascript" />
+  <link rel="stylesheet" href=".././rdoc-style.css" type="text/css" media="screen" />
+  <script type="text/javascript">
+  // <![CDATA[
+
+  function popupCode( url ) {
+    window.open(url, "Code", "resizable=yes,scrollbars=yes,toolbar=no,status=no,height=150,width=400")
+  }
+
+  function toggleCode( id ) {
+    if ( document.getElementById )
+      elem = document.getElementById( id );
+    else if ( document.all )
+      elem = eval( "document.all." + id );
+    else
+      return false;
+
+    elemStyle = elem.style;
+    
+    if ( elemStyle.display != "block" ) {
+      elemStyle.display = "block"
+    } else {
+      elemStyle.display = "none"
+    }
+
+    return true;
+  }
+  
+  // Make codeblocks hidden by default
+  document.writeln( "<style type=\"text/css\">div.method-source-code { display: none }</style>" )
+  
+  // ]]>
+  </script>
+
+</head>
+<body>
+
+
+
+  <div id="fileHeader">
+    <h1>swig.rb</h1>
+    <table class="header-table">
+    <tr class="top-aligned-row">
+      <td><strong>Path:</strong></td>
+      <td>swig.rb
+      </td>
+    </tr>
+    <tr class="top-aligned-row">
+      <td><strong>Last Update:</strong></td>
+      <td>Tue Mar 25 07:18:18 +0100 2008</td>
+    </tr>
+    </table>
+  </div>
+  <!-- banner header -->
+
+  <div id="bodyContent">
+
+
+
+  <div id="contextContent">
+
+
+
+   </div>
+
+
+  </div>
+
+
+    <!-- if includes -->
+
+    <div id="section">
+
+
+
+
+
+      
+
+
+    <!-- if method_list -->
+
+
+  </div>
+
+
+<div id="validator-badges">
+  <p><small><a href="http://validator.w3.org/check/referer">[Validate]</a></small></p>
+</div>
+
+</body>
+</html>
\ No newline at end of file

Added: antargis/trunk/rookey/docs/ruby/files/tasks_rb.html
===================================================================
--- antargis/trunk/rookey/docs/ruby/files/tasks_rb.html	2008-03-17 15:29:28 UTC (rev 1235)
+++ antargis/trunk/rookey/docs/ruby/files/tasks_rb.html	2008-03-26 19:30:10 UTC (rev 1236)
@@ -0,0 +1,109 @@
+<?xml version="1.0" encoding="iso-8859-1"?>
+<!DOCTYPE html 
+     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
+     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
+
+<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
+<head>
+  <title>File: tasks.rb</title>
+  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
+  <meta http-equiv="Content-Script-Type" content="text/javascript" />
+  <link rel="stylesheet" href=".././rdoc-style.css" type="text/css" media="screen" />
+  <script type="text/javascript">
+  // <![CDATA[
+
+  function popupCode( url ) {
+    window.open(url, "Code", "resizable=yes,scrollbars=yes,toolbar=no,status=no,height=150,width=400")
+  }
+
+  function toggleCode( id ) {
+    if ( document.getElementById )
+      elem = document.getElementById( id );
+    else if ( document.all )
+      elem = eval( "document.all." + id );
+    else
+      return false;
+
+    elemStyle = elem.style;
+    
+    if ( elemStyle.display != "block" ) {
+      elemStyle.display = "block"
+    } else {
+      elemStyle.display = "none"
+    }
+
+    return true;
+  }
+  
+  // Make codeblocks hidden by default
+  document.writeln( "<style type=\"text/css\">div.method-source-code { display: none }</style>" )
+  
+  // ]]>
+  </script>
+
+</head>
+<body>
+
+
+
+  <div id="fileHeader">
+    <h1>tasks.rb</h1>
+    <table class="header-table">
+    <tr class="top-aligned-row">
+      <td><strong>Path:</strong></td>
+      <td>tasks.rb
+      </td>
+    </tr>
+    <tr class="top-aligned-row">
+      <td><strong>Last Update:</strong></td>
+      <td>Wed Mar 26 20:22:46 +0100 2008</td>
+    </tr>
+    </table>
+  </div>
+  <!-- banner header -->
+
+  <div id="bodyContent">
+
+
+
+  <div id="contextContent">
+
+
+    <div id="requires-list">
+      <h3 class="section-bar">Required files</h3>
+
+      <div class="name-list">
+      rake/clean.rb&nbsp;&nbsp;
+      pp&nbsp;&nbsp;
+      </div>
+    </div>
+
+   </div>
+
+
+  </div>
+
+
+    <!-- if includes -->
+
+    <div id="section">
+
+
+
+
+
+      
+
+
+    <!-- if method_list -->
+
+
+  </div>
+
+
+<div id="validator-badges">
+  <p><small><a href="http://validator.w3.org/check/referer">[Validate]</a></small></p>
+</div>
+
+</body>
+</html>
\ No newline at end of file

Added: antargis/trunk/rookey/docs/ruby/files/tools_rb.html
===================================================================
--- antargis/trunk/rookey/docs/ruby/files/tools_rb.html	2008-03-17 15:29:28 UTC (rev 1235)
+++ antargis/trunk/rookey/docs/ruby/files/tools_rb.html	2008-03-26 19:30:10 UTC (rev 1236)
@@ -0,0 +1,101 @@
+<?xml version="1.0" encoding="iso-8859-1"?>
+<!DOCTYPE html 
+     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
+     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
+
+<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
+<head>
+  <title>File: tools.rb</title>
+  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
+  <meta http-equiv="Content-Script-Type" content="text/javascript" />
+  <link rel="stylesheet" href=".././rdoc-style.css" type="text/css" media="screen" />
+  <script type="text/javascript">
+  // <![CDATA[
+
+  function popupCode( url ) {
+    window.open(url, "Code", "resizable=yes,scrollbars=yes,toolbar=no,status=no,height=150,width=400")
+  }
+
+  function toggleCode( id ) {
+    if ( document.getElementById )
+      elem = document.getElementById( id );
+    else if ( document.all )
+      elem = eval( "document.all." + id );
+    else
+      return false;
+
+    elemStyle = elem.style;
+    
+    if ( elemStyle.display != "block" ) {
+      elemStyle.display = "block"
+    } else {
+      elemStyle.display = "none"
+    }
+
+    return true;
+  }
+  
+  // Make codeblocks hidden by default
+  document.writeln( "<style type=\"text/css\">div.method-source-code { display: none }</style>" )
+  
+  // ]]>
+  </script>
+
+</head>
+<body>
+
+
+
+  <div id="fileHeader">
+    <h1>tools.rb</h1>
+    <table class="header-table">
+    <tr class="top-aligned-row">
+      <td><strong>Path:</strong></td>
+      <td>tools.rb
+      </td>
+    </tr>
+    <tr class="top-aligned-row">
+      <td><strong>Last Update:</strong></td>
+      <td>Wed Mar 26 20:19:45 +0100 2008</td>
+    </tr>
+    </table>
+  </div>
+  <!-- banner header -->
+
+  <div id="bodyContent">
+
+
+
+  <div id="contextContent">
+
+
+
+   </div>
+
+
+  </div>
+
+
+    <!-- if includes -->
+
+    <div id="section">
+
+
+
+
+
+      
+
+
+    <!-- if method_list -->
+
+
+  </div>
+
+
+<div id="validator-badges">
+  <p><small><a href="http://validator.w3.org/check/referer">[Validate]</a></small></p>
+</div>
+
+</body>
+</html>
\ No newline at end of file

Added: antargis/trunk/rookey/docs/ruby/fr_class_index.html
===================================================================
--- antargis/trunk/rookey/docs/ruby/fr_class_index.html	2008-03-17 15:29:28 UTC (rev 1235)
+++ antargis/trunk/rookey/docs/ruby/fr_class_index.html	2008-03-26 19:30:10 UTC (rev 1236)
@@ -0,0 +1,42 @@
+
+<?xml version="1.0" encoding="iso-8859-1"?>
+<!DOCTYPE html 
+     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
+     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
+
+<!--
+
+    Classes
+
+  -->
+<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
+<head>
+  <title>Classes</title>
+  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
+  <link rel="stylesheet" href="rdoc-style.css" type="text/css" />
+  <base target="docwin" />
+</head>
+<body>
+<div id="index">
+  <h1 class="section-bar">Classes</h1>
+  <div id="index-entries">
+    <a href="classes/Array.html">Array</a><br />
+    <a href="classes/Class.html">Class</a><br />
+    <a href="classes/Rookey.html">Rookey</a><br />
+    <a href="classes/Rookey/CcacheConfig.html">Rookey::CcacheConfig</a><br />
+    <a href="classes/Rookey/Compiler.html">Rookey::Compiler</a><br />
+    <a href="classes/Rookey/Config.html">Rookey::Config</a><br />
+    <a href="classes/Rookey/Configurator.html">Rookey::Configurator</a><br />
+    <a href="classes/Rookey/CppHierarchyParser.html">Rookey::CppHierarchyParser</a><br />
+    <a href="classes/Rookey/DebugConfig.html">Rookey::DebugConfig</a><br />
+    <a href="classes/Rookey/GLConfig.html">Rookey::GLConfig</a><br />
+    <a href="classes/Rookey/RubyConfig.html">Rookey::RubyConfig</a><br />
+    <a href="classes/Rookey/SDLConfig.html">Rookey::SDLConfig</a><br />
+    <a href="classes/Rookey/Swig.html">Rookey::Swig</a><br />
+    <a href="classes/Rookey/SwigConfig.html">Rookey::SwigConfig</a><br />
+    <a href="classes/Rookey/SwigInterfaceBuilder.html">Rookey::SwigInterfaceBuilder</a><br />
+    <a href="classes/Rookey/Tools.html">Rookey::Tools</a><br />
+  </div>
+</div>
+</body>
+</html>
\ No newline at end of file

Added: antargis/trunk/rookey/docs/ruby/fr_file_index.html
===================================================================
--- antargis/trunk/rookey/docs/ruby/fr_file_index.html	2008-03-17 15:29:28 UTC (rev 1235)
+++ antargis/trunk/rookey/docs/ruby/fr_file_index.html	2008-03-26 19:30:10 UTC (rev 1236)
@@ -0,0 +1,42 @@
+
+<?xml version="1.0" encoding="iso-8859-1"?>
+<!DOCTYPE html 
+     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
+     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
+
+<!--
+
+    Files
+
+  -->
+<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
+<head>
+  <title>Files</title>
+  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
+  <link rel="stylesheet" href="rdoc-style.css" type="text/css" />
+  <base target="docwin" />
+</head>
+<body>
+<div id="index">
+  <h1 class="section-bar">Files</h1>
+  <div id="index-entries">
+    <a href="files/README.html">README</a><br />
+    <a href="files/compile_rb.html">compile.rb</a><br />
+    <a href="files/config_generator_rb.html">config_generator.rb</a><br />
+    <a href="files/configs/ccache_rb.html">configs/ccache.rb</a><br />
+    <a href="files/configs/debug_rb.html">configs/debug.rb</a><br />
+    <a href="files/configs/gl_rb.html">configs/gl.rb</a><br />
+    <a href="files/configs/ruby_rb.html">configs/ruby.rb</a><br />
+    <a href="files/configs/sdl_rb.html">configs/sdl.rb</a><br />
+    <a href="files/configs/swig_rb.html">configs/swig.rb</a><br />
+    <a href="files/cpp_hierarchy_parser_rb.html">cpp_hierarchy_parser.rb</a><br />
+    <a href="files/rookey_rb.html">rookey.rb</a><br />
+    <a href="files/swig_rb.html">swig.rb</a><br />
+    <a href="files/swig_ext_rb.html">swig_ext.rb</a><br />
+    <a href="files/swig_interface_builder_rb.html">swig_interface_builder.rb</a><br />
+    <a href="files/tasks_rb.html">tasks.rb</a><br />
+    <a href="files/tools_rb.html">tools.rb</a><br />
+  </div>
+</div>
+</body>
+</html>
\ No newline at end of file

Added: antargis/trunk/rookey/docs/ruby/fr_method_index.html
===================================================================
--- antargis/trunk/rookey/docs/ruby/fr_method_index.html	2008-03-17 15:29:28 UTC (rev 1235)
+++ antargis/trunk/rookey/docs/ruby/fr_method_index.html	2008-03-26 19:30:10 UTC (rev 1236)
@@ -0,0 +1,83 @@
+
+<?xml version="1.0" encoding="iso-8859-1"?>
+<!DOCTYPE html 
+     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
+     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
+
+<!--
+
+    Methods
+
+  -->
+<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
+<head>
+  <title>Methods</title>
+  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
+  <link rel="stylesheet" href="rdoc-style.css" type="text/css" />
+  <base target="docwin" />
+</head>
+<body>
+<div id="index">
+  <h1 class="section-bar">Methods</h1>
+  <div id="index-entries">
+    <a href="classes/Rookey/Config.html#M000025">[] (Rookey::Config)</a><br />
+    <a href="classes/Rookey/Config.html#M000026">[]= (Rookey::Config)</a><br />
+    <a href="classes/Rookey/Config.html#M000027">add (Rookey::Config)</a><br />
+    <a href="classes/Rookey/Configurator.html#M000045">checkLibrary (Rookey::Configurator)</a><br />
+    <a href="classes/Rookey/Configurator.html#M000044">checkProgram (Rookey::Configurator)</a><br />
+    <a href="classes/Rookey.html#M000014">compile (Rookey)</a><br />
+    <a href="classes/Rookey/Compiler.html#M000030">compile (Rookey::Compiler)</a><br />
+    <a href="classes/Rookey/SwigInterfaceBuilder.html#M000054">create (Rookey::SwigInterfaceBuilder)</a><br />
+    <a href="classes/Rookey/Compiler.html#M000035">dllName (Rookey::Compiler)</a><br />
+    <a href="classes/Rookey/Compiler.html#M000036">exeName (Rookey::Compiler)</a><br />
+    <a href="classes/Rookey/CppHierarchyParser.html#M000048">getAllClasses (Rookey::CppHierarchyParser)</a><br />
+    <a href="classes/Rookey/CppHierarchyParser.html#M000050">getAllDerivations (Rookey::CppHierarchyParser)</a><br />
+    <a href="classes/Rookey/CppHierarchyParser.html#M000049">getAllRubyClasses (Rookey::CppHierarchyParser)</a><br />
+    <a href="classes/Rookey/Compiler.html#M000039">getBuildDir (Rookey::Compiler)</a><br />
+    <a href="classes/Rookey/SwigInterfaceBuilder.html#M000056">getClasses (Rookey::SwigInterfaceBuilder)</a><br />
+    <a href="classes/Rookey.html#M000004">getConfig (Rookey)</a><br />
+    <a href="classes/Rookey/Compiler.html#M000029">getDeps (Rookey::Compiler)</a><br />
+    <a href="classes/Rookey/Swig.html#M000023">getDeps (Rookey::Swig)</a><br />
+    <a href="classes/Rookey/Compiler.html#M000040">getDepsDir (Rookey::Compiler)</a><br />
+    <a href="classes/Rookey.html#M000007">getDescendantsOfClass (Rookey)</a><br />
+    <a href="classes/Rookey/SwigInterfaceBuilder.html#M000055">getFiles (Rookey::SwigInterfaceBuilder)</a><br />
+    <a href="classes/Rookey.html#M000010">getOrderedCppHeaders (Rookey)</a><br />
+    <a href="classes/Rookey.html#M000009">getRubyClasses (Rookey)</a><br />
+    <a href="classes/Array.html#M000001">grep (Array)</a><br />
+    <a href="classes/Rookey.html#M000005">hibe (Rookey)</a><br />
+    <a href="classes/Rookey/Compiler.html#M000034">linkA (Rookey::Compiler)</a><br />
+    <a href="classes/Rookey/Compiler.html#M000032">linkDLL (Rookey::Compiler)</a><br />
+    <a href="classes/Rookey/Compiler.html#M000031">linkEXE (Rookey::Compiler)</a><br />
+    <a href="classes/Rookey/Compiler.html#M000033">linkSO (Rookey::Compiler)</a><br />
+    <a href="classes/Rookey.html#M000015">link_dll (Rookey)</a><br />
+    <a href="classes/Rookey.html#M000016">link_exe (Rookey)</a><br />
+    <a href="classes/Rookey.html#M000006">log (Rookey)</a><br />
+    <a href="classes/Rookey/Compiler.html#M000037">makeObject (Rookey::Compiler)</a><br />
+    <a href="classes/Rookey/Compiler.html#M000038">makeSource (Rookey::Compiler)</a><br />
+    <a href="classes/Rookey/Tools.html#M000018">mkdir (Rookey::Tools)</a><br />
+    <a href="classes/Class.html#M000003">needs (Class)</a><br />
+    <a href="classes/Rookey/CppHierarchyParser.html#M000047">new (Rookey::CppHierarchyParser)</a><br />
+    <a href="classes/Rookey/SwigInterfaceBuilder.html#M000053">new (Rookey::SwigInterfaceBuilder)</a><br />
+    <a href="classes/Rookey/Compiler.html#M000028">new (Rookey::Compiler)</a><br />
+    <a href="classes/Rookey/Swig.html#M000021">new (Rookey::Swig)</a><br />
+    <a href="classes/Rookey/Config.html#M000024">new (Rookey::Config)</a><br />
+    <a href="classes/Rookey/Configurator.html#M000041">new (Rookey::Configurator)</a><br />
+    <a href="classes/Class.html#M000002">provides (Class)</a><br />
+    <a href="classes/Rookey.html#M000017">ruby_ext (Rookey)</a><br />
+    <a href="classes/Rookey/SDLConfig.html#M000019">run (Rookey::SDLConfig)</a><br />
+    <a href="classes/Rookey/SwigConfig.html#M000046">run (Rookey::SwigConfig)</a><br />
+    <a href="classes/Rookey/CcacheConfig.html#M000020">run (Rookey::CcacheConfig)</a><br />
+    <a href="classes/Rookey/RubyConfig.html#M000051">run (Rookey::RubyConfig)</a><br />
+    <a href="classes/Rookey/GLConfig.html#M000052">run (Rookey::GLConfig)</a><br />
+    <a href="classes/Rookey/Configurator.html#M000042">run (Rookey::Configurator)</a><br />
+    <a href="classes/Rookey/DebugConfig.html#M000057">run (Rookey::DebugConfig)</a><br />
+    <a href="classes/Rookey.html#M000008">runConfigure (Rookey)</a><br />
+    <a href="classes/Rookey/Configurator.html#M000043">searchProgram (Rookey::Configurator)</a><br />
+    <a href="classes/Rookey.html#M000012">swig (Rookey)</a><br />
+    <a href="classes/Rookey/Swig.html#M000022">swig (Rookey::Swig)</a><br />
+    <a href="classes/Rookey.html#M000013">swigDirect (Rookey)</a><br />
+    <a href="classes/Rookey.html#M000011">swig_interface (Rookey)</a><br />
+  </div>
+</div>
+</body>
+</html>
\ No newline at end of file

Added: antargis/trunk/rookey/docs/ruby/index.html
===================================================================
--- antargis/trunk/rookey/docs/ruby/index.html	2008-03-17 15:29:28 UTC (rev 1235)
+++ antargis/trunk/rookey/docs/ruby/index.html	2008-03-26 19:30:10 UTC (rev 1236)
@@ -0,0 +1,24 @@
+<?xml version="1.0" encoding="iso-8859-1"?>
+<!DOCTYPE html 
+     PUBLIC "-//W3C//DTD XHTML 1.0 Frameset//EN"
+     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-frameset.dtd">
+
+<!--
+
+    Rookey (Part of Battles of Antargis)
+
+  -->
+<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
+<head>
+  <title>Rookey (Part of Battles of Antargis)</title>
+  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
+</head>
+<frameset rows="20%, 80%">
+    <frameset cols="25%,35%,45%">
+        <frame src="fr_file_index.html"   title="Files" name="Files" />
+        <frame src="fr_class_index.html"  name="Classes" />
+        <frame src="fr_method_index.html" name="Methods" />
+    </frameset>
+    <frame src="files/README.html" name="docwin" />
+</frameset>
+</html>
\ No newline at end of file

Added: antargis/trunk/rookey/docs/ruby/rdoc-style.css
===================================================================
--- antargis/trunk/rookey/docs/ruby/rdoc-style.css	2008-03-17 15:29:28 UTC (rev 1235)
+++ antargis/trunk/rookey/docs/ruby/rdoc-style.css	2008-03-26 19:30:10 UTC (rev 1236)
@@ -0,0 +1,208 @@
+
+body {
+    font-family: Verdana,Arial,Helvetica,sans-serif;
+    font-size:   90%;
+    margin: 0;
+    margin-left: 40px;
+    padding: 0;
+    background: white;
+}
+
+h1,h2,h3,h4 { margin: 0; color: #efefef; background: transparent; }
+h1 { font-size: 150%; }
+h2,h3,h4 { margin-top: 1em; }
+
+a { background: #eef; color: #039; text-decoration: none; }
+a:hover { background: #039; color: #eef; }
+
+/* Override the base stylesheet's Anchor inside a table cell */
+td > a {
+  background: transparent;
+  color: #039;
+  text-decoration: none;
+}
+
+/* and inside a section title */
+.section-title > a {
+  background: transparent;
+  color: #eee;
+  text-decoration: none;
+}
+
+/* === Structural elements =================================== */
+
+div#index {
+    margin: 0;
+    margin-left: -40px;
+    padding: 0;
+    font-size: 90%;
+}
+
+
+div#index a {
+    margin-left: 0.7em;
+}
+
+div#index .section-bar {
+   margin-left: 0px;
+   padding-left: 0.7em;
+   background: #ccc;
+   font-size: small;
+}
+
+
+div#classHeader, div#fileHeader {
+    width: auto;
+    color: white;
+    padding: 0.5em 1.5em 0.5em 1.5em;
+    margin: 0;
+    margin-left: -40px;
+    border-bottom: 3px solid #006;
+}
+
+div#classHeader a, div#fileHeader a {
+    background: inherit;
+    color: white;
+}
+
+div#classHeader td, div#fileHeader td {
+    background: inherit;
+    color: white;
+}
+
+
+div#fileHeader {
+    background: #057;
+}
+
+div#classHeader {
+    background: #048;
+}
+
+
+.class-name-in-header {
+  font-size:  180%;
+  font-weight: bold;
+}
+
+
+div#bodyContent {
+    padding: 0 1.5em 0 1.5em;
+}
+
+div#description {
+    padding: 0.5em 1.5em;
+    background: #efefef;
+    border: 1px dotted #999;
+}
+
+div#description h1,h2,h3,h4,h5,h6 {
+    color: #125;;
+    background: transparent;
+}
+
+div#validator-badges {
+    text-align: center;
+}
+div#validator-badges img { border: 0; }
+
+div#copyright {
+    color: #333;
+    background: #efefef;
+    font: 0.75em sans-serif;
+    margin-top: 5em;
+    margin-bottom: 0;
+    padding: 0.5em 2em;
+}
+
+
+/* === Classes =================================== */
+
+table.header-table {
+    color: white;
+    font-size: small;
+}
+
+.type-note {
+    font-size: small;
+    color: #DEDEDE;
+}
+
+.xxsection-bar {
+    background: #eee;
+    color: #333;
+    padding: 3px;
+}
+
+.section-bar {
+   color: #333;
+   border-bottom: 1px solid #999;
+    margin-left: -20px;
+}
+
+
+.section-title {
+    background: #79a;
+    color: #eee;
+    padding: 3px;
+    margin-top: 2em;
+    margin-left: -30px;
+    border: 1px solid #999;
+}
+
+.top-aligned-row {  vertical-align: top }
+.bottom-aligned-row { vertical-align: bottom }
+
+/* --- Context section classes ----------------------- */
+
+.context-row { }
+.context-item-name { font-family: monospace; font-weight: bold; color: black; }
+.context-item-value { font-size: small; color: #448; }
+.context-item-desc { color: #333; padding-left: 2em; }
+
+/* --- Method classes -------------------------- */
+.method-detail {
+    background: #efefef;
+    padding: 0;
+    margin-top: 0.5em;
+    margin-bottom: 1em;
+    border: 1px dotted #ccc;
+}
+.method-heading {
+  color: black;
+  background: #ccc;
+  border-bottom: 1px solid #666;
+  padding: 0.2em 0.5em 0 0.5em;
+}
+.method-signature { color: black; background: inherit; }
+.method-name { font-weight: bold; }
+.method-args { font-style: italic; }
+.method-description { padding: 0 0.5em 0 0.5em; }
+
+/* --- Source code sections -------------------- */
+
+a.source-toggle { font-size: 90%; }
+div.method-source-code {
+    background: #262626;
+    color: #ffdead;
+    margin: 1em;
+    padding: 0.5em;
+    border: 1px dashed #999;
+    overflow: hidden;
+}
+
+div.method-source-code pre { color: #ffdead; overflow: hidden; }
+
+/* --- Ruby keyword styles --------------------- */
+
+.standalone-code { background: #221111; color: #ffdead; overflow: hidden; }
+
+.ruby-constant  { color: #7fffd4; background: transparent; }
+.ruby-keyword { color: #00ffff; background: transparent; }
+.ruby-ivar    { color: #eedd82; background: transparent; }
+.ruby-operator  { color: #00ffee; background: transparent; }
+.ruby-identifier { color: #ffdead; background: transparent; }
+.ruby-node    { color: #ffa07a; background: transparent; }
+.ruby-comment { color: #b22222; font-weight: bold; background: transparent; }
+.ruby-regexp  { color: #ffa07a; background: transparent; }
+.ruby-value   { color: #7fffd4; background: transparent; }
\ No newline at end of file

Added: antargis/trunk/rookey/rookey.rb
===================================================================
--- antargis/trunk/rookey/rookey.rb	2008-03-17 15:29:28 UTC (rev 1235)
+++ antargis/trunk/rookey/rookey.rb	2008-03-26 19:30:10 UTC (rev 1236)
@@ -0,0 +1,2 @@
+require File.join(File.split(__FILE__)[0],'tools.rb')
+

Added: antargis/trunk/rookey/spec/Rakefile
===================================================================
--- antargis/trunk/rookey/spec/Rakefile	2008-03-17 15:29:28 UTC (rev 1235)
+++ antargis/trunk/rookey/spec/Rakefile	2008-03-26 19:30:10 UTC (rev 1236)
@@ -0,0 +1,12 @@
+require '../tasks.rb'
+
+swigTarget = Rookey::swig "swig.cc"=>"interface.i"
+
+targets = Rookey::compile ["main.cc",swigTarget]
+
+
+antargisDll = Rookey::link_dll "antargis",targets
+antargisExe = Rookey::link_exe "antargis",targets
+
+task :default=>[antargisExe,antargisDll] do
+end
\ No newline at end of file

Added: antargis/trunk/rookey/spec/interface.i
===================================================================
--- antargis/trunk/rookey/spec/interface.i	2008-03-17 15:29:28 UTC (rev 1235)
+++ antargis/trunk/rookey/spec/interface.i	2008-03-26 19:30:10 UTC (rev 1236)
@@ -0,0 +1 @@
+%module antargis
\ No newline at end of file

Added: antargis/trunk/rookey/spec/main.cc
===================================================================
--- antargis/trunk/rookey/spec/main.cc	2008-03-17 15:29:28 UTC (rev 1235)
+++ antargis/trunk/rookey/spec/main.cc	2008-03-26 19:30:10 UTC (rev 1236)
@@ -0,0 +1,7 @@
+#include <iostream>
+
+int main()
+  {
+    std::cout<<"ok"<<std::endl;
+    return 0;
+  }
\ No newline at end of file


Property changes on: antargis/trunk/rookey/spec/main.cc
___________________________________________________________________
Name: svn:mime-type
   + text/plain

Added: antargis/trunk/rookey/spec/spec_rookey.rb
===================================================================
--- antargis/trunk/rookey/spec/spec_rookey.rb	2008-03-17 15:29:28 UTC (rev 1235)
+++ antargis/trunk/rookey/spec/spec_rookey.rb	2008-03-26 19:30:10 UTC (rev 1236)
@@ -0,0 +1,24 @@
+describe "Dependencies" do
+  describe "for swig" do
+    it "should handle interface-files correctly"
+    it "should handle depending header files correctly"
+    it "the compiler should be called"
+  end
+  describe "for gcc" do
+    it "should handle c-files correctly"
+    it "should handle depending header files correctly"
+  end
+end
+
+describe "Config" do
+  it "should have an interface for configuring profiling, debugging, paths and so on"
+  it "should handle config-scripts in correct order"
+  it "should find libraries"
+  it "should find programs"
+  it "should check libraries for functions"
+  it "should have an option for using mingw"
+end
+
+describe "Interface generation" do
+  it "should generate directors for all ruby-classes"
+end
\ No newline at end of file

Added: antargis/trunk/rookey/swig.cc
===================================================================
--- antargis/trunk/rookey/swig.cc	2008-03-17 15:29:28 UTC (rev 1235)
+++ antargis/trunk/rookey/swig.cc	2008-03-26 19:30:10 UTC (rev 1236)
@@ -0,0 +1,2029 @@
+/* ----------------------------------------------------------------------------
+ * This file was automatically generated by SWIG (http://www.swig.org).
+ * Version 1.3.33
+ * 
+ * This file is not intended to be easily readable and contains a number of 
+ * coding conventions designed to improve portability and efficiency. Do not make
+ * changes to this file unless you know what you are doing--modify the SWIG 
+ * interface file instead. 
+ * ----------------------------------------------------------------------------- */
+
+#define SWIGRUBY
+
+#ifdef __cplusplus
+template<typename T> class SwigValueWrapper {
+    T *tt;
+public:
+    SwigValueWrapper() : tt(0) { }
+    SwigValueWrapper(const SwigValueWrapper<T>& rhs) : tt(new T(*rhs.tt)) { }
+    SwigValueWrapper(const T& t) : tt(new T(t)) { }
+    ~SwigValueWrapper() { delete tt; } 
+    SwigValueWrapper& operator=(const T& t) { delete tt; tt = new T(t); return *this; }
+    operator T&() const { return *tt; }
+    T *operator&() { return tt; }
+private:
+    SwigValueWrapper& operator=(const SwigValueWrapper<T>& rhs);
+};
+
+template <typename T> T SwigValueInit() {
+  return T();
+}
+#endif
+
+/* -----------------------------------------------------------------------------
+ *  This section contains generic SWIG labels for method/variable
+ *  declarations/attributes, and other compiler dependent labels.
+ * ----------------------------------------------------------------------------- */
+
+/* template workaround for compilers that cannot correctly implement the C++ standard */
+#ifndef SWIGTEMPLATEDISAMBIGUATOR
+# if defined(__SUNPRO_CC) && (__SUNPRO_CC <= 0x560)
+#  define SWIGTEMPLATEDISAMBIGUATOR template
+# elif defined(__HP_aCC)
+/* Needed even with `aCC -AA' when `aCC -V' reports HP ANSI C++ B3910B A.03.55 */
+/* If we find a maximum version that requires this, the test would be __HP_aCC <= 35500 for A.03.55 */
+#  define SWIGTEMPLATEDISAMBIGUATOR template
+# else
+#  define SWIGTEMPLATEDISAMBIGUATOR
+# endif
+#endif
+
+/* inline attribute */
+#ifndef SWIGINLINE
+# if defined(__cplusplus) || (defined(__GNUC__) && !defined(__STRICT_ANSI__))
+#   define SWIGINLINE inline
+# else
+#   define SWIGINLINE
+# endif
+#endif
+
+/* attribute recognised by some compilers to avoid 'unused' warnings */
+#ifndef SWIGUNUSED
+# if defined(__GNUC__)
+#   if !(defined(__cplusplus)) || (__GNUC__ > 3 || (__GNUC__ == 3 && __GNUC_MINOR__ >= 4))
+#     define SWIGUNUSED __attribute__ ((__unused__)) 
+#   else
+#     define SWIGUNUSED
+#   endif
+# elif defined(__ICC)
+#   define SWIGUNUSED __attribute__ ((__unused__)) 
+# else
+#   define SWIGUNUSED 
+# endif
+#endif
+
+#ifndef SWIGUNUSEDPARM
+# ifdef __cplusplus
+#   define SWIGUNUSEDPARM(p)
+# else
+#   define SWIGUNUSEDPARM(p) p SWIGUNUSED 
+# endif
+#endif
+
+/* internal SWIG method */
+#ifndef SWIGINTERN
+# define SWIGINTERN static SWIGUNUSED
+#endif
+
+/* internal inline SWIG method */
+#ifndef SWIGINTERNINLINE
+# define SWIGINTERNINLINE SWIGINTERN SWIGINLINE
+#endif
+
+/* exporting methods */
+#if (__GNUC__ >= 4) || (__GNUC__ == 3 && __GNUC_MINOR__ >= 4)
+#  ifndef GCC_HASCLASSVISIBILITY
+#    define GCC_HASCLASSVISIBILITY
+#  endif
+#endif
+
+#ifndef SWIGEXPORT
+# if defined(_WIN32) || defined(__WIN32__) || defined(__CYGWIN__)
+#   if defined(STATIC_LINKED)
+#     define SWIGEXPORT
+#   else
+#     define SWIGEXPORT __declspec(dllexport)
+#   endif
+# else
+#   if defined(__GNUC__) && defined(GCC_HASCLASSVISIBILITY)
+#     define SWIGEXPORT __attribute__ ((visibility("default")))
+#   else
+#     define SWIGEXPORT
+#   endif
+# endif
+#endif
+
+/* calling conventions for Windows */
+#ifndef SWIGSTDCALL
+# if defined(_WIN32) || defined(__WIN32__) || defined(__CYGWIN__)
+#   define SWIGSTDCALL __stdcall
+# else
+#   define SWIGSTDCALL
+# endif 
+#endif
+
+/* Deal with Microsoft's attempt at deprecating C standard runtime functions */
+#if !defined(SWIG_NO_CRT_SECURE_NO_DEPRECATE) && defined(_MSC_VER) && !defined(_CRT_SECURE_NO_DEPRECATE)
+# define _CRT_SECURE_NO_DEPRECATE
+#endif
+
+/* Deal with Microsoft's attempt at deprecating methods in the standard C++ library */
+#if !defined(SWIG_NO_SCL_SECURE_NO_DEPRECATE) && defined(_MSC_VER) && !defined(_SCL_SECURE_NO_DEPRECATE)
+# define _SCL_SECURE_NO_DEPRECATE
+#endif
+
+
+/* -----------------------------------------------------------------------------
+ *  This section contains generic SWIG labels for method/variable
+ *  declarations/attributes, and other compiler dependent labels.
+ * ----------------------------------------------------------------------------- */
+
+/* template workaround for compilers that cannot correctly implement the C++ standard */
+#ifndef SWIGTEMPLATEDISAMBIGUATOR
+# if defined(__SUNPRO_CC) && (__SUNPRO_CC <= 0x560)
+#  define SWIGTEMPLATEDISAMBIGUATOR template
+# elif defined(__HP_aCC)
+/* Needed even with `aCC -AA' when `aCC -V' reports HP ANSI C++ B3910B A.03.55 */
+/* If we find a maximum version that requires this, the test would be __HP_aCC <= 35500 for A.03.55 */
+#  define SWIGTEMPLATEDISAMBIGUATOR template
+# else
+#  define SWIGTEMPLATEDISAMBIGUATOR
+# endif
+#endif
+
+/* inline attribute */
+#ifndef SWIGINLINE
+# if defined(__cplusplus) || (defined(__GNUC__) && !defined(__STRICT_ANSI__))
+#   define SWIGINLINE inline
+# else
+#   define SWIGINLINE
+# endif
+#endif
+
+/* attribute recognised by some compilers to avoid 'unused' warnings */
+#ifndef SWIGUNUSED
+# if defined(__GNUC__)
+#   if !(defined(__cplusplus)) || (__GNUC__ > 3 || (__GNUC__ == 3 && __GNUC_MINOR__ >= 4))
+#     define SWIGUNUSED __attribute__ ((__unused__)) 
+#   else
+#     define SWIGUNUSED
+#   endif
+# elif defined(__ICC)
+#   define SWIGUNUSED __attribute__ ((__unused__)) 
+# else
+#   define SWIGUNUSED 
+# endif
+#endif
+
+#ifndef SWIGUNUSEDPARM
+# ifdef __cplusplus
+#   define SWIGUNUSEDPARM(p)
+# else
+#   define SWIGUNUSEDPARM(p) p SWIGUNUSED 
+# endif
+#endif
+
+/* internal SWIG method */
+#ifndef SWIGINTERN
+# define SWIGINTERN static SWIGUNUSED
+#endif
+
+/* internal inline SWIG method */
+#ifndef SWIGINTERNINLINE
+# define SWIGINTERNINLINE SWIGINTERN SWIGINLINE
+#endif
+
+/* exporting methods */
+#if (__GNUC__ >= 4) || (__GNUC__ == 3 && __GNUC_MINOR__ >= 4)
+#  ifndef GCC_HASCLASSVISIBILITY
+#    define GCC_HASCLASSVISIBILITY
+#  endif
+#endif
+
+#ifndef SWIGEXPORT
+# if defined(_WIN32) || defined(__WIN32__) || defined(__CYGWIN__)
+#   if defined(STATIC_LINKED)
+#     define SWIGEXPORT
+#   else
+#     define SWIGEXPORT __declspec(dllexport)
+#   endif
+# else
+#   if defined(__GNUC__) && defined(GCC_HASCLASSVISIBILITY)
+#     define SWIGEXPORT __attribute__ ((visibility("default")))
+#   else
+#     define SWIGEXPORT
+#   endif
+# endif
+#endif
+
+/* calling conventions for Windows */
+#ifndef SWIGSTDCALL
+# if defined(_WIN32) || defined(__WIN32__) || defined(__CYGWIN__)
+#   define SWIGSTDCALL __stdcall
+# else
+#   define SWIGSTDCALL
+# endif 
+#endif
+
+/* Deal with Microsoft's attempt at deprecating C standard runtime functions */
+#if !defined(SWIG_NO_CRT_SECURE_NO_DEPRECATE) && defined(_MSC_VER) && !defined(_CRT_SECURE_NO_DEPRECATE)
+# define _CRT_SECURE_NO_DEPRECATE
+#endif
+
+/* Deal with Microsoft's attempt at deprecating methods in the standard C++ library */
+#if !defined(SWIG_NO_SCL_SECURE_NO_DEPRECATE) && defined(_MSC_VER) && !defined(_SCL_SECURE_NO_DEPRECATE)
+# define _SCL_SECURE_NO_DEPRECATE
+#endif
+
+
+/* -----------------------------------------------------------------------------
+ * swigrun.swg
+ *
+ * This file contains generic CAPI SWIG runtime support for pointer
+ * type checking.
+ * ----------------------------------------------------------------------------- */
+
+/* This should only be incremented when either the layout of swig_type_info changes,
+   or for whatever reason, the runtime changes incompatibly */
+#define SWIG_RUNTIME_VERSION "3"
+
+/* define SWIG_TYPE_TABLE_NAME as "SWIG_TYPE_TABLE" */
+#ifdef SWIG_TYPE_TABLE
+# define SWIG_QUOTE_STRING(x) #x
+# define SWIG_EXPAND_AND_QUOTE_STRING(x) SWIG_QUOTE_STRING(x)
+# define SWIG_TYPE_TABLE_NAME SWIG_EXPAND_AND_QUOTE_STRING(SWIG_TYPE_TABLE)
+#else
+# define SWIG_TYPE_TABLE_NAME
+#endif
+
+/*
+  You can use the SWIGRUNTIME and SWIGRUNTIMEINLINE macros for
+  creating a static or dynamic library from the swig runtime code.
+  In 99.9% of the cases, swig just needs to declare them as 'static'.
+  
+  But only do this if is strictly necessary, ie, if you have problems
+  with your compiler or so.
+*/
+
+#ifndef SWIGRUNTIME
+# define SWIGRUNTIME SWIGINTERN
+#endif
+
+#ifndef SWIGRUNTIMEINLINE
+# define SWIGRUNTIMEINLINE SWIGRUNTIME SWIGINLINE
+#endif
+
+/*  Generic buffer size */
+#ifndef SWIG_BUFFER_SIZE
+# define SWIG_BUFFER_SIZE 1024
+#endif
+
+/* Flags for pointer conversions */
+#define SWIG_POINTER_DISOWN        0x1
+
+/* Flags for new pointer objects */
+#define SWIG_POINTER_OWN           0x1
+
+
+/* 
+   Flags/methods for returning states.
+   
+   The swig conversion methods, as ConvertPtr, return and integer 
+   that tells if the conversion was successful or not. And if not,
+   an error code can be returned (see swigerrors.swg for the codes).
+   
+   Use the following macros/flags to set or process the returning
+   states.
+   
+   In old swig versions, you usually write code as:
+
+     if (SWIG_ConvertPtr(obj,vptr,ty.flags) != -1) {
+       // success code
+     } else {
+       //fail code
+     }
+
+   Now you can be more explicit as:
+
+    int res = SWIG_ConvertPtr(obj,vptr,ty.flags);
+    if (SWIG_IsOK(res)) {
+      // success code
+    } else {
+      // fail code
+    }
+
+   that seems to be the same, but now you can also do
+
+    Type *ptr;
+    int res = SWIG_ConvertPtr(obj,(void **)(&ptr),ty.flags);
+    if (SWIG_IsOK(res)) {
+      // success code
+      if (SWIG_IsNewObj(res) {
+        ...
+	delete *ptr;
+      } else {
+        ...
+      }
+    } else {
+      // fail code
+    }
+    
+   I.e., now SWIG_ConvertPtr can return new objects and you can
+   identify the case and take care of the deallocation. Of course that
+   requires also to SWIG_ConvertPtr to return new result values, as
+
+      int SWIG_ConvertPtr(obj, ptr,...) {         
+        if (<obj is ok>) {			       
+          if (<need new object>) {		       
+            *ptr = <ptr to new allocated object>; 
+            return SWIG_NEWOBJ;		       
+          } else {				       
+            *ptr = <ptr to old object>;	       
+            return SWIG_OLDOBJ;		       
+          } 				       
+        } else {				       
+          return SWIG_BADOBJ;		       
+        }					       
+      }
+
+   Of course, returning the plain '0(success)/-1(fail)' still works, but you can be
+   more explicit by returning SWIG_BADOBJ, SWIG_ERROR or any of the
+   swig errors code.
+
+   Finally, if the SWIG_CASTRANK_MODE is enabled, the result code
+   allows to return the 'cast rank', for example, if you have this
+
+       int food(double)
+       int fooi(int);
+
+   and you call
+ 
+      food(1)   // cast rank '1'  (1 -> 1.0)
+      fooi(1)   // cast rank '0'
+
+   just use the SWIG_AddCast()/SWIG_CheckState()
+
+
+ */
+#define SWIG_OK                    (0) 
+#define SWIG_ERROR                 (-1)
+#define SWIG_IsOK(r)               (r >= 0)
+#define SWIG_ArgError(r)           ((r != SWIG_ERROR) ? r : SWIG_TypeError)  
+
+/* The CastRankLimit says how many bits are used for the cast rank */
+#define SWIG_CASTRANKLIMIT         (1 << 8)
+/* The NewMask denotes the object was created (using new/malloc) */
+#define SWIG_NEWOBJMASK            (SWIG_CASTRANKLIMIT  << 1)
+/* The TmpMask is for in/out typemaps that use temporal objects */
+#define SWIG_TMPOBJMASK            (SWIG_NEWOBJMASK << 1)
+/* Simple returning values */
+#define SWIG_BADOBJ                (SWIG_ERROR)
+#define SWIG_OLDOBJ                (SWIG_OK)
+#define SWIG_NEWOBJ                (SWIG_OK | SWIG_NEWOBJMASK)
+#define SWIG_TMPOBJ                (SWIG_OK | SWIG_TMPOBJMASK)
+/* Check, add and del mask methods */
+#define SWIG_AddNewMask(r)         (SWIG_IsOK(r) ? (r | SWIG_NEWOBJMASK) : r)
+#define SWIG_DelNewMask(r)         (SWIG_IsOK(r) ? (r & ~SWIG_NEWOBJMASK) : r)
+#define SWIG_IsNewObj(r)           (SWIG_IsOK(r) && (r & SWIG_NEWOBJMASK))
+#define SWIG_AddTmpMask(r)         (SWIG_IsOK(r) ? (r | SWIG_TMPOBJMASK) : r)
+#define SWIG_DelTmpMask(r)         (SWIG_IsOK(r) ? (r & ~SWIG_TMPOBJMASK) : r)
+#define SWIG_IsTmpObj(r)           (SWIG_IsOK(r) && (r & SWIG_TMPOBJMASK))
+
+
+/* Cast-Rank Mode */
+#if defined(SWIG_CASTRANK_MODE)
+#  ifndef SWIG_TypeRank
+#    define SWIG_TypeRank             unsigned long
+#  endif
+#  ifndef SWIG_MAXCASTRANK            /* Default cast allowed */
+#    define SWIG_MAXCASTRANK          (2)
+#  endif
+#  define SWIG_CASTRANKMASK          ((SWIG_CASTRANKLIMIT) -1)
+#  define SWIG_CastRank(r)           (r & SWIG_CASTRANKMASK)
+SWIGINTERNINLINE int SWIG_AddCast(int r) { 
+  return SWIG_IsOK(r) ? ((SWIG_CastRank(r) < SWIG_MAXCASTRANK) ? (r + 1) : SWIG_ERROR) : r;
+}
+SWIGINTERNINLINE int SWIG_CheckState(int r) { 
+  return SWIG_IsOK(r) ? SWIG_CastRank(r) + 1 : 0; 
+}
+#else /* no cast-rank mode */
+#  define SWIG_AddCast
+#  define SWIG_CheckState(r) (SWIG_IsOK(r) ? 1 : 0)
+#endif
+
+
+
+
+#include <string.h>
+
+#ifdef __cplusplus
+extern "C" {
+#endif
+
+typedef void *(*swig_converter_func)(void *);
+typedef struct swig_type_info *(*swig_dycast_func)(void **);
+
+/* Structure to store inforomation on one type */
+typedef struct swig_type_info {
+  const char             *name;			/* mangled name of this type */
+  const char             *str;			/* human readable name of this type */
+  swig_dycast_func        dcast;		/* dynamic cast function down a hierarchy */
+  struct swig_cast_info  *cast;			/* linked list of types that can cast into this type */
+  void                   *clientdata;		/* language specific type data */
+  int                    owndata;		/* flag if the structure owns the clientdata */
+} swig_type_info;
+
+/* Structure to store a type and conversion function used for casting */
+typedef struct swig_cast_info {
+  swig_type_info         *type;			/* pointer to type that is equivalent to this type */
+  swig_converter_func     converter;		/* function to cast the void pointers */
+  struct swig_cast_info  *next;			/* pointer to next cast in linked list */
+  struct swig_cast_info  *prev;			/* pointer to the previous cast */
+} swig_cast_info;
+
+/* Structure used to store module information
+ * Each module generates one structure like this, and the runtime collects
+ * all of these structures and stores them in a circularly linked list.*/
+typedef struct swig_module_info {
+  swig_type_info         **types;		/* Array of pointers to swig_type_info structures that are in this module */
+  size_t                 size;		        /* Number of types in this module */
+  struct swig_module_info *next;		/* Pointer to next element in circularly linked list */
+  swig_type_info         **type_initial;	/* Array of initially generated type structures */
+  swig_cast_info         **cast_initial;	/* Array of initially generated casting structures */
+  void                    *clientdata;		/* Language specific module data */
+} swig_module_info;
+
+/* 
+  Compare two type names skipping the space characters, therefore
+  "char*" == "char *" and "Class<int>" == "Class<int >", etc.
+
+  Return 0 when the two name types are equivalent, as in
+  strncmp, but skipping ' '.
+*/
+SWIGRUNTIME int
+SWIG_TypeNameComp(const char *f1, const char *l1,
+		  const char *f2, const char *l2) {
+  for (;(f1 != l1) && (f2 != l2); ++f1, ++f2) {
+    while ((*f1 == ' ') && (f1 != l1)) ++f1;
+    while ((*f2 == ' ') && (f2 != l2)) ++f2;
+    if (*f1 != *f2) return (*f1 > *f2) ? 1 : -1;
+  }
+  return (int)((l1 - f1) - (l2 - f2));
+}
+
+/*
+  Check type equivalence in a name list like <name1>|<name2>|...
+  Return 0 if not equal, 1 if equal
+*/
+SWIGRUNTIME int
+SWIG_TypeEquiv(const char *nb, const char *tb) {
+  int equiv = 0;
+  const char* te = tb + strlen(tb);
+  const char* ne = nb;
+  while (!equiv && *ne) {
+    for (nb = ne; *ne; ++ne) {
+      if (*ne == '|') break;
+    }
+    equiv = (SWIG_TypeNameComp(nb, ne, tb, te) == 0) ? 1 : 0;
+    if (*ne) ++ne;
+  }
+  return equiv;
+}
+
+/*
+  Check type equivalence in a name list like <name1>|<name2>|...
+  Return 0 if equal, -1 if nb < tb, 1 if nb > tb
+*/
+SWIGRUNTIME int
+SWIG_TypeCompare(const char *nb, const char *tb) {
+  int equiv = 0;
+  const char* te = tb + strlen(tb);
+  const char* ne = nb;
+  while (!equiv && *ne) {
+    for (nb = ne; *ne; ++ne) {
+      if (*ne == '|') break;
+    }
+    equiv = (SWIG_TypeNameComp(nb, ne, tb, te) == 0) ? 1 : 0;
+    if (*ne) ++ne;
+  }
+  return equiv;
+}
+
+
+/* think of this as a c++ template<> or a scheme macro */
+#define SWIG_TypeCheck_Template(comparison, ty)         \
+  if (ty) {                                             \
+    swig_cast_info *iter = ty->cast;                    \
+    while (iter) {                                      \
+      if (comparison) {                                 \
+        if (iter == ty->cast) return iter;              \
+        /* Move iter to the top of the linked list */   \
+        iter->prev->next = iter->next;                  \
+        if (iter->next)                                 \
+          iter->next->prev = iter->prev;                \
+        iter->next = ty->cast;                          \
+        iter->prev = 0;                                 \
+        if (ty->cast) ty->cast->prev = iter;            \
+        ty->cast = iter;                                \
+        return iter;                                    \
+      }                                                 \
+      iter = iter->next;                                \
+    }                                                   \
+  }                                                     \
+  return 0
+
+/*
+  Check the typename
+*/
+SWIGRUNTIME swig_cast_info *
+SWIG_TypeCheck(const char *c, swig_type_info *ty) {
+  SWIG_TypeCheck_Template(strcmp(iter->type->name, c) == 0, ty);
+}
+
+/* Same as previous function, except strcmp is replaced with a pointer comparison */
+SWIGRUNTIME swig_cast_info *
+SWIG_TypeCheckStruct(swig_type_info *from, swig_type_info *into) {
+  SWIG_TypeCheck_Template(iter->type == from, into);
+}
+
+/*
+  Cast a pointer up an inheritance hierarchy
+*/
+SWIGRUNTIMEINLINE void *
+SWIG_TypeCast(swig_cast_info *ty, void *ptr) {
+  return ((!ty) || (!ty->converter)) ? ptr : (*ty->converter)(ptr);
+}
+
+/* 
+   Dynamic pointer casting. Down an inheritance hierarchy
+*/
+SWIGRUNTIME swig_type_info *
+SWIG_TypeDynamicCast(swig_type_info *ty, void **ptr) {
+  swig_type_info *lastty = ty;
+  if (!ty || !ty->dcast) return ty;
+  while (ty && (ty->dcast)) {
+    ty = (*ty->dcast)(ptr);
+    if (ty) lastty = ty;
+  }
+  return lastty;
+}
+
+/*
+  Return the name associated with this type
+*/
+SWIGRUNTIMEINLINE const char *
+SWIG_TypeName(const swig_type_info *ty) {
+  return ty->name;
+}
+
+/*
+  Return the pretty name associated with this type,
+  that is an unmangled type name in a form presentable to the user.
+*/
+SWIGRUNTIME const char *
+SWIG_TypePrettyName(const swig_type_info *type) {
+  /* The "str" field contains the equivalent pretty names of the
+     type, separated by vertical-bar characters.  We choose
+     to print the last name, as it is often (?) the most
+     specific. */
+  if (!type) return NULL;
+  if (type->str != NULL) {
+    const char *last_name = type->str;
+    const char *s;
+    for (s = type->str; *s; s++)
+      if (*s == '|') last_name = s+1;
+    return last_name;
+  }
+  else
+    return type->name;
+}
+
+/* 
+   Set the clientdata field for a type
+*/
+SWIGRUNTIME void
+SWIG_TypeClientData(swig_type_info *ti, void *clientdata) {
+  swig_cast_info *cast = ti->cast;
+  /* if (ti->clientdata == clientdata) return; */
+  ti->clientdata = clientdata;
+  
+  while (cast) {
+    if (!cast->converter) {
+      swig_type_info *tc = cast->type;
+      if (!tc->clientdata) {
+	SWIG_TypeClientData(tc, clientdata);
+      }
+    }    
+    cast = cast->next;
+  }
+}
+SWIGRUNTIME void
+SWIG_TypeNewClientData(swig_type_info *ti, void *clientdata) {
+  SWIG_TypeClientData(ti, clientdata);
+  ti->owndata = 1;
+}
+  
+/*
+  Search for a swig_type_info structure only by mangled name
+  Search is a O(log #types)
+  
+  We start searching at module start, and finish searching when start == end.  
+  Note: if start == end at the beginning of the function, we go all the way around
+  the circular list.
+*/
+SWIGRUNTIME swig_type_info *
+SWIG_MangledTypeQueryModule(swig_module_info *start, 
+                            swig_module_info *end, 
+		            const char *name) {
+  swig_module_info *iter = start;
+  do {
+    if (iter->size) {
+      register size_t l = 0;
+      register size_t r = iter->size - 1;
+      do {
+	/* since l+r >= 0, we can (>> 1) instead (/ 2) */
+	register size_t i = (l + r) >> 1; 
+	const char *iname = iter->types[i]->name;
+	if (iname) {
+	  register int compare = strcmp(name, iname);
+	  if (compare == 0) {	    
+	    return iter->types[i];
+	  } else if (compare < 0) {
+	    if (i) {
+	      r = i - 1;
+	    } else {
+	      break;
+	    }
+	  } else if (compare > 0) {
+	    l = i + 1;
+	  }
+	} else {
+	  break; /* should never happen */
+	}
+      } while (l <= r);
+    }
+    iter = iter->next;
+  } while (iter != end);
+  return 0;
+}
+
+/*
+  Search for a swig_type_info structure for either a mangled name or a human readable name.
+  It first searches the mangled names of the types, which is a O(log #types)
+  If a type is not found it then searches the human readable names, which is O(#types).
+  
+  We start searching at module start, and finish searching when start == end.  
+  Note: if start == end at the beginning of the function, we go all the way around
+  the circular list.
+*/
+SWIGRUNTIME swig_type_info *
+SWIG_TypeQueryModule(swig_module_info *start, 
+                     swig_module_info *end, 
+		     const char *name) {
+  /* STEP 1: Search the name field using binary search */
+  swig_type_info *ret = SWIG_MangledTypeQueryModule(start, end, name);
+  if (ret) {
+    return ret;
+  } else {
+    /* STEP 2: If the type hasn't been found, do a complete search
+       of the str field (the human readable name) */
+    swig_module_info *iter = start;
+    do {
+      register size_t i = 0;
+      for (; i < iter->size; ++i) {
+	if (iter->types[i]->str && (SWIG_TypeEquiv(iter->types[i]->str, name)))
+	  return iter->types[i];
+      }
+      iter = iter->next;
+    } while (iter != end);
+  }
+  
+  /* neither found a match */
+  return 0;
+}
+
+/* 
+   Pack binary data into a string
+*/
+SWIGRUNTIME char *
+SWIG_PackData(char *c, void *ptr, size_t sz) {
+  static const char hex[17] = "0123456789abcdef";
+  register const unsigned char *u = (unsigned char *) ptr;
+  register const unsigned char *eu =  u + sz;
+  for (; u != eu; ++u) {
+    register unsigned char uu = *u;
+    *(c++) = hex[(uu & 0xf0) >> 4];
+    *(c++) = hex[uu & 0xf];
+  }
+  return c;
+}
+
+/* 
+   Unpack binary data from a string
+*/
+SWIGRUNTIME const char *
+SWIG_UnpackData(const char *c, void *ptr, size_t sz) {
+  register unsigned char *u = (unsigned char *) ptr;
+  register const unsigned char *eu = u + sz;
+  for (; u != eu; ++u) {
+    register char d = *(c++);
+    register unsigned char uu;
+    if ((d >= '0') && (d <= '9'))
+      uu = ((d - '0') << 4);
+    else if ((d >= 'a') && (d <= 'f'))
+      uu = ((d - ('a'-10)) << 4);
+    else 
+      return (char *) 0;
+    d = *(c++);
+    if ((d >= '0') && (d <= '9'))
+      uu |= (d - '0');
+    else if ((d >= 'a') && (d <= 'f'))
+      uu |= (d - ('a'-10));
+    else 
+      return (char *) 0;
+    *u = uu;
+  }
+  return c;
+}
+
+/* 
+   Pack 'void *' into a string buffer.
+*/
+SWIGRUNTIME char *
+SWIG_PackVoidPtr(char *buff, void *ptr, const char *name, size_t bsz) {
+  char *r = buff;
+  if ((2*sizeof(void *) + 2) > bsz) return 0;
+  *(r++) = '_';
+  r = SWIG_PackData(r,&ptr,sizeof(void *));
+  if (strlen(name) + 1 > (bsz - (r - buff))) return 0;
+  strcpy(r,name);
+  return buff;
+}
+
+SWIGRUNTIME const char *
+SWIG_UnpackVoidPtr(const char *c, void **ptr, const char *name) {
+  if (*c != '_') {
+    if (strcmp(c,"NULL") == 0) {
+      *ptr = (void *) 0;
+      return name;
+    } else {
+      return 0;
+    }
+  }
+  return SWIG_UnpackData(++c,ptr,sizeof(void *));
+}
+
+SWIGRUNTIME char *
+SWIG_PackDataName(char *buff, void *ptr, size_t sz, const char *name, size_t bsz) {
+  char *r = buff;
+  size_t lname = (name ? strlen(name) : 0);
+  if ((2*sz + 2 + lname) > bsz) return 0;
+  *(r++) = '_';
+  r = SWIG_PackData(r,ptr,sz);
+  if (lname) {
+    strncpy(r,name,lname+1);
+  } else {
+    *r = 0;
+  }
+  return buff;
+}
+
+SWIGRUNTIME const char *
+SWIG_UnpackDataName(const char *c, void *ptr, size_t sz, const char *name) {
+  if (*c != '_') {
+    if (strcmp(c,"NULL") == 0) {
+      memset(ptr,0,sz);
+      return name;
+    } else {
+      return 0;
+    }
+  }
+  return SWIG_UnpackData(++c,ptr,sz);
+}
+
+#ifdef __cplusplus
+}
+#endif
+
+/*  Errors in SWIG */
+#define  SWIG_UnknownError    	   -1 
+#define  SWIG_IOError        	   -2 
+#define  SWIG_RuntimeError   	   -3 
+#define  SWIG_IndexError     	   -4 
+#define  SWIG_TypeError      	   -5 
+#define  SWIG_DivisionByZero 	   -6 
+#define  SWIG_OverflowError  	   -7 
+#define  SWIG_SyntaxError    	   -8 
+#define  SWIG_ValueError     	   -9 
+#define  SWIG_SystemError    	   -10
+#define  SWIG_AttributeError 	   -11
+#define  SWIG_MemoryError    	   -12 
+#define  SWIG_NullReferenceError   -13
+
+
+
+#include <ruby.h>
+
+/* Remove global macros defined in Ruby's win32.h */
+#ifdef write
+# undef write
+#endif
+#ifdef read
+# undef read
+#endif
+
+
+/* Ruby 1.7 defines NUM2LL(), LL2NUM() and ULL2NUM() macros */
+#ifndef NUM2LL
+#define NUM2LL(x) NUM2LONG((x))
+#endif
+#ifndef LL2NUM
+#define LL2NUM(x) INT2NUM((long) (x))
+#endif
+#ifndef ULL2NUM
+#define ULL2NUM(x) UINT2NUM((unsigned long) (x))
+#endif
+
+/* Ruby 1.7 doesn't (yet) define NUM2ULL() */
+#ifndef NUM2ULL
+#ifdef HAVE_LONG_LONG
+#define NUM2ULL(x) rb_num2ull((x))
+#else
+#define NUM2ULL(x) NUM2ULONG(x)
+#endif
+#endif
+
+/* RSTRING_LEN, etc are new in Ruby 1.9, but ->ptr and ->len no longer work */
+/* Define these for older versions so we can just write code the new way */
+#ifndef RSTRING_LEN
+# define RSTRING_LEN(x) RSTRING(x)->len
+#endif
+#ifndef RSTRING_PTR
+# define RSTRING_PTR(x) RSTRING(x)->ptr
+#endif
+#ifndef RARRAY_LEN
+# define RARRAY_LEN(x) RARRAY(x)->len
+#endif
+#ifndef RARRAY_PTR
+# define RARRAY_PTR(x) RARRAY(x)->ptr
+#endif
+
+/*
+ * Need to be very careful about how these macros are defined, especially
+ * when compiling C++ code or C code with an ANSI C compiler.
+ *
+ * VALUEFUNC(f) is a macro used to typecast a C function that implements
+ * a Ruby method so that it can be passed as an argument to API functions
+ * like rb_define_method() and rb_define_singleton_method().
+ *
+ * VOIDFUNC(f) is a macro used to typecast a C function that implements
+ * either the "mark" or "free" stuff for a Ruby Data object, so that it
+ * can be passed as an argument to API functions like Data_Wrap_Struct()
+ * and Data_Make_Struct().
+ */
+ 
+#ifdef __cplusplus
+#  ifndef RUBY_METHOD_FUNC /* These definitions should work for Ruby 1.4.6 */
+#    define PROTECTFUNC(f) ((VALUE (*)()) f)
+#    define VALUEFUNC(f) ((VALUE (*)()) f)
+#    define VOIDFUNC(f)  ((void (*)()) f)
+#  else
+#    ifndef ANYARGS /* These definitions should work for Ruby 1.6 */
+#      define PROTECTFUNC(f) ((VALUE (*)()) f)
+#      define VALUEFUNC(f) ((VALUE (*)()) f)
+#      define VOIDFUNC(f)  ((RUBY_DATA_FUNC) f)
+#    else /* These definitions should work for Ruby 1.7+ */
+#      define PROTECTFUNC(f) ((VALUE (*)(VALUE)) f)
+#      define VALUEFUNC(f) ((VALUE (*)(ANYARGS)) f)
+#      define VOIDFUNC(f)  ((RUBY_DATA_FUNC) f)
+#    endif
+#  endif
+#else
+#  define VALUEFUNC(f) (f)
+#  define VOIDFUNC(f) (f)
+#endif
+
+/* Don't use for expressions have side effect */
+#ifndef RB_STRING_VALUE
+#define RB_STRING_VALUE(s) (TYPE(s) == T_STRING ? (s) : (*(volatile VALUE *)&(s) = rb_str_to_str(s)))
+#endif
+#ifndef StringValue
+#define StringValue(s) RB_STRING_VALUE(s)
+#endif
+#ifndef StringValuePtr
+#define StringValuePtr(s) RSTRING_PTR(RB_STRING_VALUE(s))
+#endif
+#ifndef StringValueLen
+#define StringValueLen(s) RSTRING_LEN(RB_STRING_VALUE(s))
+#endif
+#ifndef SafeStringValue
+#define SafeStringValue(v) do {\
+    StringValue(v);\
+    rb_check_safe_str(v);\
+} while (0)
+#endif
+
+#ifndef HAVE_RB_DEFINE_ALLOC_FUNC
+#define rb_define_alloc_func(klass, func) rb_define_singleton_method((klass), "new", VALUEFUNC((func)), -1)
+#define rb_undef_alloc_func(klass) rb_undef_method(CLASS_OF((klass)), "new")
+#endif
+
+static VALUE _mSWIG = Qnil;
+
+/* -----------------------------------------------------------------------------
+ * error manipulation
+ * ----------------------------------------------------------------------------- */
+
+
+/* Define some additional error types */
+#define SWIG_ObjectPreviouslyDeletedError  -100
+
+
+/* Define custom exceptions for errors that do not map to existing Ruby
+   exceptions.  Note this only works for C++ since a global cannot be
+   initialized by a funtion in C.  For C, fallback to rb_eRuntimeError.*/
+
+SWIGINTERN VALUE 
+getNullReferenceError(void) {
+  static int init = 0;
+  static VALUE rb_eNullReferenceError ;
+  if (!init) {
+    init = 1;
+    rb_eNullReferenceError = rb_define_class("NullReferenceError", rb_eRuntimeError);
+  }
+  return rb_eNullReferenceError;
+} 
+
+SWIGINTERN VALUE 
+getObjectPreviouslyDeletedError(void) {
+  static int init = 0;
+  static VALUE rb_eObjectPreviouslyDeleted ;
+  if (!init) {
+    init = 1;
+    rb_eObjectPreviouslyDeleted = rb_define_class("ObjectPreviouslyDeleted", rb_eRuntimeError);
+  }
+  return rb_eObjectPreviouslyDeleted;
+} 
+
+
+SWIGINTERN VALUE
+SWIG_Ruby_ErrorType(int SWIG_code) {
+  VALUE type;
+  switch (SWIG_code) {
+  case SWIG_MemoryError:
+    type = rb_eNoMemError;
+    break;
+  case SWIG_IOError:
+    type = rb_eIOError;
+    break;
+  case SWIG_RuntimeError:
+    type = rb_eRuntimeError;
+    break;
+  case SWIG_IndexError:
+    type = rb_eIndexError;
+    break;
+  case SWIG_TypeError:
+    type = rb_eTypeError;
+    break;
+  case SWIG_DivisionByZero:
+    type = rb_eZeroDivError;
+    break;
+  case SWIG_OverflowError:
+    type = rb_eRangeError;
+    break;
+  case SWIG_SyntaxError:
+    type = rb_eSyntaxError;
+    break;
+  case SWIG_ValueError:
+    type = rb_eArgError;
+    break;
+  case SWIG_SystemError:
+    type = rb_eFatal;
+    break;
+  case SWIG_AttributeError:
+    type = rb_eRuntimeError;
+    break;
+  case SWIG_NullReferenceError:
+    type = getNullReferenceError();
+    break;
+  case SWIG_ObjectPreviouslyDeletedError:
+    type = getObjectPreviouslyDeletedError();
+    break;
+  case SWIG_UnknownError:
+    type = rb_eRuntimeError;
+    break;
+  default:
+    type = rb_eRuntimeError;
+  }
+  return type;
+}
+
+
+/* This function is called when a user inputs a wrong argument to
+   a method.
+ */
+SWIGINTERN 
+const char* Ruby_Format_TypeError( const char* msg,
+				   const char* type, 
+				   const char* name, 
+				   const int argn,
+				   VALUE input )
+{
+  char buf[128];
+  VALUE str;
+  VALUE asStr;
+  if ( msg && *msg )
+    {
+      str = rb_str_new2(msg);
+    }
+  else
+    {
+      str = rb_str_new(NULL, 0);
+    }
+
+  str = rb_str_cat2( str, "Expected argument " );
+  sprintf( buf, "%d of type ", argn-1 );
+  str = rb_str_cat2( str, buf );
+  str = rb_str_cat2( str, type );
+  str = rb_str_cat2( str, ", but got " );
+  str = rb_str_cat2( str, rb_obj_classname(input) );
+  str = rb_str_cat2( str, " " );
+  asStr = rb_inspect(input);
+  if ( RSTRING_LEN(asStr) > 30 )
+    {
+      str = rb_str_cat( str, StringValuePtr(asStr), 30 );
+      str = rb_str_cat2( str, "..." );
+    }
+  else
+    {
+      str = rb_str_append( str, asStr );
+    }
+
+  if ( name )
+    {
+      str = rb_str_cat2( str, "\n\tin SWIG method '" );
+      str = rb_str_cat2( str, name );
+      str = rb_str_cat2( str, "'" );
+    }
+
+  return StringValuePtr( str );
+}
+
+/* This function is called when an overloaded method fails */
+SWIGINTERN 
+void Ruby_Format_OverloadedError(
+				 const int argc,
+				 const int maxargs,
+				 const char* method, 
+				 const char* prototypes 
+				 )
+{
+  const char* msg = "Wrong # of arguments";
+  if ( argc <= maxargs ) msg = "Wrong arguments";
+  rb_raise(rb_eArgError,"%s for overloaded method '%s'.\n"  
+	   "Possible C/C++ prototypes are:\n%s",
+	   msg, method, prototypes);
+}
+
+/* -----------------------------------------------------------------------------
+ * See the LICENSE file for information on copyright, usage and redistribution
+ * of SWIG, and the README file for authors - http://www.swig.org/release.html.
+ *
+ * rubytracking.swg
+ *
+ * This file contains support for tracking mappings from 
+ * Ruby objects to C++ objects.  This functionality is needed
+ * to implement mark functions for Ruby's mark and sweep
+ * garbage collector.
+ * ----------------------------------------------------------------------------- */
+
+#ifdef __cplusplus
+extern "C" {
+#endif
+
+/* Ruby 1.8 actually assumes the first case. */
+#if SIZEOF_VOIDP == SIZEOF_LONG
+#  define SWIG2NUM(v) LONG2NUM((unsigned long)v)
+#  define NUM2SWIG(x) (unsigned long)NUM2LONG(x)
+#elif SIZEOF_VOIDP == SIZEOF_LONG_LONG
+#  define SWIG2NUM(v) LL2NUM((unsigned long long)v)
+#  define NUM2SWIG(x) (unsigned long long)NUM2LL(x)
+#else
+#  error sizeof(void*) is not the same as long or long long
+#endif
+
+
+/* Global Ruby hash table to store Trackings from C/C++
+   structs to Ruby Objects. 
+*/
+static VALUE swig_ruby_trackings = Qnil;
+
+/* Global variable that stores a reference to the ruby
+   hash table delete function. */
+static ID swig_ruby_hash_delete;
+
+/* Setup a Ruby hash table to store Trackings */
+SWIGRUNTIME void SWIG_RubyInitializeTrackings(void) {
+  /* Create a ruby hash table to store Trackings from C++ 
+     objects to Ruby objects. */
+
+  /* Try to see if some other .so has already created a 
+     tracking hash table, which we keep hidden in an instance var
+     in the SWIG module.
+     This is done to allow multiple DSOs to share the same
+     tracking table.
+  */
+  ID trackings_id = rb_intern( "@__trackings__" );
+  VALUE verbose = rb_gv_get("VERBOSE");
+  rb_gv_set("VERBOSE", Qfalse);
+  swig_ruby_trackings = rb_ivar_get( _mSWIG, trackings_id );
+  rb_gv_set("VERBOSE", verbose);
+
+  /* No, it hasn't.  Create one ourselves */ 
+  if ( swig_ruby_trackings == Qnil )
+    {
+      swig_ruby_trackings = rb_hash_new();
+      rb_ivar_set( _mSWIG, trackings_id, swig_ruby_trackings );
+    }
+
+  /* Now store a reference to the hash table delete function
+     so that we only have to look it up once.*/
+  swig_ruby_hash_delete = rb_intern("delete");
+}
+
+/* Get a Ruby number to reference a pointer */
+SWIGRUNTIME VALUE SWIG_RubyPtrToReference(void* ptr) {
+  /* We cast the pointer to an unsigned long
+     and then store a reference to it using
+     a Ruby number object. */
+
+  /* Convert the pointer to a Ruby number */
+  return SWIG2NUM(ptr);
+}
+
+/* Get a Ruby number to reference an object */
+SWIGRUNTIME VALUE SWIG_RubyObjectToReference(VALUE object) {
+  /* We cast the object to an unsigned long
+     and then store a reference to it using
+     a Ruby number object. */
+
+  /* Convert the Object to a Ruby number */
+  return SWIG2NUM(object);
+}
+
+/* Get a Ruby object from a previously stored reference */
+SWIGRUNTIME VALUE SWIG_RubyReferenceToObject(VALUE reference) {
+  /* The provided Ruby number object is a reference
+     to the Ruby object we want.*/
+
+  /* Convert the Ruby number to a Ruby object */
+  return NUM2SWIG(reference);
+}
+
+/* Add a Tracking from a C/C++ struct to a Ruby object */
+SWIGRUNTIME void SWIG_RubyAddTracking(void* ptr, VALUE object) {
+  /* In a Ruby hash table we store the pointer and
+     the associated Ruby object.  The trick here is
+     that we cannot store the Ruby object directly - if
+     we do then it cannot be garbage collected.  So
+     instead we typecast it as a unsigned long and
+     convert it to a Ruby number object.*/
+
+  /* Get a reference to the pointer as a Ruby number */
+  VALUE key = SWIG_RubyPtrToReference(ptr);
+
+  /* Get a reference to the Ruby object as a Ruby number */
+  VALUE value = SWIG_RubyObjectToReference(object);
+
+  /* Store the mapping to the global hash table. */
+  rb_hash_aset(swig_ruby_trackings, key, value);
+}
+
+/* Get the Ruby object that owns the specified C/C++ struct */
+SWIGRUNTIME VALUE SWIG_RubyInstanceFor(void* ptr) {
+  /* Get a reference to the pointer as a Ruby number */
+  VALUE key = SWIG_RubyPtrToReference(ptr);
+
+  /* Now lookup the value stored in the global hash table */
+  VALUE value = rb_hash_aref(swig_ruby_trackings, key);
+	
+  if (value == Qnil) {
+    /* No object exists - return nil. */
+    return Qnil;
+  }
+  else {
+    /* Convert this value to Ruby object */
+    return SWIG_RubyReferenceToObject(value);
+  }
+}
+
+/* Remove a Tracking from a C/C++ struct to a Ruby object.  It
+   is very important to remove objects once they are destroyed
+   since the same memory address may be reused later to create
+   a new object. */
+SWIGRUNTIME void SWIG_RubyRemoveTracking(void* ptr) {
+  /* Get a reference to the pointer as a Ruby number */
+  VALUE key = SWIG_RubyPtrToReference(ptr);
+
+  /* Delete the object from the hash table by calling Ruby's
+     do this we need to call the Hash.delete method.*/
+  rb_funcall(swig_ruby_trackings, swig_ruby_hash_delete, 1, key);
+}
+
+/* This is a helper method that unlinks a Ruby object from its
+   underlying C++ object.  This is needed if the lifetime of the
+   Ruby object is longer than the C++ object */
+SWIGRUNTIME void SWIG_RubyUnlinkObjects(void* ptr) {
+  VALUE object = SWIG_RubyInstanceFor(ptr);
+
+  if (object != Qnil) {
+    DATA_PTR(object) = 0;
+  }
+}
+
+
+#ifdef __cplusplus
+}
+#endif
+
+/* -----------------------------------------------------------------------------
+ * Ruby API portion that goes into the runtime
+ * ----------------------------------------------------------------------------- */
+
+#ifdef __cplusplus
+extern "C" {
+#endif
+
+SWIGINTERN VALUE
+SWIG_Ruby_AppendOutput(VALUE target, VALUE o) {
+  if (NIL_P(target)) {
+    target = o;
+  } else {
+    if (TYPE(target) != T_ARRAY) {
+      VALUE o2 = target;
+      target = rb_ary_new();
+      rb_ary_push(target, o2);
+    }
+    rb_ary_push(target, o);
+  }
+  return target;
+}
+
+/* For ruby1.8.4 and earlier. */
+#ifndef RUBY_INIT_STACK
+   RUBY_EXTERN void Init_stack(VALUE* addr);
+#  define RUBY_INIT_STACK \
+   VALUE variable_in_this_stack_frame; \
+   Init_stack(&variable_in_this_stack_frame);
+#endif
+
+
+#ifdef __cplusplus
+}
+#endif
+
+
+/* -----------------------------------------------------------------------------
+ * See the LICENSE file for information on copyright, usage and redistribution
+ * of SWIG, and the README file for authors - http://www.swig.org/release.html.
+ *
+ * rubyrun.swg
+ *
+ * This file contains the runtime support for Ruby modules
+ * and includes code for managing global variables and pointer
+ * type checking.
+ * ----------------------------------------------------------------------------- */
+
+/* For backward compatibility only */
+#define SWIG_POINTER_EXCEPTION  0
+
+/* for raw pointers */
+#define SWIG_ConvertPtr(obj, pptr, type, flags)         SWIG_Ruby_ConvertPtrAndOwn(obj, pptr, type, flags, 0)
+#define SWIG_ConvertPtrAndOwn(obj,pptr,type,flags,own)  SWIG_Ruby_ConvertPtrAndOwn(obj, pptr, type, flags, own)
+#define SWIG_NewPointerObj(ptr, type, flags)            SWIG_Ruby_NewPointerObj(ptr, type, flags)
+#define SWIG_AcquirePtr(ptr, own)                       SWIG_Ruby_AcquirePtr(ptr, own)
+#define swig_owntype                                    ruby_owntype
+
+/* for raw packed data */
+#define SWIG_ConvertPacked(obj, ptr, sz, ty)            SWIG_Ruby_ConvertPacked(obj, ptr, sz, ty, flags)
+#define SWIG_NewPackedObj(ptr, sz, type)                SWIG_Ruby_NewPackedObj(ptr, sz, type)
+
+/* for class or struct pointers */
+#define SWIG_ConvertInstance(obj, pptr, type, flags)    SWIG_ConvertPtr(obj, pptr, type, flags)
+#define SWIG_NewInstanceObj(ptr, type, flags)           SWIG_NewPointerObj(ptr, type, flags)
+
+/* for C or C++ function pointers */
+#define SWIG_ConvertFunctionPtr(obj, pptr, type)        SWIG_ConvertPtr(obj, pptr, type, 0)
+#define SWIG_NewFunctionPtrObj(ptr, type)               SWIG_NewPointerObj(ptr, type, 0)
+
+/* for C++ member pointers, ie, member methods */
+#define SWIG_ConvertMember(obj, ptr, sz, ty)            SWIG_Ruby_ConvertPacked(obj, ptr, sz, ty)
+#define SWIG_NewMemberObj(ptr, sz, type)                SWIG_Ruby_NewPackedObj(ptr, sz, type)
+
+
+/* Runtime API */
+
+#define SWIG_GetModule(clientdata)                      SWIG_Ruby_GetModule()	
+#define SWIG_SetModule(clientdata, pointer) 		SWIG_Ruby_SetModule(pointer)
+
+
+/* Error manipulation */
+
+#define SWIG_ErrorType(code)                            SWIG_Ruby_ErrorType(code)               
+#define SWIG_Error(code, msg)            		rb_raise(SWIG_Ruby_ErrorType(code), msg)
+#define SWIG_fail                        		goto fail				 
+
+
+/* Ruby-specific SWIG API */
+
+#define SWIG_InitRuntime()                              SWIG_Ruby_InitRuntime()              
+#define SWIG_define_class(ty)                        	SWIG_Ruby_define_class(ty)
+#define SWIG_NewClassInstance(value, ty)             	SWIG_Ruby_NewClassInstance(value, ty)
+#define SWIG_MangleStr(value)                        	SWIG_Ruby_MangleStr(value)		  
+#define SWIG_CheckConvert(value, ty)                 	SWIG_Ruby_CheckConvert(value, ty)	  
+
+
+/* -----------------------------------------------------------------------------
+ * pointers/data manipulation
+ * ----------------------------------------------------------------------------- */
+
+#ifdef __cplusplus
+extern "C" {
+#endif
+
+typedef struct {
+  VALUE klass;
+  VALUE mImpl;
+  void  (*mark)(void *);
+  void  (*destroy)(void *);
+  int trackObjects;
+} swig_class;
+
+
+/* Global pointer used to keep some internal SWIG stuff */
+static VALUE _cSWIG_Pointer = Qnil;
+static VALUE swig_runtime_data_type_pointer = Qnil;
+
+/* Global IDs used to keep some internal SWIG stuff */
+static ID swig_arity_id = 0;
+static ID swig_call_id  = 0;
+
+/*
+  If your swig extension is to be run within an embedded ruby and has
+  director callbacks, you should set -DRUBY_EMBEDDED during compilation.  
+  This will reset ruby's stack frame on each entry point from the main 
+  program the first time a virtual director function is invoked (in a 
+  non-recursive way).
+  If this is not done, you run the risk of Ruby trashing the stack.
+*/
+
+#ifdef RUBY_EMBEDDED
+
+#  define SWIG_INIT_STACK                            \
+      if ( !swig_virtual_calls ) { RUBY_INIT_STACK } \
+      ++swig_virtual_calls;
+#  define SWIG_RELEASE_STACK --swig_virtual_calls;
+#  define Ruby_DirectorTypeMismatchException(x) \
+          rb_raise( rb_eTypeError, x ); return c_result;
+
+      static unsigned int swig_virtual_calls = 0;
+
+#else  /* normal non-embedded extension */
+
+#  define SWIG_INIT_STACK
+#  define SWIG_RELEASE_STACK
+#  define Ruby_DirectorTypeMismatchException(x) \
+          throw Swig::DirectorTypeMismatchException( x );
+
+#endif  /* RUBY_EMBEDDED */
+
+
+SWIGRUNTIME VALUE 
+getExceptionClass(void) {
+  static int init = 0;
+  static VALUE rubyExceptionClass ;
+  if (!init) {
+    init = 1;
+    rubyExceptionClass = rb_const_get(_mSWIG, rb_intern("Exception"));
+  }
+  return rubyExceptionClass;
+} 
+
+/* This code checks to see if the Ruby object being raised as part
+   of an exception inherits from the Ruby class Exception.  If so,
+   the object is simply returned.  If not, then a new Ruby exception
+   object is created and that will be returned to Ruby.*/
+SWIGRUNTIME VALUE
+SWIG_Ruby_ExceptionType(swig_type_info *desc, VALUE obj) {
+  VALUE exceptionClass = getExceptionClass();
+  if (rb_obj_is_kind_of(obj, exceptionClass)) {
+    return obj;
+  }  else {
+    return rb_exc_new3(rb_eRuntimeError, rb_obj_as_string(obj));
+  }
+}
+
+/* Initialize Ruby runtime support */
+SWIGRUNTIME void
+SWIG_Ruby_InitRuntime(void)
+{
+  if (_mSWIG == Qnil) {
+    _mSWIG = rb_define_module("SWIG");
+    swig_call_id  = rb_intern("call");
+    swig_arity_id = rb_intern("arity");
+  }
+}
+
+/* Define Ruby class for C type */
+SWIGRUNTIME void
+SWIG_Ruby_define_class(swig_type_info *type)
+{
+  VALUE klass;
+  char *klass_name = (char *) malloc(4 + strlen(type->name) + 1);
+  sprintf(klass_name, "TYPE%s", type->name);
+  if (NIL_P(_cSWIG_Pointer)) {
+    _cSWIG_Pointer = rb_define_class_under(_mSWIG, "Pointer", rb_cObject);
+    rb_undef_method(CLASS_OF(_cSWIG_Pointer), "new");
+  }
+  klass = rb_define_class_under(_mSWIG, klass_name, _cSWIG_Pointer);
+  free((void *) klass_name);
+}
+
+/* Create a new pointer object */
+SWIGRUNTIME VALUE
+SWIG_Ruby_NewPointerObj(void *ptr, swig_type_info *type, int flags)
+{
+  int own =  flags & SWIG_POINTER_OWN; 
+  int track;
+  char *klass_name;
+  swig_class *sklass;
+  VALUE klass;
+  VALUE obj;
+  
+  if (!ptr)
+    return Qnil;
+  
+  if (type->clientdata) {
+    sklass = (swig_class *) type->clientdata;
+		
+    /* Are we tracking this class and have we already returned this Ruby object? */
+    track = sklass->trackObjects;
+    if (track) {
+      obj = SWIG_RubyInstanceFor(ptr);
+      
+      /* Check the object's type and make sure it has the correct type.
+        It might not in cases where methods do things like 
+        downcast methods. */
+      if (obj != Qnil) {
+        VALUE value = rb_iv_get(obj, "@__swigtype__");
+        char* type_name = RSTRING_PTR(value);
+				
+        if (strcmp(type->name, type_name) == 0) {
+          return obj;
+        }
+      }
+    }
+
+    /* Create a new Ruby object */
+    obj = Data_Wrap_Struct(sklass->klass, VOIDFUNC(sklass->mark), 
+			   ( own ? VOIDFUNC(sklass->destroy) : 
+			     (track ? VOIDFUNC(SWIG_RubyRemoveTracking) : 0 )
+			     ), ptr);
+
+    /* If tracking is on for this class then track this object. */
+    if (track) {
+      SWIG_RubyAddTracking(ptr, obj);
+    }
+  } else {
+    klass_name = (char *) malloc(4 + strlen(type->name) + 1);
+    sprintf(klass_name, "TYPE%s", type->name);
+    klass = rb_const_get(_mSWIG, rb_intern(klass_name));
+    free((void *) klass_name);
+    obj = Data_Wrap_Struct(klass, 0, 0, ptr);
+  }
+  rb_iv_set(obj, "@__swigtype__", rb_str_new2(type->name));
+  
+  return obj;
+}
+
+/* Create a new class instance (always owned) */
+SWIGRUNTIME VALUE
+SWIG_Ruby_NewClassInstance(VALUE klass, swig_type_info *type)
+{
+  VALUE obj;
+  swig_class *sklass = (swig_class *) type->clientdata;
+  obj = Data_Wrap_Struct(klass, VOIDFUNC(sklass->mark), VOIDFUNC(sklass->destroy), 0);
+  rb_iv_set(obj, "@__swigtype__", rb_str_new2(type->name));
+  return obj;
+}
+
+/* Get type mangle from class name */
+SWIGRUNTIMEINLINE char *
+SWIG_Ruby_MangleStr(VALUE obj)
+{
+  VALUE stype = rb_iv_get(obj, "@__swigtype__");
+  return StringValuePtr(stype);
+}
+
+/* Acquire a pointer value */
+typedef void (*ruby_owntype)(void*);
+
+SWIGRUNTIME ruby_owntype
+SWIG_Ruby_AcquirePtr(VALUE obj, ruby_owntype own) {
+  if (obj) {
+    ruby_owntype oldown = RDATA(obj)->dfree;
+    RDATA(obj)->dfree = own;
+    return oldown;
+  } else {
+    return 0;
+  }
+}
+
+/* Convert a pointer value */
+SWIGRUNTIME int
+SWIG_Ruby_ConvertPtrAndOwn(VALUE obj, void **ptr, swig_type_info *ty, int flags, ruby_owntype *own)
+{
+  char *c;
+  swig_cast_info *tc;
+  void *vptr = 0;
+
+  /* Grab the pointer */
+  if (NIL_P(obj)) {
+    *ptr = 0;
+    return SWIG_OK;
+  } else {
+    if (TYPE(obj) != T_DATA) {
+      return SWIG_ERROR;
+    }
+    Data_Get_Struct(obj, void, vptr);
+  }
+  
+  if (own) *own = RDATA(obj)->dfree;
+    
+  /* Check to see if the input object is giving up ownership
+     of the underlying C struct or C++ object.  If so then we
+     need to reset the destructor since the Ruby object no 
+     longer owns the underlying C++ object.*/ 
+  if (flags & SWIG_POINTER_DISOWN) {
+    /* Is tracking on for this class? */
+    int track = 0;
+    if (ty && ty->clientdata) {
+      swig_class *sklass = (swig_class *) ty->clientdata;
+      track = sklass->trackObjects;
+    }
+		
+    if (track) {
+      /* We are tracking objects for this class.  Thus we change the destructor
+       * to SWIG_RubyRemoveTracking.  This allows us to
+       * remove the mapping from the C++ to Ruby object
+       * when the Ruby object is garbage collected.  If we don't
+       * do this, then it is possible we will return a reference 
+       * to a Ruby object that no longer exists thereby crashing Ruby. */
+      RDATA(obj)->dfree = SWIG_RubyRemoveTracking;
+    } else {    
+      RDATA(obj)->dfree = 0;
+    }
+  }
+
+  /* Do type-checking if type info was provided */
+  if (ty) {
+    if (ty->clientdata) {
+      if (rb_obj_is_kind_of(obj, ((swig_class *) (ty->clientdata))->klass)) {
+        if (vptr == 0) {
+          /* The object has already been deleted */
+          return SWIG_ObjectPreviouslyDeletedError;
+        }
+        *ptr = vptr;
+        return SWIG_OK;
+      }
+    }
+    if ((c = SWIG_MangleStr(obj)) == NULL) {
+      return SWIG_ERROR;
+    }
+    tc = SWIG_TypeCheck(c, ty);
+    if (!tc) {
+      return SWIG_ERROR;
+    }
+    *ptr = SWIG_TypeCast(tc, vptr);
+  } else {
+    *ptr = vptr;
+  }
+  
+  return SWIG_OK;
+}
+
+/* Check convert */
+SWIGRUNTIMEINLINE int
+SWIG_Ruby_CheckConvert(VALUE obj, swig_type_info *ty)
+{
+  char *c = SWIG_MangleStr(obj);
+  if (!c) return 0;
+  return SWIG_TypeCheck(c,ty) != 0;
+}
+
+SWIGRUNTIME VALUE
+SWIG_Ruby_NewPackedObj(void *ptr, int sz, swig_type_info *type) {
+  char result[1024];
+  char *r = result;
+  if ((2*sz + 1 + strlen(type->name)) > 1000) return 0;
+  *(r++) = '_';
+  r = SWIG_PackData(r, ptr, sz);
+  strcpy(r, type->name);
+  return rb_str_new2(result);
+}
+
+/* Convert a packed value value */
+SWIGRUNTIME int
+SWIG_Ruby_ConvertPacked(VALUE obj, void *ptr, int sz, swig_type_info *ty) {
+  swig_cast_info *tc;
+  const char  *c;
+
+  if (TYPE(obj) != T_STRING) goto type_error;
+  c = StringValuePtr(obj);
+  /* Pointer values must start with leading underscore */
+  if (*c != '_') goto type_error;
+  c++;
+  c = SWIG_UnpackData(c, ptr, sz);
+  if (ty) {
+    tc = SWIG_TypeCheck(c, ty);
+    if (!tc) goto type_error;
+  }
+  return SWIG_OK;
+
+ type_error:
+  return SWIG_ERROR;
+}
+
+SWIGRUNTIME swig_module_info *
+SWIG_Ruby_GetModule(void)
+{
+  VALUE pointer;
+  swig_module_info *ret = 0;
+  VALUE verbose = rb_gv_get("VERBOSE");
+
+ /* temporarily disable warnings, since the pointer check causes warnings with 'ruby -w' */
+  rb_gv_set("VERBOSE", Qfalse);
+  
+  /* first check if pointer already created */
+  pointer = rb_gv_get("$swig_runtime_data_type_pointer" SWIG_RUNTIME_VERSION SWIG_TYPE_TABLE_NAME);
+  if (pointer != Qnil) {
+    Data_Get_Struct(pointer, swig_module_info, ret);
+  }
+
+  /* reinstate warnings */
+  rb_gv_set("VERBOSE", verbose);
+  return ret;
+}
+
+SWIGRUNTIME void 
+SWIG_Ruby_SetModule(swig_module_info *pointer)
+{
+  /* register a new class */
+  VALUE cl = rb_define_class("swig_runtime_data", rb_cObject);
+  /* create and store the structure pointer to a global variable */
+  swig_runtime_data_type_pointer = Data_Wrap_Struct(cl, 0, 0, pointer);
+  rb_define_readonly_variable("$swig_runtime_data_type_pointer" SWIG_RUNTIME_VERSION SWIG_TYPE_TABLE_NAME, &swig_runtime_data_type_pointer);
+}
+
+/* This function can be used to check whether a proc or method or similarly
+   callable function has been passed.  Usually used in a %typecheck, like:
+
+   %typecheck(c_callback_t, precedence=SWIG_TYPECHECK_POINTER) {
+        $result = SWIG_Ruby_isCallable( $input );
+   }
+ */
+SWIGINTERN
+int SWIG_Ruby_isCallable( VALUE proc )
+{
+  if ( rb_respond_to( proc, swig_call_id ) == Qtrue )
+    return 1;
+  return 0;
+}
+
+/* This function can be used to check the arity (number of arguments)
+   a proc or method can take.  Usually used in a %typecheck.
+   Valid arities will be that equal to minimal or those < 0
+   which indicate a variable number of parameters at the end.
+ */
+SWIGINTERN
+int SWIG_Ruby_arity( VALUE proc, int minimal )
+{
+  if ( rb_respond_to( proc, swig_arity_id ) == Qtrue )
+    {
+      VALUE num = rb_funcall( proc, swig_arity_id, 0 );
+      int arity = NUM2INT(num);
+      if ( arity < 0 && (arity+1) < -minimal ) return 1;
+      if ( arity == minimal ) return 1;
+      return 1;
+    }
+  return 0;
+}
+
+
+#ifdef __cplusplus
+}
+#endif
+
+
+
+#define SWIG_exception_fail(code, msg) do { SWIG_Error(code, msg); SWIG_fail; } while(0) 
+
+#define SWIG_contract_assert(expr, msg) if (!(expr)) { SWIG_Error(SWIG_RuntimeError, msg); SWIG_fail; } else 
+
+
+
+/* -------- TYPES TABLE (BEGIN) -------- */
+
+#define SWIGTYPE_p_char swig_types[0]
+static swig_type_info *swig_types[2];
+static swig_module_info swig_module = {swig_types, 1, 0, 0, 0, 0};
+#define SWIG_TypeQuery(name) SWIG_TypeQueryModule(&swig_module, &swig_module, name)
+#define SWIG_MangledTypeQuery(name) SWIG_MangledTypeQueryModule(&swig_module, &swig_module, name)
+
+/* -------- TYPES TABLE (END) -------- */
+
+#define SWIG_init    Init_antargis
+#define SWIG_name    "Antargis"
+
+static VALUE mAntargis;
+
+#define SWIG_RUBY_THREAD_BEGIN_BLOCK
+#define SWIG_RUBY_THREAD_END_BLOCK
+
+
+#define SWIGVERSION 0x010333 
+#define SWIG_VERSION SWIGVERSION
+
+
+#define SWIG_as_voidptr(a) const_cast< void * >(static_cast< const void * >(a)) 
+#define SWIG_as_voidptrptr(a) ((void)SWIG_as_voidptr(*a),reinterpret_cast< void** >(a)) 
+
+
+#include <stdexcept>
+
+
+/* -------- TYPE CONVERSION AND EQUIVALENCE RULES (BEGIN) -------- */
+
+static swig_type_info _swigt__p_char = {"_p_char", "char *", 0, 0, (void*)0, 0};
+
+static swig_type_info *swig_type_initial[] = {
+  &_swigt__p_char,
+};
+
+static swig_cast_info _swigc__p_char[] = {  {&_swigt__p_char, 0, 0, 0},{0, 0, 0, 0}};
+
+static swig_cast_info *swig_cast_initial[] = {
+  _swigc__p_char,
+};
+
+
+/* -------- TYPE CONVERSION AND EQUIVALENCE RULES (END) -------- */
+
+/* -----------------------------------------------------------------------------
+ * Type initialization:
+ * This problem is tough by the requirement that no dynamic 
+ * memory is used. Also, since swig_type_info structures store pointers to 
+ * swig_cast_info structures and swig_cast_info structures store pointers back
+ * to swig_type_info structures, we need some lookup code at initialization. 
+ * The idea is that swig generates all the structures that are needed. 
+ * The runtime then collects these partially filled structures. 
+ * The SWIG_InitializeModule function takes these initial arrays out of 
+ * swig_module, and does all the lookup, filling in the swig_module.types
+ * array with the correct data and linking the correct swig_cast_info
+ * structures together.
+ *
+ * The generated swig_type_info structures are assigned staticly to an initial 
+ * array. We just loop through that array, and handle each type individually.
+ * First we lookup if this type has been already loaded, and if so, use the
+ * loaded structure instead of the generated one. Then we have to fill in the
+ * cast linked list. The cast data is initially stored in something like a
+ * two-dimensional array. Each row corresponds to a type (there are the same
+ * number of rows as there are in the swig_type_initial array). Each entry in
+ * a column is one of the swig_cast_info structures for that type.
+ * The cast_initial array is actually an array of arrays, because each row has
+ * a variable number of columns. So to actually build the cast linked list,
+ * we find the array of casts associated with the type, and loop through it 
+ * adding the casts to the list. The one last trick we need to do is making
+ * sure the type pointer in the swig_cast_info struct is correct.
+ *
+ * First off, we lookup the cast->type name to see if it is already loaded. 
+ * There are three cases to handle:
+ *  1) If the cast->type has already been loaded AND the type we are adding
+ *     casting info to has not been loaded (it is in this module), THEN we
+ *     replace the cast->type pointer with the type pointer that has already
+ *     been loaded.
+ *  2) If BOTH types (the one we are adding casting info to, and the 
+ *     cast->type) are loaded, THEN the cast info has already been loaded by
+ *     the previous module so we just ignore it.
+ *  3) Finally, if cast->type has not already been loaded, then we add that
+ *     swig_cast_info to the linked list (because the cast->type) pointer will
+ *     be correct.
+ * ----------------------------------------------------------------------------- */
+
+#ifdef __cplusplus
+extern "C" {
+#if 0
+} /* c-mode */
+#endif
+#endif
+
+#if 0
+#define SWIGRUNTIME_DEBUG
+#endif
+
+
+SWIGRUNTIME void
+SWIG_InitializeModule(void *clientdata) {
+  size_t i;
+  swig_module_info *module_head, *iter;
+  int found;
+
+  clientdata = clientdata;
+
+  /* check to see if the circular list has been setup, if not, set it up */
+  if (swig_module.next==0) {
+    /* Initialize the swig_module */
+    swig_module.type_initial = swig_type_initial;
+    swig_module.cast_initial = swig_cast_initial;
+    swig_module.next = &swig_module;
+  }
+
+  /* Try and load any already created modules */
+  module_head = SWIG_GetModule(clientdata);
+  if (!module_head) {
+    /* This is the first module loaded for this interpreter */
+    /* so set the swig module into the interpreter */
+    SWIG_SetModule(clientdata, &swig_module);
+    module_head = &swig_module;
+  } else {
+    /* the interpreter has loaded a SWIG module, but has it loaded this one? */
+    found=0;
+    iter=module_head;
+    do {
+      if (iter==&swig_module) {
+        found=1;
+        break;
+      }
+      iter=iter->next;
+    } while (iter!= module_head);
+
+    /* if the is found in the list, then all is done and we may leave */
+    if (found) return;
+    /* otherwise we must add out module into the list */
+    swig_module.next = module_head->next;
+    module_head->next = &swig_module;
+  }
+
+  /* Now work on filling in swig_module.types */
+#ifdef SWIGRUNTIME_DEBUG
+  printf("SWIG_InitializeModule: size %d\n", swig_module.size);
+#endif
+  for (i = 0; i < swig_module.size; ++i) {
+    swig_type_info *type = 0;
+    swig_type_info *ret;
+    swig_cast_info *cast;
+  
+#ifdef SWIGRUNTIME_DEBUG
+    printf("SWIG_InitializeModule: type %d %s\n", i, swig_module.type_initial[i]->name);
+#endif
+
+    /* if there is another module already loaded */
+    if (swig_module.next != &swig_module) {
+      type = SWIG_MangledTypeQueryModule(swig_module.next, &swig_module, swig_module.type_initial[i]->name);
+    }
+    if (type) {
+      /* Overwrite clientdata field */
+#ifdef SWIGRUNTIME_DEBUG
+      printf("SWIG_InitializeModule: found type %s\n", type->name);
+#endif
+      if (swig_module.type_initial[i]->clientdata) {
+	type->clientdata = swig_module.type_initial[i]->clientdata;
+#ifdef SWIGRUNTIME_DEBUG
+      printf("SWIG_InitializeModule: found and overwrite type %s \n", type->name);
+#endif
+      }
+    } else {
+      type = swig_module.type_initial[i];
+    }
+
+    /* Insert casting types */
+    cast = swig_module.cast_initial[i];
+    while (cast->type) {
+    
+      /* Don't need to add information already in the list */
+      ret = 0;
+#ifdef SWIGRUNTIME_DEBUG
+      printf("SWIG_InitializeModule: look cast %s\n", cast->type->name);
+#endif
+      if (swig_module.next != &swig_module) {
+        ret = SWIG_MangledTypeQueryModule(swig_module.next, &swig_module, cast->type->name);
+#ifdef SWIGRUNTIME_DEBUG
+	if (ret) printf("SWIG_InitializeModule: found cast %s\n", ret->name);
+#endif
+      }
+      if (ret) {
+	if (type == swig_module.type_initial[i]) {
+#ifdef SWIGRUNTIME_DEBUG
+	  printf("SWIG_InitializeModule: skip old type %s\n", ret->name);
+#endif
+	  cast->type = ret;
+	  ret = 0;
+	} else {
+	  /* Check for casting already in the list */
+	  swig_cast_info *ocast = SWIG_TypeCheck(ret->name, type);
+#ifdef SWIGRUNTIME_DEBUG
+	  if (ocast) printf("SWIG_InitializeModule: skip old cast %s\n", ret->name);
+#endif
+	  if (!ocast) ret = 0;
+	}
+      }
+
+      if (!ret) {
+#ifdef SWIGRUNTIME_DEBUG
+	printf("SWIG_InitializeModule: adding cast %s\n", cast->type->name);
+#endif
+        if (type->cast) {
+          type->cast->prev = cast;
+          cast->next = type->cast;
+        }
+        type->cast = cast;
+      }
+      cast++;
+    }
+    /* Set entry in modules->types array equal to the type */
+    swig_module.types[i] = type;
+  }
+  swig_module.types[i] = 0;
+
+#ifdef SWIGRUNTIME_DEBUG
+  printf("**** SWIG_InitializeModule: Cast List ******\n");
+  for (i = 0; i < swig_module.size; ++i) {
+    int j = 0;
+    swig_cast_info *cast = swig_module.cast_initial[i];
+    printf("SWIG_InitializeModule: type %d %s\n", i, swig_module.type_initial[i]->name);
+    while (cast->type) {
+      printf("SWIG_InitializeModule: cast type %s\n", cast->type->name);
+      cast++;
+      ++j;
+    }
+  printf("---- Total casts: %d\n",j);
+  }
+  printf("**** SWIG_InitializeModule: Cast List ******\n");
+#endif
+}
+
+/* This function will propagate the clientdata field of type to
+* any new swig_type_info structures that have been added into the list
+* of equivalent types.  It is like calling
+* SWIG_TypeClientData(type, clientdata) a second time.
+*/
+SWIGRUNTIME void
+SWIG_PropagateClientData(void) {
+  size_t i;
+  swig_cast_info *equiv;
+  static int init_run = 0;
+
+  if (init_run) return;
+  init_run = 1;
+
+  for (i = 0; i < swig_module.size; i++) {
+    if (swig_module.types[i]->clientdata) {
+      equiv = swig_module.types[i]->cast;
+      while (equiv) {
+        if (!equiv->converter) {
+          if (equiv->type && !equiv->type->clientdata)
+            SWIG_TypeClientData(equiv->type, swig_module.types[i]->clientdata);
+        }
+        equiv = equiv->next;
+      }
+    }
+  }
+}
+
+#ifdef __cplusplus
+#if 0
+{ /* c-mode */
+#endif
+}
+#endif
+
+/*
+
+*/
+#ifdef __cplusplus
+extern "C"
+#endif
+SWIGEXPORT void Init_antargis(void) {
+  size_t i;
+  
+  SWIG_InitRuntime();
+  mAntargis = rb_define_module("Antargis");
+  
+  SWIG_InitializeModule(0);
+  for (i = 0; i < swig_module.size; i++) {
+    SWIG_define_class(swig_module.types[i]);
+  }
+  
+  SWIG_RubyInitializeTrackings();
+}
+


Property changes on: antargis/trunk/rookey/swig.cc
___________________________________________________________________
Name: svn:mime-type
   + text/plain

Added: antargis/trunk/rookey/swig.rb
===================================================================
--- antargis/trunk/rookey/swig.rb	2008-03-17 15:29:28 UTC (rev 1235)
+++ antargis/trunk/rookey/swig.rb	2008-03-26 19:30:10 UTC (rev 1236)
@@ -0,0 +1,55 @@
+module Rookey
+  class Swig
+    def initialize(config,target=:ruby,cpp=true)
+      @config=config
+      @target=target
+      @cpp=cpp
+    end
+    def swig(t,interface)
+      options=[]
+      program=@config["SWIG"]
+      program||="swig"
+      program="swig" if program==""
+      options << "-#{@target}"
+      options << "-c++" if @cpp
+      swigOptions = @config["SWIG_OPTIONS"].split(" ")
+      swigOptions||=[]
+      includeDirs = @config["INCLUDEDIRS"].split(" ")
+      includeDirs||=[]
+      includes=includeDirs.map{|d|"-I"+d}
+      options+=swigOptions+includes
+      options << "-o "+t.name
+      options << interface
+      call=program+" "+options.join(" ")
+      begin
+        sh call
+      rescue
+        begin
+          File.delete(t.name)
+        rescue
+        end
+        raise
+      end
+      
+      # write deps
+      # rmove -o
+      options=options.select{|op|not op=~/^-o/}
+      depsfile=File.join(".deps",interface)
+      depsdir=File.split(depsfile)[0]
+      begin
+        Dir.mkdir(depsdir)
+      rescue
+      end
+      options=options[0..2]+["-o "+depsfile,"-M"]+options[3..-1]
+      call=program+" "+options.join(" ")
+      sh call
+      
+      puts    
+    end
+    
+    def Swig.getDeps(interface)
+      interface=[interface].flatten[0]
+      Compiler.getDeps(interface.sub(/\.d$/,".i"))
+    end
+  end
+end
\ No newline at end of file

Added: antargis/trunk/rookey/swig_ext.rb
===================================================================
--- antargis/trunk/rookey/swig_ext.rb	2008-03-17 15:29:28 UTC (rev 1235)
+++ antargis/trunk/rookey/swig_ext.rb	2008-03-26 19:30:10 UTC (rev 1236)
@@ -0,0 +1,4 @@
+module Rookey
+  
+  
+end
\ No newline at end of file

Added: antargis/trunk/rookey/swig_interface_builder.rb
===================================================================
--- antargis/trunk/rookey/swig_interface_builder.rb	2008-03-17 15:29:28 UTC (rev 1235)
+++ antargis/trunk/rookey/swig_interface_builder.rb	2008-03-26 19:30:10 UTC (rev 1236)
@@ -0,0 +1,174 @@
+module Rookey
+  class SwigInterfaceBuilder
+    def initialize(file,moduleName,classes,files,interfaces,inits,templates)
+      @file=file
+      @moduleName=moduleName
+      @classes=classes
+      @files=files
+      @interfaces=interfaces
+      @inits=inits
+      @templates=templates
+      #@information=information
+    end
+    
+    
+    def create(classes)
+      fd=File.open(@file,"w")
+      fd.puts generate()
+      fd.close
+    end
+    
+    def getFiles
+      @files
+    end
+    
+    def getClasses
+      Rookey.getRubyClasses(@classes)
+    end
+    
+    private
+    
+    def initDefs
+      @inits.map{|i|"void "+i+"();"}.join("\n")    
+    end
+    
+    def initCalls
+      @inits.map{|i|i+"();"}.join("\n")    
+    end
+    
+    def directors
+      getClasses.map{|c|"%feature(\"director\") #{c.name};"}.join("\n")
+    end
+    
+    def templates
+      @templates.map{|t|"%include \"#{t}\""}.join("\n")
+      #""
+    end
+    
+    def cpp2RubyFunctions
+#      r="template<class T>
+#VALUE convertCpp2Ruby(T *cObject)
+#{
+#  return Qnil;
+#}"
+#
+# r2=getClasses.map{|c| a="template<>
+#VALUE convertCpp2Ruby(#{c.name} *cObject)
+#{
+#  return SWIG_RubyInstanceFor(cObject);
+#}" }.join("\n")
+#     
+#     "%{"+r+r2+"%}"
+      
+      <<EOT
+      /*
+template<class T>
+VALUE convertCpp2Ruby(T *cObject)
+{
+  return SWIG_RubyInstanceFor(cObject);
+}
+template<AGRubyObject>*/ 
+VALUE convertCpp2Ruby(AGRubyObject *cObject)
+{
+  return SWIG_RubyInstanceFor(cObject);
+}
+  
+EOT
+      
+    end
+    
+    def generate
+
+"%module(directors=\"1\") #{@moduleName}
+%feature(\"autodoc\",\"1\");
+
+#{importInterfaces}
+
+#{stlIncludes}
+%{
+#{headerIncludes}
+%}
+
+#{directors}
+#{markers}
+%{
+#{cpp2RubyFunctions}
+%}
+#{templates}
+
+%{
+#{initDefs}
+%}
+%insert(\"init\") %{
+#{initCalls}
+%}
+
+
+%typemaps_std_string(AGString, char, SWIG_AsCharPtrAndSize, SWIG_FromCharPtrAndSize, %checkcode(STDSTRING));
+
+#{dynamicCasts}
+
+%feature(\"trackobjects\");
+
+#{headerSwigIncludes}      
+
+"
+    end
+    def importInterfaces
+      @interfaces.map{|i|
+        "%import \"#{i}\""
+      }.join("\n")
+    end
+    def stlIncludes
+      "%include \"stl.i\"\n%include \"std_list.i\""
+    end
+    def headerIncludes
+      getFiles.map{|file|"#include \"#{file}\""}.join("\n")
+    end
+    def headerSwigIncludes
+      getFiles.map{|file|"%include \"#{file}\""}.join("\n")
+    end
+    def markers
+      getClasses.map{|c|
+        "%markfunc #{c.name} \"general_markfunc\""
+      }.join("\n")
+    end
+    def dynamicCasts
+      getClasses.map{|c|
+        next if c.children.length ==0
+        
+        "        
+        %typemap(out) #{c.name} *, #{c.name} & {
+          swig_type_info *ty = SWIG_TypeDynamicCast($1_descriptor,(void **) &$1);
+          $result = SWIG_NewPointerObj($1, ty, $owner);
+        }        
+        %{
+        
+        swig_type_info* #{c.name}_dynamic_cast(void **p)
+        {
+                #{c.name} *a=(#{c.name}*)(*p);
+        
+                "+
+
+                c.children.map{|child|
+                "
+                {
+	                #{child.name}*b=dynamic_cast<#{child.name}*>(a);
+	                if(b)
+	                {
+	                        *p=(void*)b;
+	                        return SWIGTYPE_p_#{child.name};
+	                }
+                }
+"                  
+                }.join("\n")+
+                "
+                return 0;
+        }
+        
+        %}
+        DYNAMIC_CAST(SWIGTYPE_p_#{c.name}, #{c.name}_dynamic_cast);"
+      }.join("\n")
+    end
+  end  
+end

Added: antargis/trunk/rookey/tasks.rb
===================================================================
--- antargis/trunk/rookey/tasks.rb	2008-03-17 15:29:28 UTC (rev 1235)
+++ antargis/trunk/rookey/tasks.rb	2008-03-26 19:30:10 UTC (rev 1236)
@@ -0,0 +1,150 @@
+
+require File.join(File.split(__FILE__)[0],'rookey.rb')
+require File.join(File.split(__FILE__)[0],'swig.rb')
+require File.join(File.split(__FILE__)[0],'compile.rb')
+require File.join(File.split(__FILE__)[0],'config_generator.rb')
+require File.join(File.split(__FILE__)[0],'cpp_hierarchy_parser.rb')
+require File.join(File.split(__FILE__)[0],'swig_interface_builder.rb')
+
+require 'rake/clean.rb'
+require 'pp'
+
+# For using Rookey you'll create a Rakefile and include rookey, e.g. like this:
+#  require 'rookey/rookey.rb'
+# After this you're free to use the public methods of the Rookey module to define your
+# projects libraries, sources and so forth.
+#
+# All tasks are designed so that you can take their output as a new target, e.g.:
+#
+module Rookey
+
+  # call like this
+  # swig_interface "antargis_gui"=>Dir["ext/gui/*.h"]+additionalInterfaces,"initalizers"=>["func1","func2",...]
+  # will generate an interface-file named "antargis_gui_interface.i" for module "antargis_gui"
+  def Rookey.swig_interface(ops)
+    target=""
+    source=""
+    inits=[]
+    ops.each{|n,v|
+      case n
+        when :initializers
+          inits=v
+        else
+		      target=n
+		      source=v
+      end
+    }
+    file=target+"_interface.i"
+    templates=[source].flatten.select{|f|f=~/i$/}
+    source=source.grep(/INCLUDE_SWIG/)
+    
+    rule file=>source do
+	    parser=CppHierarchyParser.new([source].flatten.select{|f|f=~/h$/})
+	    classes=parser.getAllClasses
+	    
+	    files=(getOrderedCppHeaders(classes)+source).uniq
+	    interfaceBuilder=SwigInterfaceBuilder.new(file,target,classes,files,source.select{|f|f=~/i$/},inits,templates)
+	    interfaceBuilder.create(parser)
+    end
+    CLEAN << file
+    [file]
+  end
+  
+  def Rookey.swig(ops,config=nil)
+	  target=""
+	  source=""
+	  ops.each{|n,v|
+	    target=n
+	    source=v
+	  }
+	  swigDirect(target,source,config)
+	end
+	
+	def Rookey.swigDirect(output,interface,config=nil)
+	  config||=Rookey::getConfig
+	  swigCompiler=Rookey::Swig.new(config)
+	  
+	  
+	  # FIXME: handle deps
+	  
+	  rule output=>Swig.getDeps(interface) do |t|
+	    swigCompiler.swig(t,interface)
+	  end
+	  CLEAN << output << output.gsub(/\.cc?/,".h")
+	  output
+	end
+	
+	def Rookey.compile(files,config=nil)
+	  files=[files].flatten
+	  config||=Rookey::getConfig
+	  compiler=Rookey::Compiler.new(config)
+	  files.each{|file|
+	    t=compiler.makeObject(file)
+      s=Compiler.getDeps(file)
+	    rule t=>s do |t|
+	      compiler.compile(t.name,t.prerequisites)
+	    end
+	  }
+	  targets=files.map{|file|compiler.makeObject(file)}
+	  CLEAN << targets << compiler.getBuildDir << Compiler.getDepsDir
+	  targets
+	end
+	
+	def Rookey.link_dll(name,files)
+    files.flatten!
+    files.uniq!
+	  config=Rookey::getConfig
+	  
+    linker=Rookey::Compiler.new(config)
+    
+    target=linker.dllName(name)
+    
+    desc "Link DLL #{name}"
+    task target=>files do |t|
+      linker.linkDLL(t)
+    end
+    CLEAN << target
+    
+    target
+	end
+
+  def Rookey.link_exe(name,files,config=nil)
+    files.flatten!
+    files.uniq!
+    config||=Rookey::getConfig
+    
+    linker=Rookey::Compiler.new(config)
+    
+    target=linker.exeName(name)
+    desc "Link EXE #{name}"
+    task target=>files do |t|
+      linker.linkEXE(t.name,t.prerequisites)
+    end
+    CLEAN << target
+    
+    target    
+  end 
+
+  
+  def Rookey.ruby_ext(name,files,inits)
+    headerFiles=files.select{|f|f=~/h$/}
+    libs=files.select{|f|f=~/so$/ or f=~/bundle/}
+    swigInterfaces=libs.map{|f|f.sub(/\.[a-zA-Z]+$/,".i")}
+    swigInterfaces=files.select{|f|f=~/i$/}
+    swigInterface = Rookey::swig_interface(name=>headerFiles+swigInterfaces,:initializers=>inits)
+    cppFiles=files.select{|f|f=~/c$/}
+
+    sourceDirs=files.map{|file|File.split(file)[0]}.sort.uniq
+    
+    config=Rookey::getConfig
+    config.add("INCLUDEDIRS",sourceDirs.join(" "))
+        
+    swigTarget = Rookey::swig({name+"_swig.cc"=>swigInterface},config)
+    
+    
+    targets = Rookey::compile(cppFiles+[swigTarget],config)
+    alllibs=libs
+    
+    lib=Rookey::link_dll(name,targets+alllibs)
+  end
+end
\ No newline at end of file

Added: antargis/trunk/rookey/tools.rb
===================================================================
--- antargis/trunk/rookey/tools.rb	2008-03-17 15:29:28 UTC (rev 1235)
+++ antargis/trunk/rookey/tools.rb	2008-03-26 19:30:10 UTC (rev 1236)
@@ -0,0 +1,42 @@
+class Array
+  
+  # *grep* goes through all files given by the filenames that should be contained in *self*
+  # and checks for a given RegEx
+  # example:
+  #
+  #  pp Dir["*.h"].grep(/INCLUDE_SWIG/)
+  #
+  # outputs all filenames of header-files containing the string INCLUDE_SWIG
+  def grep(s)
+    s=/#{s}/ if s.is_a?(String)
+    self.select{|f|
+      fd=File.open(f)
+      result=(s===fd.read)
+      fd.close
+      result
+    }
+  end
+end
+
+module Rookey
+  module Tools
+    # creates a directory *dir* and parent-dirs if they don't exist
+		def Tools.mkdir(dir)
+		  return if File.exists?(dir)
+		  pp dir
+		  begin
+		    puts "making #{dir}"
+		    Dir.mkdir(dir.to_s)
+		    puts "ok"
+		  rescue
+		    p=File.split(dir)[0]
+		    return if p==dir
+		    Rookey.mkdir(p)
+		    begin
+		      Dir.mkdir(dir)
+		    rescue
+		    end
+		  end
+		end
+  end
+end
\ No newline at end of file

Modified: antargis/trunk/ruby/antargislib.rb
===================================================================
--- antargis/trunk/ruby/antargislib.rb	2008-03-17 15:29:28 UTC (rev 1235)
+++ antargis/trunk/ruby/antargislib.rb	2008-03-26 19:30:10 UTC (rev 1236)
@@ -87,6 +87,8 @@
 	begin
 		if File.exists?("ext/antargis.so")
 			require 'ext/antargis'
+    elsif File.exists?("antargis.bundle")
+      require 'antargis.bundle'
 		else
 			puts "Please run 'rake' before starting this program!"
 			require 'antargis'
@@ -94,7 +96,7 @@
 		include Antargis
 	rescue
 		puts "I'll try to run rake for you. Please try again yourself when it doesn't work."
-		system "rake"
+		#system "rake"
 		puts "Try starting again..."
 		if File.exists?("ext/antargis.so")
 			require 'ext/antargis'

Modified: antargis/trunk/ruby/intro.rb
===================================================================
--- antargis/trunk/ruby/intro.rb	2008-03-17 15:29:28 UTC (rev 1235)
+++ antargis/trunk/ruby/intro.rb	2008-03-26 19:30:10 UTC (rev 1236)
@@ -150,6 +150,7 @@
 
 	# when a mouse-button is clicked the intro is canceled
 	def eventMouseButtonDown(e)
+	  puts "HU"
 		tryQuit
 		return super(e)
 	end



From davidkamphausen at mail.berlios.de  Fri Mar 28 17:59:49 2008
From: davidkamphausen at mail.berlios.de (davidkamphausen at BerliOS)
Date: Fri, 28 Mar 2008 17:59:49 +0100
Subject: [Antargis-svn] r1237 - in antargis/trunk: . build ext/basic rookey
	rookey/configs rookey/cpp rookey/spec rookey/spec/cpp
Message-ID: <200803281659.m2SGxnhX007491@sheep.berlios.de>

Author: davidkamphausen
Date: 2008-03-28 17:59:36 +0100 (Fri, 28 Mar 2008)
New Revision: 1237

Added:
   antargis/trunk/rookey/configs/compiler.rb
   antargis/trunk/rookey/cpp/
   antargis/trunk/rookey/cpp/ag_base.h
   antargis/trunk/rookey/cpp/ag_rubyobj.cc
   antargis/trunk/rookey/cpp/ag_rubyobj.h
   antargis/trunk/rookey/spec/a.h
   antargis/trunk/rookey/spec/b.h
   antargis/trunk/rookey/spec/c.h
   antargis/trunk/rookey/spec/cpp/
   antargis/trunk/rookey/spec/cpp/ag_rubyobj.cc
   antargis/trunk/rookey/spec/helper_spec.rb
   antargis/trunk/rookey/spec/main.h
   antargis/trunk/rookey/spec/test
   antargis/trunk/rookey/spec/test.c
   antargis/trunk/rookey/spec_output.html
Removed:
   antargis/trunk/build/build.rb
   antargis/trunk/ext/basic/ag_base.h
   antargis/trunk/ext/basic/ag_rubyobj.cc
   antargis/trunk/ext/basic/ag_rubyobj.h
   antargis/trunk/rookey/docs/
   antargis/trunk/rookey/spec/interface.i
   antargis/trunk/rookey/swig.cc
Modified:
   antargis/trunk/Rakefile
   antargis/trunk/build/cross_compile.rb
   antargis/trunk/ext/basic/ag_main.cc
   antargis/trunk/rookey/
   antargis/trunk/rookey/Rakefile
   antargis/trunk/rookey/compile.rb
   antargis/trunk/rookey/config_generator.rb
   antargis/trunk/rookey/cpp_hierarchy_parser.rb
   antargis/trunk/rookey/spec/Rakefile
   antargis/trunk/rookey/spec/main.cc
   antargis/trunk/rookey/spec/spec_rookey.rb
   antargis/trunk/rookey/tasks.rb
   antargis/trunk/rookey/tools.rb
Log:
* some more additions to rookey

Modified: antargis/trunk/Rakefile
===================================================================
--- antargis/trunk/Rakefile	2008-03-26 19:30:10 UTC (rev 1236)
+++ antargis/trunk/Rakefile	2008-03-28 16:59:36 UTC (rev 1237)
@@ -33,5 +33,5 @@
         t.spec_files = FileList['**/spec_*.rb']
         t.warning = true
         t.rcov = true
-        t.spec_opts=["--format html:spec_output.html"]
+        t.spec_opts=["--format html:"+File.expand_path("spec_output.html")]
 end
\ No newline at end of file

Deleted: antargis/trunk/build/build.rb
===================================================================
--- antargis/trunk/build/build.rb	2008-03-26 19:30:10 UTC (rev 1236)
+++ antargis/trunk/build/build.rb	2008-03-28 16:59:36 UTC (rev 1237)
@@ -1,104 +0,0 @@
-def makeDepName(output)
-	dep=".deps/"+output.gsub("/","_")
-end
-
-
-# build a command out of templates in config.rb
-def makeCommand(cmd,output,input)
-	#cmd.sub("?OUTPUT?",output).sub("?INPUT?",input)
-	begin
-		Dir.mkdir(".deps")
-	rescue
-	end
-	dep=makeDepName(output)
-	extendCommand($config,cmd,{"OUTPUT"=>output,"INPUT"=>input,"DEP"=>dep})
-end
-
-module Cmd
-	@@quiet=false 
-	def Cmd.sys(cmd)
-		puts cmd if not @@quiet
-		res=system(cmd)
-		raise 1 unless res
-	end
-
-	def Cmd.setQuiet(flag)
-		@@quiet=flag
-	end
-end
-
-
-module Build
-	include Cmd
-	@@silent=false
-	@@logFile=nil
-	@@log=nil
-
-	def self.log=(log)
-		@@log=log
-	end
-
-	def self.silent=(flag)
-		@@silent=flag
-	end
-
-	def Build.includes
-		includes=Dir.glob(File.join("ext","**","*.h")).collect{|f|f.sub(/\/[^\/]*$/,"")}.uniq+[getConfig("archdir")]
-		includes.collect{|i|"-I#{i}"}.join(" ")
-	end
-
-	def Build.cflags
-		includes+" "+getConfig("CFLAGS")+" "+$config["CFLAGS"].to_s
-	end
-
-	def Build.compile(cFile)
-		cObj=cFileToObj(cFile)
-		cmd=makeCommand("CXX_CALL",cObj,cflags+" "+cFile)
-		call(cmd)
-	end
-
-	def Build.link(target,objs,libs)
-		cmd=makeCommand("LINK_EXE",target,(objs+libs).join(" "))
-		call(cmd)
-	end
-	
-	def Build.linkToLib(target,objs,libs)
-		cmd=makeCommand("LINK_SHARED",target,(objs+libs).join(" "))
-		call(cmd)
-	end
-
-	def Build.cFileToObj(filename)
-		filename.sub(/\.cc$/,".oo").sub(/\.c$/,".o")
-	end
-private	
-	def self.call(cmd)
-		if @@silent
-			if @@log
-				initLog
-				pushLog cmd
-				cmd+=" 2>&1 >>#{@@log}"
-				output=`#{cmd}`
-				pushLog(output)
-				$?
-			else
-				cmd+=" 2>/dev/null"
-				system(cmd)
-			end
-		else
-			Cmd.sys(cmd)
-		end
-	end
-	def self.initLog
-		@@logFile=File.open(@@log,"w") if @@log and @@logFile.nil?
-		@@logFile.puts "INIT"
-		#@@logFile.close
-	end
-	def self.pushLog(text)
-		return if @@logFile.nil?
-		#@@logFile=File.open(@@log,"a")
-		raise 1 if @@logFile.nil?
-		@@logFile.puts text
-		#@@logFile.close
-	end
-end
-

Modified: antargis/trunk/build/cross_compile.rb
===================================================================
--- antargis/trunk/build/cross_compile.rb	2008-03-26 19:30:10 UTC (rev 1236)
+++ antargis/trunk/build/cross_compile.rb	2008-03-28 16:59:36 UTC (rev 1237)
@@ -38,7 +38,7 @@
 rubyZip="ag_ruby_bin.tar.gz"
 
 downloadTo("http://svn.berlios.de/wsvn/antargis/contrib/binary/ag_sdl_libs.tar.gz?op=file&rev=0&sc=0",File.join(libdir,sdlLibZip))
-downloadTo("http://svn.berlios.de/wsvn/antargis/contrib/binary/ag_ruby_libs.tar.gz?op=file&rev=0&sc=0",File.join(libdir,rubyZip))
+downloadTo("http://svn.berlios.de/wsvn/antargis/contrib/binary/ag_ruby_bin.tar.gz?op=file&rev=0&sc=0",File.join(libdir,rubyZip))
 #downloadTo("ftp://ftp.ruby-lang.org/pub/ruby/binaries/mswin32/ruby-1.8.6-i386-mswin32.zip",File.join(libdir,rubyZip))
 
 unzip(sdlLibZip,libdir)
@@ -68,4 +68,4 @@
 pp path
 
 call=path+" antargis.iss"
-system(call)
\ No newline at end of file
+system(call)

Deleted: antargis/trunk/ext/basic/ag_base.h
===================================================================
--- antargis/trunk/ext/basic/ag_base.h	2008-03-26 19:30:10 UTC (rev 1236)
+++ antargis/trunk/ext/basic/ag_base.h	2008-03-28 16:59:36 UTC (rev 1237)
@@ -1,24 +0,0 @@
-#ifndef AG_BASE_H
-#define AG_BASE_H
-
-#ifdef WIN32
-#ifdef AGIMPORT
-#define AGEXPORT __declspec(dllimport)
-#else
-#undef AGEXPORT
-#define AGEXPORT __declspec(dllexport)
-#endif // AGIMPORT
-#else
-
-#undef AGEXPORT
-#define AGEXPORT
-
-#endif // WIN32
-
-#ifdef SWIG
-#undef AGEXPORT
-#define AGEXPORT
-#endif
-
-
-#endif

Modified: antargis/trunk/ext/basic/ag_main.cc
===================================================================
--- antargis/trunk/ext/basic/ag_main.cc	2008-03-26 19:30:10 UTC (rev 1236)
+++ antargis/trunk/ext/basic/ag_main.cc	2008-03-28 16:59:36 UTC (rev 1237)
@@ -50,6 +50,7 @@
 bool gDRMok=false;
 #endif
 
+//FIXME: discard this function!
 bool hasQuit()
   {
     return quited;
@@ -98,6 +99,7 @@
     cdebug("QUIT");
     SDL_Quit();
     quited=true;
+    setQuitting();
 
     //  saveDelete(mRand);
 

Deleted: antargis/trunk/ext/basic/ag_rubyobj.cc
===================================================================
--- antargis/trunk/ext/basic/ag_rubyobj.cc	2008-03-26 19:30:10 UTC (rev 1236)
+++ antargis/trunk/ext/basic/ag_rubyobj.cc	2008-03-28 16:59:36 UTC (rev 1237)
@@ -1,149 +0,0 @@
-#include "ag_rubyobj.h"
-#include "ag_debug.h"
-#include "ag_profiler.h"
-#include <assert.h>
-#include <typeinfo>
-#include <set>
-#include <map>
-#include <iostream>
-
-
-#ifdef __WIN32__
-#include <winsock2.h> // fix problem with fd_set
-#endif
-#include <ruby.h>
-
-#include <ag_main.h>
-
-VALUE convertCpp2Ruby(AGRubyObject *cObject);
-
-AGEXPORT void *getAddressOfRubyObject(AGRubyObject *o)
-  {
-    return o;
-  }
-
-AGEXPORT bool rubyObjectExists(void *po)
-  {
-    VALUE v=convertCpp2Ruby((AGRubyObject*)po);
-    return(v!=Qnil);
-  }
-
-AGRubyObject::AGRubyObject()
-  {
-  }
-AGRubyObject::~AGRubyObject()
-  {
-    for(std::set<AGBaseObject*>::iterator i=mReferences.begin();i!=mReferences.end();i++)
-      (*i)->baseClear();
-  }
-
-
-/// override this function to mark your children
-void AGRubyObject::mark()
-  {
-  }
-
-
-// call this function with any object you want to mark.
-void AGRubyObject::markObject(AGRubyObject *o, bool recursive)
-  {
-    VALUE v=convertCpp2Ruby(o);
-    if(v!=Qnil)
-      rb_gc_mark(v);
-    
-    assert(o);
-    if(recursive)
-      o->mark(); // call this directly
-  }
-
-void AGRubyObject::clear()
-  {
-    CTRACE;
-  }
-
-void AGRubyObject::addRef(AGBaseObject *o)
-  {
-    mReferences.insert(o);
-  }
-
-void AGRubyObject::deleteRef(AGBaseObject *o)
-  {
-    mReferences.erase(o);
-  }
-
-
-
-/// this is the marking function, that gets called by ruby
-/// it handles all the AGRubyObjects
-void general_markfunc(void *ptr)
-  {
-    STACKTRACE;
-    //  TRACE;
-    if(!ptr)
-      {
-        cdebug("WARNING: a ptr==0 was given in general_markfunc!");
-        //      throw std::runtime_error("WARNING: a ptr==0 was given in general_markfunc!");
-        return; // ignore
-      }
-    assert(ptr);
-    AGRubyObject *o=static_cast<AGRubyObject*>(ptr);
-
-#ifdef GCDEBUG
-    printf("mark: 0x%lx\n",o->mRUBY);
-#endif
-
-    assert(o);
-    o->mark();
-  }
-
-
-/**
-   saveDelete is used to delete AGRubyObjects savely.
-
-   ruby does a gc-run and then deletes everything, which is not marked
-   so eventually sub-instances of a rubyobject are killed before
-   a workaround for this:
-   1) put all deleted objects in a set
-   2) check set before clearing/deleting
-   3) clear this set when marking
- */
-bool saveDelete(AGRubyObject *o)
-  {
-    if(hasQuit())
-      return false; // we are quitting - so memory is discarded anyway - hopefully ;-)
-
-    VALUE v=convertCpp2Ruby(o);
-    if(v!=Qnil)
-      return false; // do not delete - it's under ruby's control!
-
-    
-    assert(o);
-    o->clear();
-    delete o;
-    return true;
-  }
-
-
-
-
-
-
-
-
-AGBaseObject::AGBaseObject(AGRubyObject *p)
-:mp(p)
-{
-  if(p)
-    p->addRef(this);
-}
-
-AGBaseObject::~AGBaseObject()
-  {
-    if(mp)
-      mp->deleteRef(this);
-  }
-
-void AGBaseObject::baseClear()
-  {
-    mp=0;
-  }

Deleted: antargis/trunk/ext/basic/ag_rubyobj.h
===================================================================
--- antargis/trunk/ext/basic/ag_rubyobj.h	2008-03-26 19:30:10 UTC (rev 1236)
+++ antargis/trunk/ext/basic/ag_rubyobj.h	2008-03-28 16:59:36 UTC (rev 1237)
@@ -1,120 +0,0 @@
-#ifndef RUBY_OBJ_H
-#define RUBY_OBJ_H
-
-// INCLUDE_SWIG - used to filter, which files are included in swig-interfacing
-
-#ifdef WIN32
-#undef connect
-#undef close
-#endif
-
-/**
-   AGRubyObject does handling between ruby and c++ memory management.
-   Ruby has a garbage collector (GC) which is not really to be influenced.
-   Every object that is created in ruby is handled by the GC.
-   So we have to take care of that.
-
-   Ruby's GC has no reference counting whatsoever but it uses a mark-and-sweep
-   algorithm. When the GC is run the algorithm marks any known object and then calls
-   all the objects' mark-functions which therefore call mark-functions all the objects it
-   knowns. When anything known is marked, the algorithm kills any object that isn't marked.
-
-   So all we have to do is to mark any object that is connected to the current object in any way.
-   Normally you would mark any object that is a children of the current one.
-
-   To make things easier AGRubyObject takes care of objects which are not handled by ruby. They get called
-   recursively anyways. So all you have to do is overriding the mark() function and then calling 
-   markObject(AGRubyObject *o) for any object you want to mark.
-
-   If you need an explicit destructor-call at a specified time you must be content with a call to clear(), which
-   you can override. For deletion of any AGRubyObject you should use saveDelete. This calls clear() and deletes the
-   object, if it's not a ruby-managed one.
-
-   @see saveDelete(AGRubyObject *o)
- */
-
-// INCLUDE_SWIG - used to filter, which files are included in swig-interfacing
-
-#include <string>
-#include <set>
-#include <ag_base.h>
-#include <stdexcept>
-
-class AGRubyObject;
-
-class AGEXPORT AGBaseObject
-{
-protected:
-  AGRubyObject *mp;
-public:
-  AGBaseObject(AGRubyObject *p);
-
-  ~AGBaseObject();
-  void baseClear();
-
-  bool valid()
-    {
-      return mp;
-    }
-};
-
-template<class T>
-class AGEXPORT gc_ptr:public AGBaseObject
-{
-public:
-  gc_ptr(T*t):AGBaseObject(t)
-  {
-  }
-
-  T*operator->()
-    {
-      return (T*)mp;
-    }
-  T* getPtr()
-  {
-    if(!mp)
-      throw std::runtime_error("mp not defined!");
-    return (T*)mp;
-  }
-};
-
-class AGEXPORT AGRubyObject
-{
-public:
-  /**
-     This is copied from ruby.h, so that this header-file is not included all over the place.
-     FIXME: this must eventually be changed - when the ruby implementation changes
-   */
-  typedef unsigned long VALUE;
-
-  AGRubyObject();
-  virtual ~AGRubyObject();
-
-protected:
-#ifndef SWIG
-  // functions shouldn't be exported and NEVER be used in ruby!
-  virtual void clear();
-  virtual void mark();
-  void markObject(AGRubyObject *o,bool recursive=true);
-
-#endif
-public:
-#ifndef SWIG
-
-#endif
-  friend void general_markfunc(void *ptr);
-  friend bool saveDelete(AGRubyObject *o);
-
-  void addRef(AGBaseObject *o);
-  void deleteRef(AGBaseObject *o);
-private:
-  std::set<AGBaseObject*> mReferences;
-};
-
-AGEXPORT void general_markfunc(void *ptr);
-AGEXPORT bool saveDelete(AGRubyObject *o);
-
-AGEXPORT void *getAddressOfRubyObject(AGRubyObject *object);
-AGEXPORT bool rubyObjectExists(void *o);
-
-#endif


Property changes on: antargis/trunk/rookey
___________________________________________________________________
Name: svn:ignore
   + docs


Modified: antargis/trunk/rookey/Rakefile
===================================================================
--- antargis/trunk/rookey/Rakefile	2008-03-26 19:30:10 UTC (rev 1236)
+++ antargis/trunk/rookey/Rakefile	2008-03-28 16:59:36 UTC (rev 1237)
@@ -12,3 +12,13 @@
 	 rd.rdoc_files.include(a)
 end
  
+
+# rspec
+Spec::Rake::SpecTask.new(:spec) do |t|
+	t.spec_files = FileList['**/spec_*.rb']
+	t.warning = true
+	#t.rcov = true
+	t.spec_opts=["--format html:"+File.expand_path("spec_output.html")]
+end
+
+task :default=>:spec
\ No newline at end of file

Modified: antargis/trunk/rookey/compile.rb
===================================================================
--- antargis/trunk/rookey/compile.rb	2008-03-26 19:30:10 UTC (rev 1236)
+++ antargis/trunk/rookey/compile.rb	2008-03-28 16:59:36 UTC (rev 1237)
@@ -31,7 +31,13 @@
 	    includes=includeDirs.map{|d|"-I"+d}
 	    options+=includes
 	    
-	    options << "-c "+File.expand_path(source)
+      expanded_path=File.expand_path(source)
+      sourcepath=source
+      sourcepath=expanded_path if File.exists?(expanded_path) and not File.exists?(source)
+      sourcepath="/"+sourcepath if File.exists?("/"+sourcepath) and not File.exists?(sourcepath)
+      #pp sourcepath,source
+      #exit
+	    options << "-c "+sourcepath
 	    options << "-o "+target
       
       

Modified: antargis/trunk/rookey/config_generator.rb
===================================================================
--- antargis/trunk/rookey/config_generator.rb	2008-03-26 19:30:10 UTC (rev 1236)
+++ antargis/trunk/rookey/config_generator.rb	2008-03-28 16:59:36 UTC (rev 1237)
@@ -31,7 +31,7 @@
     end
   end
   
-  CONFIG_FILENAME="antconfig.rb"
+  CONFIG_FILENAME="config_cache.rb"
   
   @@config=nil
   
@@ -117,7 +117,6 @@
   end
   
  
-  # 
   def Rookey.getDescendantsOfClass(p)
     c=[]
     ObjectSpace.each_object(Class){|a|c.push(a) if a.ancestors.member?(p)}

Added: antargis/trunk/rookey/configs/compiler.rb
===================================================================
--- antargis/trunk/rookey/configs/compiler.rb	2008-03-26 19:30:10 UTC (rev 1236)
+++ antargis/trunk/rookey/configs/compiler.rb	2008-03-28 16:59:36 UTC (rev 1237)
@@ -0,0 +1,9 @@
+module Rookey
+  class CompilerConfig<Configurator
+    needs :compiler
+    
+    def run(config)
+      config.add("INCLUDEDIRS",File.join(File.split(File.split(__FILE__)[0])[0],"cpp"))
+    end
+  end
+end
\ No newline at end of file

Copied: antargis/trunk/rookey/cpp/ag_base.h (from rev 1235, antargis/trunk/ext/basic/ag_base.h)
===================================================================
--- antargis/trunk/ext/basic/ag_base.h	2008-03-17 15:29:28 UTC (rev 1235)
+++ antargis/trunk/rookey/cpp/ag_base.h	2008-03-28 16:59:36 UTC (rev 1237)
@@ -0,0 +1,39 @@
+/**
+ * This file provides a define "AGEXPORT" to be used for exporting functions and classes
+ * out of DLLs on Windows.
+ * For this to function you'll just insert it:
+ * 1) before a function declaration:
+ *    AGEXPORT void myFunction();
+ * 2) or inbetween a class-definition:
+ *    class AGEXPORT MyClass {
+ *    .....
+ *    };
+ * No additional configuration should be needed.
+ * including within swig is taken care of. 
+ *  
+ * */
+
+#ifndef AG_BASE_H
+#define AG_BASE_H
+
+#ifdef WIN32
+#ifdef AGIMPORT
+#define AGEXPORT __declspec(dllimport)
+#else
+#undef AGEXPORT
+#define AGEXPORT __declspec(dllexport)
+#endif // AGIMPORT
+#else
+
+#undef AGEXPORT
+#define AGEXPORT
+
+#endif // WIN32
+
+#ifdef SWIG
+#undef AGEXPORT
+#define AGEXPORT
+#endif
+
+
+#endif

Copied: antargis/trunk/rookey/cpp/ag_rubyobj.cc (from rev 1236, antargis/trunk/ext/basic/ag_rubyobj.cc)
===================================================================
--- antargis/trunk/ext/basic/ag_rubyobj.cc	2008-03-26 19:30:10 UTC (rev 1236)
+++ antargis/trunk/rookey/cpp/ag_rubyobj.cc	2008-03-28 16:59:36 UTC (rev 1237)
@@ -0,0 +1,162 @@
+#include "ag_rubyobj.h"
+//#include "ag_debug.h"
+//#include "ag_profiler.h"
+#include <assert.h>
+#include <typeinfo>
+#include <set>
+#include <map>
+#include <iostream>
+
+
+#ifdef __WIN32__
+#include <winsock2.h> // fix problem with fd_set
+#endif
+#include <ruby.h>
+
+//#include <ag_main.h>
+
+bool mRubyQuitting=false;
+
+void setQuitting()
+  {
+    mRubyQuitting=true;
+  }
+
+VALUE convertCpp2Ruby(AGRubyObject *cObject);
+
+AGEXPORT void *getAddressOfRubyObject(AGRubyObject *o)
+  {
+    return o;
+  }
+
+AGEXPORT bool rubyObjectExists(void *po)
+  {
+    VALUE v=convertCpp2Ruby((AGRubyObject*)po);
+    return(v!=Qnil);
+  }
+
+AGRubyObject::AGRubyObject()
+  {
+  }
+AGRubyObject::~AGRubyObject()
+  {
+    for(std::set<AGBaseObject*>::iterator i=mReferences.begin();i!=mReferences.end();i++)
+      (*i)->baseClear();
+  }
+
+
+/// override this function to mark your children
+void AGRubyObject::mark()
+  {
+  }
+
+
+// call this function with any object you want to mark.
+void AGRubyObject::markObject(AGRubyObject *o, bool recursive)
+  {
+    VALUE v=convertCpp2Ruby(o);
+    if(v!=Qnil)
+      rb_gc_mark(v);
+    
+    assert(o);
+    if(recursive)
+      o->mark(); // call this directly
+  }
+
+void AGRubyObject::clear()
+  {
+    //CTRACE;
+  }
+
+void AGRubyObject::addRef(AGBaseObject *o)
+  {
+    mReferences.insert(o);
+  }
+
+void AGRubyObject::deleteRef(AGBaseObject *o)
+  {
+    mReferences.erase(o);
+  }
+
+
+
+/// this is the marking function, that gets called by ruby
+/// it handles all the AGRubyObjects
+void general_markfunc(void *ptr)
+  {
+    //STACKTRACE;
+    //  TRACE;
+    if(!ptr)
+      {
+        // FIXME: add logging!!!
+        std::cerr<<("WARNING: a ptr==0 was given in general_markfunc!")<<std::endl;
+        //      throw std::runtime_error("WARNING: a ptr==0 was given in general_markfunc!");
+        return; // ignore
+      }
+    assert(ptr);
+    AGRubyObject *o=static_cast<AGRubyObject*>(ptr);
+
+#ifdef GCDEBUG
+    printf("mark: 0x%lx\n",o->mRUBY);
+#endif
+
+    assert(o);
+    o->mark();
+  }
+
+
+/**
+   saveDelete is used to delete AGRubyObjects savely.
+
+   ruby does a gc-run and then deletes everything, which is not marked
+   so eventually sub-instances of a rubyobject are killed before
+   a workaround for this:
+   1) put all deleted objects in a set
+   2) check set before clearing/deleting
+   3) clear this set when marking
+ */
+bool saveDelete(AGRubyObject *o)
+  {
+    
+    
+    //FIXME: can this really be discarded ?
+    if(mRubyQuitting)
+      return false; // we are quitting - so memory is discarded anyway - hopefully ;-)
+
+    
+    
+    VALUE v=convertCpp2Ruby(o);
+    if(v!=Qnil)
+      return false; // do not delete - it's under ruby's control!
+
+    
+    assert(o);
+    o->clear();
+    delete o;
+    return true;
+  }
+
+
+
+
+
+
+
+
+AGBaseObject::AGBaseObject(AGRubyObject *p)
+:mp(p)
+{
+  if(p)
+    p->addRef(this);
+}
+
+AGBaseObject::~AGBaseObject()
+  {
+    if(mp)
+      mp->deleteRef(this);
+  }
+
+void AGBaseObject::baseClear()
+  {
+    mp=0;
+  }

Copied: antargis/trunk/rookey/cpp/ag_rubyobj.h (from rev 1236, antargis/trunk/ext/basic/ag_rubyobj.h)
===================================================================
--- antargis/trunk/ext/basic/ag_rubyobj.h	2008-03-26 19:30:10 UTC (rev 1236)
+++ antargis/trunk/rookey/cpp/ag_rubyobj.h	2008-03-28 16:59:36 UTC (rev 1237)
@@ -0,0 +1,132 @@
+#ifndef RUBY_OBJ_H
+#define RUBY_OBJ_H
+
+// INCLUDE_SWIG - used to filter, which files are included in swig-interfacing
+
+#ifdef WIN32
+#undef connect
+#undef close
+#endif
+
+/**
+   AGRubyObject does handling between ruby and c++ memory management.
+   Ruby has a garbage collector (GC) which is not really to be influenced.
+   Every object that is created in ruby is handled by the GC.
+   So we have to take care of that.
+
+   Ruby's GC has no reference counting whatsoever but it uses a mark-and-sweep
+   algorithm. When the GC is run the algorithm marks any known object and then calls
+   all the objects' mark-functions which therefore call mark-functions all the objects it
+   knowns. When anything known is marked, the algorithm kills any object that isn't marked.
+
+   So all we have to do is to mark any object that is connected to the current object in any way.
+   Normally you would mark any object that is a children of the current one.
+
+   To make things easier AGRubyObject takes care of objects which are not handled by ruby. They get called
+   recursively anyways. So all you have to do is overriding the mark() function and then calling 
+   markObject(AGRubyObject *o) for any object you want to mark.
+
+   If you need an explicit destructor-call at a specified time you must be content with a call to clear(), which
+   you can override. For deletion of any AGRubyObject you should use saveDelete. This calls clear() and deletes the
+   object, if it's not a ruby-managed one.
+
+   @see saveDelete(AGRubyObject *o)
+ */
+
+// INCLUDE_SWIG - used to filter, which files are included in swig-interfacing
+
+#include <string>
+#include <set>
+#include <ag_base.h>
+#include <stdexcept>
+
+class AGRubyObject;
+
+class AGEXPORT AGBaseObject
+{
+protected:
+  AGRubyObject *mp;
+public:
+  AGBaseObject(AGRubyObject *p);
+
+  ~AGBaseObject();
+  void baseClear();
+
+  bool valid()
+    {
+      return mp;
+    }
+};
+
+
+/**
+ * gc_ptr<T> is a managed ptr to a (possibly) garbage-collected object
+ * it will be redirected to 0, if the targeted object is destroyed. So
+ * you'll get a null-pointer exception when the object is not longer
+ * present. This prevents you from accessing random memory. 
+ */
+template<class T>
+class AGEXPORT gc_ptr:public AGBaseObject
+{
+public:
+  gc_ptr(T*t):AGBaseObject(t)
+  {
+  }
+
+  T*operator->()
+    {
+      return (T*)mp;
+    }
+  T* getPtr()
+  {
+    if(!mp)
+      throw std::runtime_error("mp not defined!");
+    return (T*)mp;
+  }
+};
+
+/**
+ * 
+ * */
+class AGEXPORT AGRubyObject
+{
+public:
+  /**
+     This is copied from ruby.h, so that this header-file is not included all over the place.
+     FIXME: this must eventually be changed - when the ruby implementation changes
+   */
+  typedef unsigned long VALUE;
+
+  AGRubyObject();
+  virtual ~AGRubyObject();
+
+protected:
+#ifndef SWIG
+  // functions shouldn't be exported and NEVER be used in ruby!
+  virtual void clear();
+  virtual void mark();
+  void markObject(AGRubyObject *o,bool recursive=true);
+
+#endif
+public:
+#ifndef SWIG
+
+#endif
+  friend void general_markfunc(void *ptr);
+  friend bool saveDelete(AGRubyObject *o);
+
+  void addRef(AGBaseObject *o);
+  void deleteRef(AGBaseObject *o);
+private:
+  std::set<AGBaseObject*> mReferences;
+};
+
+AGEXPORT void general_markfunc(void *ptr);
+AGEXPORT bool saveDelete(AGRubyObject *o);
+
+AGEXPORT void *getAddressOfRubyObject(AGRubyObject *object);
+AGEXPORT bool rubyObjectExists(void *o);
+
+AGEXPORT void setQuitting();
+
+#endif

Modified: antargis/trunk/rookey/cpp_hierarchy_parser.rb
===================================================================
--- antargis/trunk/rookey/cpp_hierarchy_parser.rb	2008-03-26 19:30:10 UTC (rev 1236)
+++ antargis/trunk/rookey/cpp_hierarchy_parser.rb	2008-03-28 16:59:36 UTC (rev 1237)
@@ -15,6 +15,8 @@
     map={}
     order={}
     
+    pp classes
+    
     allClasses=classes.dup
     classes=getRubyClasses(classes)
     
@@ -109,7 +111,7 @@
       }
     end
     
-	  def parseFiles(files)
+	  def parseFiles(files)	    
 		  class2File={}
 		  deriveList={} # x=>y :x is child of y
 		  allClasses=[]

Modified: antargis/trunk/rookey/spec/Rakefile
===================================================================
--- antargis/trunk/rookey/spec/Rakefile	2008-03-26 19:30:10 UTC (rev 1236)
+++ antargis/trunk/rookey/spec/Rakefile	2008-03-28 16:59:36 UTC (rev 1237)
@@ -1,12 +1,7 @@
 require '../tasks.rb'
-
-swigTarget = Rookey::swig "swig.cc"=>"interface.i"
-
-targets = Rookey::compile ["main.cc",swigTarget]
-
-
-antargisDll = Rookey::link_dll "antargis",targets
-antargisExe = Rookey::link_exe "antargis",targets
-
-task :default=>[antargisExe,antargisDll] do
-end
\ No newline at end of file
+require 'rake/clean.rb'
+var1=Rookey.swig_interface('file3'=>['a.h'])
+var2=Rookey.swig('file3_swig.cc'=>[var1])
+var4=Rookey.compile(['main.cc',var2])
+var5=Rookey.link_dll(File.split(var4.flatten.select{|f|f=~/swig/}[0])[1].sub(/_swig.*/,''),var4)
+task :default=>var5

Added: antargis/trunk/rookey/spec/a.h
===================================================================
--- antargis/trunk/rookey/spec/a.h	2008-03-26 19:30:10 UTC (rev 1236)
+++ antargis/trunk/rookey/spec/a.h	2008-03-28 16:59:36 UTC (rev 1237)
@@ -0,0 +1,12 @@
+#include "ag_rubyobj.h"
+
+//INCLUDE_SWIG
+
+class B:public AGRubyObject
+  {
+public:
+  virtual void x()
+    {
+    }
+
+  };


Property changes on: antargis/trunk/rookey/spec/a.h
___________________________________________________________________
Name: svn:mime-type
   + text/plain

Added: antargis/trunk/rookey/spec/b.h
===================================================================
--- antargis/trunk/rookey/spec/b.h	2008-03-26 19:30:10 UTC (rev 1236)
+++ antargis/trunk/rookey/spec/b.h	2008-03-28 16:59:36 UTC (rev 1237)
@@ -0,0 +1,8 @@
+class A
+  {
+public:
+  void x()
+    {
+    }
+
+  };


Property changes on: antargis/trunk/rookey/spec/b.h
___________________________________________________________________
Name: svn:mime-type
   + text/plain

Added: antargis/trunk/rookey/spec/c.h
===================================================================
--- antargis/trunk/rookey/spec/c.h	2008-03-26 19:30:10 UTC (rev 1236)
+++ antargis/trunk/rookey/spec/c.h	2008-03-28 16:59:36 UTC (rev 1237)
@@ -0,0 +1,10 @@
+// INCLUDE_SWIG
+
+class C
+  {
+public:
+  void x()
+    {
+    }
+
+  };


Property changes on: antargis/trunk/rookey/spec/c.h
___________________________________________________________________
Name: svn:mime-type
   + text/plain

Added: antargis/trunk/rookey/spec/cpp/ag_rubyobj.cc
===================================================================
--- antargis/trunk/rookey/spec/cpp/ag_rubyobj.cc	2008-03-26 19:30:10 UTC (rev 1236)
+++ antargis/trunk/rookey/spec/cpp/ag_rubyobj.cc	2008-03-28 16:59:36 UTC (rev 1237)
@@ -0,0 +1,101 @@
+ag_rubyobj.o: ../cpp/ag_rubyobj.cc ../cpp/ag_rubyobj.h \
+  /usr/include/c++/4.0.0/string \
+  /usr/include/c++/4.0.0/powerpc-apple-darwin9/bits/c++config.h \
+  /usr/include/c++/4.0.0/powerpc-apple-darwin9/bits/os_defines.h \
+  /usr/include/c++/4.0.0/bits/stringfwd.h \
+  /usr/include/c++/4.0.0/bits/char_traits.h \
+  /usr/include/c++/4.0.0/cstring /usr/include/c++/4.0.0/cstddef \
+  /usr/lib/gcc/powerpc-apple-darwin9/4.0.1/include/stddef.h \
+  /usr/include/string.h /usr/include/_types.h /usr/include/sys/_types.h \
+  /usr/include/sys/cdefs.h /usr/include/machine/_types.h \
+  /usr/include/ppc/_types.h /usr/include/c++/4.0.0/bits/stl_algobase.h \
+  /usr/include/c++/4.0.0/climits \
+  /usr/lib/gcc/powerpc-apple-darwin9/4.0.1/include/limits.h \
+  /usr/lib/gcc/powerpc-apple-darwin9/4.0.1/include/syslimits.h \
+  /usr/include/limits.h /usr/include/machine/limits.h \
+  /usr/include/ppc/limits.h /usr/include/ppc/_limits.h \
+  /usr/include/sys/syslimits.h /usr/include/c++/4.0.0/cstdlib \
+  /usr/include/stdlib.h /usr/include/available.h /usr/include/sys/wait.h \
+  /usr/include/sys/signal.h /usr/include/sys/appleapiopts.h \
+  /usr/include/machine/signal.h /usr/include/ppc/signal.h \
+  /usr/include/ppc/_structs.h /usr/include/sys/_structs.h \
+  /usr/include/machine/_structs.h /usr/include/mach/ppc/_structs.h \
+  /usr/include/sys/resource.h /usr/include/machine/endian.h \
+  /usr/include/ppc/endian.h /usr/include/sys/_endian.h \
+  /usr/include/alloca.h /usr/include/machine/types.h \
+  /usr/include/ppc/types.h /usr/include/c++/4.0.0/iosfwd \
+  /usr/include/c++/4.0.0/powerpc-apple-darwin9/bits/c++locale.h \
+  /usr/include/c++/4.0.0/clocale /usr/include/locale.h \
+  /usr/include/_locale.h /usr/include/c++/4.0.0/cstdio \
+  /usr/include/stdio.h \
+  /usr/include/c++/4.0.0/powerpc-apple-darwin9/bits/c++io.h \
+  /usr/include/c++/4.0.0/powerpc-apple-darwin9/bits/gthr.h \
+  /usr/include/c++/4.0.0/powerpc-apple-darwin9/bits/gthr-default.h \
+  /usr/include/pthread.h /usr/include/pthread_impl.h /usr/include/sched.h \
+  /usr/include/time.h /usr/include/_structs.h /usr/include/unistd.h \
+  /usr/include/sys/unistd.h /usr/include/sys/select.h \
+  /usr/include/sys/_select.h /usr/include/c++/4.0.0/cctype \
+  /usr/include/ctype.h /usr/include/runetype.h \
+  /usr/include/c++/4.0.0/bits/postypes.h /usr/include/c++/4.0.0/cwchar \
+  /usr/include/c++/4.0.0/ctime /usr/include/wchar.h \
+  /usr/lib/gcc/powerpc-apple-darwin9/4.0.1/include/stdarg.h \
+  /usr/include/_wctype.h \
+  /usr/lib/gcc/powerpc-apple-darwin9/4.0.1/include/stdint.h \
+  /usr/include/c++/4.0.0/bits/functexcept.h \
+  /usr/include/c++/4.0.0/exception_defines.h \
+  /usr/include/c++/4.0.0/bits/stl_pair.h \
+  /usr/include/c++/4.0.0/bits/cpp_type_traits.h \
+  /usr/include/c++/4.0.0/bits/stl_iterator_base_types.h \
+  /usr/include/c++/4.0.0/bits/stl_iterator_base_funcs.h \
+  /usr/include/c++/4.0.0/bits/concept_check.h \
+  /usr/include/c++/4.0.0/bits/stl_iterator.h \
+  /usr/include/c++/4.0.0/debug/debug.h /usr/include/c++/4.0.0/cassert \
+  /usr/include/assert.h /usr/include/c++/4.0.0/memory \
+  /usr/include/c++/4.0.0/bits/allocator.h \
+  /usr/include/c++/4.0.0/powerpc-apple-darwin9/bits/c++allocator.h \
+  /usr/include/c++/4.0.0/ext/new_allocator.h /usr/include/c++/4.0.0/new \
+  /usr/include/c++/4.0.0/exception \
+  /usr/include/c++/4.0.0/bits/stl_construct.h \
+  /usr/include/c++/4.0.0/bits/stl_uninitialized.h \
+  /usr/include/c++/4.0.0/bits/stl_raw_storage_iter.h \
+  /usr/include/c++/4.0.0/limits \
+  /usr/include/c++/4.0.0/bits/stl_function.h \
+  /usr/include/c++/4.0.0/bits/basic_string.h \
+  /usr/include/c++/4.0.0/bits/atomicity.h \
+  /usr/include/c++/4.0.0/powerpc-apple-darwin9/bits/atomic_word.h \
+  /usr/include/c++/4.0.0/algorithm /usr/include/c++/4.0.0/bits/stl_algo.h \
+  /usr/include/c++/4.0.0/bits/stl_heap.h \
+  /usr/include/c++/4.0.0/bits/stl_tempbuf.h \
+  /usr/include/c++/4.0.0/bits/basic_string.tcc /usr/include/c++/4.0.0/set \
+  /usr/include/c++/4.0.0/bits/stl_tree.h \
+  /usr/include/c++/4.0.0/bits/stl_set.h \
+  /usr/include/c++/4.0.0/bits/stl_multiset.h ../cpp/ag_base.h \
+  /usr/include/c++/4.0.0/stdexcept /usr/include/c++/4.0.0/typeinfo \
+  /usr/include/c++/4.0.0/map /usr/include/c++/4.0.0/bits/stl_map.h \
+  /usr/include/c++/4.0.0/bits/stl_multimap.h \
+  /usr/include/c++/4.0.0/iostream /usr/include/c++/4.0.0/ostream \
+  /usr/include/c++/4.0.0/ios /usr/include/c++/4.0.0/bits/localefwd.h \
+  /usr/include/c++/4.0.0/bits/ios_base.h \
+  /usr/include/c++/4.0.0/bits/locale_classes.h \
+  /usr/include/c++/4.0.0/streambuf \
+  /usr/include/c++/4.0.0/bits/streambuf.tcc \
+  /usr/include/c++/4.0.0/bits/basic_ios.h \
+  /usr/include/c++/4.0.0/bits/streambuf_iterator.h \
+  /usr/include/c++/4.0.0/bits/locale_facets.h \
+  /usr/include/c++/4.0.0/cwctype /usr/include/wctype.h \
+  /usr/include/c++/4.0.0/powerpc-apple-darwin9/bits/ctype_base.h \
+  /usr/include/c++/4.0.0/powerpc-apple-darwin9/bits/ctype_inline.h \
+  /usr/include/c++/4.0.0/bits/codecvt.h \
+  /usr/include/c++/4.0.0/powerpc-apple-darwin9/bits/time_members.h \
+  /usr/include/c++/4.0.0/powerpc-apple-darwin9/bits/messages_members.h \
+  /usr/include/c++/4.0.0/bits/basic_ios.tcc \
+  /usr/include/c++/4.0.0/bits/ostream.tcc /usr/include/c++/4.0.0/locale \
+  /usr/include/c++/4.0.0/bits/locale_facets.tcc \
+  /usr/include/c++/4.0.0/istream /usr/include/c++/4.0.0/bits/istream.tcc \
+  /System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/universal-darwin9.0/ruby.h \
+  /System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/universal-darwin9.0/config.h \
+  /System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/universal-darwin9.0/defines.h \
+  /usr/lib/gcc/powerpc-apple-darwin9/4.0.1/include/syslimits.h \
+  /System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/universal-darwin9.0/missing.h \
+  /usr/include/sys/time.h /usr/include/sys/types.h \
+  /System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/universal-darwin9.0/intern.h


Property changes on: antargis/trunk/rookey/spec/cpp/ag_rubyobj.cc
___________________________________________________________________
Name: svn:mime-type
   + text/plain

Added: antargis/trunk/rookey/spec/helper_spec.rb
===================================================================
--- antargis/trunk/rookey/spec/helper_spec.rb	2008-03-26 19:30:10 UTC (rev 1236)
+++ antargis/trunk/rookey/spec/helper_spec.rb	2008-03-28 16:59:36 UTC (rev 1237)
@@ -0,0 +1,125 @@
+require 'pp'
+
+def checkExe(exe)
+  puts `#{exe}`
+  $?.should == 0
+end
+
+def local(var)
+  File.expand_path(var.my)
+end
+
+class FileInspector
+  def initialize(file)
+    @filename=file
+    @mtime=File.mtime(file)
+    sleep(2)
+  end
+  
+  def touched?
+    curtime=File.mtime(@filename)
+    puts "#{@mtime}!=#{curtime}"
+    @mtime!=curtime
+  end
+  def touch(file)
+    checkExe("touch #{file}")
+  end
+end
+
+def inspectFile(filename,&block)
+  ins=FileInspector.new(filename)
+  ins.instance_eval(&block)
+  ins
+end
+
+class Rakefile
+  def method_missing(name)
+    checkExe("rake #{name}")
+  end
+end
+
+class RakefileConfig
+  
+  class Var
+    attr_reader :my
+    def initialize(v,m=nil)
+      @s=v.to_s
+      @my=m
+    end
+    def to_s
+      @s
+    end
+  end
+  
+  def initialize
+    @tasks=[]
+    @varcounter=0
+  end
+  
+  def link_dll(what)
+    var=makeVar
+    swigname="File.split(#{what}.flatten.select{|f|f=~/swig/}[0])[1].sub(/_swig.*/,'')"
+    @tasks << "#{var}=Rookey.link_dll("+swigname+",#{what})"
+    Var.new(var)    
+  end
+  def link_exe(what)
+    var=makeVar
+    myFile=dummyFile
+    @tasks << "#{var}=Rookey.link_exe('"+myFile+"',#{what})"
+    Var.new(var,myFile)
+  end
+  
+  def compile(files)
+    var=makeVar
+    @tasks << var+"=Rookey.compile(["+files.map{|f|f.is_a?(String)?"'#{f}'":f}.join(",")+"])"
+    Var.new(var)
+  end
+  
+  def swig(inputs)
+    var=makeVar
+    var2=makeVar
+    swigName=dummyFile
+    @tasks << var +"=Rookey.swig_interface('#{swigName}'=>["+inputs.map{|f|f.is_a?(String)?"'#{f}'":f}.join(",")+"])"
+    @tasks << var2 +"=Rookey.swig('#{swigName}_swig.cc'=>["+var+"])"
+    Var.new(var2)
+  end
+  
+  def write
+    puts "RUN"
+    content=@tasks.join("\n")
+    makeRakefile(content)
+  end
+  def default(r)
+    @tasks << "task :default=>#{r}"
+  end
+
+private
+  def dummyFile
+    @varcounter+=1
+    f="file#{@varcounter}"
+    f
+  end
+
+  def makeVar
+    @varcounter+=1
+    "var#{@varcounter}"
+  end
+  
+  def makeRakefile(content)
+    fd=File.open("Rakefile","w")
+    fd.puts "require '../tasks.rb'"
+    fd.puts "require 'rake/clean.rb'"
+    fd.puts content
+    fd.close
+  end
+end
+
+def rake(&block)
+  rakefile=RakefileConfig.new
+  #yield rakefile
+  r=rakefile.instance_eval(&block)
+  
+  rakefile.default(r)
+  rakefile.write
+  Rakefile.new
+end

Deleted: antargis/trunk/rookey/spec/interface.i
===================================================================
--- antargis/trunk/rookey/spec/interface.i	2008-03-26 19:30:10 UTC (rev 1236)
+++ antargis/trunk/rookey/spec/interface.i	2008-03-28 16:59:36 UTC (rev 1237)
@@ -1 +0,0 @@
-%module antargis
\ No newline at end of file

Modified: antargis/trunk/rookey/spec/main.cc
===================================================================
--- antargis/trunk/rookey/spec/main.cc	2008-03-26 19:30:10 UTC (rev 1236)
+++ antargis/trunk/rookey/spec/main.cc	2008-03-28 16:59:36 UTC (rev 1237)
@@ -1,7 +1,9 @@
 #include <iostream>
+#include "main.h"
 
 int main()
   {
+    m();
     std::cout<<"ok"<<std::endl;
     return 0;
-  }
\ No newline at end of file
+  }

Added: antargis/trunk/rookey/spec/main.h
===================================================================
--- antargis/trunk/rookey/spec/main.h	2008-03-26 19:30:10 UTC (rev 1236)
+++ antargis/trunk/rookey/spec/main.h	2008-03-28 16:59:36 UTC (rev 1237)
@@ -0,0 +1,13 @@
+#ifndef MAIN_H
+#define MAIN_H
+
+
+#include <iostream>
+
+inline int m()
+  {
+    std::cout<<"yup"<<std::endl;
+    return 0;
+  }
+
+#endif


Property changes on: antargis/trunk/rookey/spec/main.h
___________________________________________________________________
Name: svn:mime-type
   + text/plain

Modified: antargis/trunk/rookey/spec/spec_rookey.rb
===================================================================
--- antargis/trunk/rookey/spec/spec_rookey.rb	2008-03-26 19:30:10 UTC (rev 1236)
+++ antargis/trunk/rookey/spec/spec_rookey.rb	2008-03-28 16:59:36 UTC (rev 1237)
@@ -1,3 +1,9 @@
+require File.join(File.split(__FILE__)[0],"helper_spec.rb")
+
+Dir.chdir(File.split(__FILE__)[0])
+
+
+
 describe "Dependencies" do
   describe "for swig" do
     it "should handle interface-files correctly"
@@ -6,10 +12,33 @@
   end
   describe "for gcc" do
     it "should handle c-files correctly"
-    it "should handle depending header files correctly"
+    it "should handle depending header files correctly" do
+      exe=nil
+      rakefile=rake do
+        exe=link_exe(compile("main.cc"))
+      end
+      rakefile.default
+      checkExe(local(exe))
+      inspectFile(local(exe)) do
+        touch("main.h")
+        rakefile.default
+      end.should be_touched
+    end
+    it "link should include cleanup" do
+      exe=nil
+      rakefile=rake do
+        exe=link_exe(compile("main.cc"))
+      end
+      rakefile.default
+      File.exists?(local(exe)).should be_true
+      rakefile.clean
+      File.exists?(local(exe)).should be_false
+    end
   end
+  
 end
 
+
 describe "Config" do
   it "should have an interface for configuring profiling, debugging, paths and so on"
   it "should handle config-scripts in correct order"
@@ -20,5 +49,23 @@
 end
 
 describe "Interface generation" do
-  it "should generate directors for all ruby-classes"
-end
\ No newline at end of file
+  it "should generate directors for all ruby-classes" do
+    dll=nil
+    rakefile=rake do 
+      dll=link_dll(compile(["main.cc",swig("a.h")]))
+    end
+    rakefile.default
+    # run my test
+    ruby do
+      c "require '#{local(dll)}"
+      c "B.new"
+    end
+    
+    rakefile.clean
+  end
+end
+
+
+describe "Swig tests" do
+end
+

Added: antargis/trunk/rookey/spec/test
===================================================================
(Binary files differ)


Property changes on: antargis/trunk/rookey/spec/test
___________________________________________________________________
Name: svn:executable
   + *
Name: svn:mime-type
   + application/octet-stream

Added: antargis/trunk/rookey/spec/test.c
===================================================================
--- antargis/trunk/rookey/spec/test.c	2008-03-26 19:30:10 UTC (rev 1236)
+++ antargis/trunk/rookey/spec/test.c	2008-03-28 16:59:36 UTC (rev 1237)
@@ -0,0 +1 @@
+extern "C" void Mix_LoadMus();int main(){return 0;}


Property changes on: antargis/trunk/rookey/spec/test.c
___________________________________________________________________
Name: svn:mime-type
   + text/plain

Added: antargis/trunk/rookey/spec_output.html
===================================================================
--- antargis/trunk/rookey/spec_output.html	2008-03-26 19:30:10 UTC (rev 1236)
+++ antargis/trunk/rookey/spec_output.html	2008-03-28 16:59:36 UTC (rev 1237)
@@ -0,0 +1,250 @@
+<?xml version="1.0" encoding="UTF-8"?>
+<!DOCTYPE html 
+  PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
+  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
+<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
+<head>
+  <title>RSpec results</title>
+  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
+  <meta http-equiv="Expires" content="-1" />
+  <meta http-equiv="Pragma" content="no-cache" />
+  <style type="text/css">
+  body {
+    margin: 0;
+    padding: 0;
+    background: #fff;
+    font-size: 80%;
+  }
+  </style>
+</head>
+<body>
+<div class="rspec-report">
+  <script type="text/javascript">
+    // <![CDATA[
+function moveProgressBar(percentDone) {
+  document.getElementById("rspec-header").style.width = percentDone +"%";
+}
+function makeRed(element_id) {
+  document.getElementById(element_id).style.background = '#C40D0D';
+  document.getElementById(element_id).style.color = '#FFFFFF';
+}
+
+function makeYellow(element_id) {
+  if (element_id == "rspec-header" && document.getElementById(element_id).style.background != '#C40D0D')
+  {
+    document.getElementById(element_id).style.background = '#FAF834';
+    document.getElementById(element_id).style.color = '#000000';
+  }
+  else
+  {
+    document.getElementById(element_id).style.background = '#FAF834';
+    document.getElementById(element_id).style.color = '#000000';
+  }
+}
+
+    // ]]>
+  </script>
+  <style type="text/css">
+#rspec-header {
+  background: #65C400; color: #fff;
+}
+
+.rspec-report h1 {
+  margin: 0px 10px 0px 10px;
+  padding: 10px;
+  font-family: "Lucida Grande", Helvetica, sans-serif;
+  font-size: 1.8em;
+}
+
+#summary {
+  margin: 0; padding: 5px 10px;
+  font-family: "Lucida Grande", Helvetica, sans-serif;
+  text-align: right;
+  position: absolute;
+  top: 0px;
+  right: 0px;
+}
+
+#summary p {
+  margin: 0 0 0 2px;
+}
+
+#summary #totals {
+  font-size: 1.2em;
+}
+
+.example_group {
+  margin: 0 10px 5px;
+  background: #fff;
+}
+
+dl {
+  margin: 0; padding: 0 0 5px;
+  font: normal 11px "Lucida Grande", Helvetica, sans-serif;
+}
+
+dt {
+  padding: 3px;
+  background: #65C400;
+  color: #fff;
+  font-weight: bold;
+}
+
+dd {
+  margin: 5px 0 5px 5px;
+  padding: 3px 3px 3px 18px;
+}
+
+dd.spec.passed {
+  border-left: 5px solid #65C400;
+  border-bottom: 1px solid #65C400;
+  background: #DBFFB4; color: #3D7700;
+}
+
+dd.spec.failed {
+  border-left: 5px solid #C20000;
+  border-bottom: 1px solid #C20000;
+  color: #C20000; background: #FFFBD3;
+}
+
+dd.spec.not_implemented {
+  border-left: 5px solid #FAF834;
+  border-bottom: 1px solid #FAF834;
+  background: #FCFB98; color: #131313;
+}
+
+dd.spec.pending_fixed {
+  border-left: 5px solid #0000C2;
+  border-bottom: 1px solid #0000C2;
+  color: #0000C2; background: #D3FBFF;
+}
+
+.backtrace {
+  color: #000;
+  font-size: 12px;
+}
+
+a {
+  color: #BE5C00;
+}
+
+/* Ruby code, style similar to vibrant ink */
+.ruby {
+  font-size: 12px;
+  font-family: monospace;
+  color: white;
+  background-color: black;
+  padding: 0.1em 0 0.2em 0;
+}
+
+.ruby .keyword { color: #FF6600; }
+.ruby .constant { color: #339999; }
+.ruby .attribute { color: white; }
+.ruby .global { color: white; }
+.ruby .module { color: white; }
+.ruby .class { color: white; }
+.ruby .string { color: #66FF00; }
+.ruby .ident { color: white; }
+.ruby .method { color: #FFCC00; }
+.ruby .number { color: white; }
+.ruby .char { color: white; }
+.ruby .comment { color: #9933CC; }
+.ruby .symbol { color: white; }
+.ruby .regex { color: #44B4CC; }
+.ruby .punct { color: white; }
+.ruby .escape { color: white; }
+.ruby .interp { color: white; }
+.ruby .expr { color: white; }
+
+.ruby .offending { background-color: gray; }
+.ruby .linenum {
+  width: 75px;
+  padding: 0.1em 1em 0.2em 0;
+  color: #000000;
+  background-color: #FFFBD3;
+}
+
+  </style>
+
+<div id="rspec-header">
+  <h1>RSpec Results</h1>
+
+  <div id="summary">
+    <p id="totals">&nbsp;</p>
+    <p id="duration">&nbsp;</p>
+  </div>
+</div>
+
+<div class="results">
+<div class="example_group">
+  <dl>
+  <dt id="example_group_1">Dependencies for swig</dt>
+    <script type="text/javascript">makeYellow('rspec-header');</script>
+    <script type="text/javascript">makeYellow('example_group_1');</script>
+    <script type="text/javascript">moveProgressBar('7.6');</script>
+    <dd class="spec not_implemented"><span class="not_implemented_spec_name">should handle interface-files correctly (PENDING: Not Yet Implemented)</span></dd>
+    <script type="text/javascript">makeYellow('rspec-header');</script>
+    <script type="text/javascript">makeYellow('example_group_1');</script>
+    <script type="text/javascript">moveProgressBar('15.3');</script>
+    <dd class="spec not_implemented"><span class="not_implemented_spec_name">should handle depending header files correctly (PENDING: Not Yet Implemented)</span></dd>
+    <script type="text/javascript">makeYellow('rspec-header');</script>
+    <script type="text/javascript">makeYellow('example_group_1');</script>
+    <script type="text/javascript">moveProgressBar('23.0');</script>
+    <dd class="spec not_implemented"><span class="not_implemented_spec_name">the compiler should be called (PENDING: Not Yet Implemented)</span></dd>
+  </dl>
+</div>
+<div class="example_group">
+  <dl>
+  <dt id="example_group_2">Dependencies for gcc</dt>
+    <script type="text/javascript">makeYellow('rspec-header');</script>
+    <script type="text/javascript">makeYellow('example_group_2');</script>
+    <script type="text/javascript">moveProgressBar('30.7');</script>
+    <dd class="spec not_implemented"><span class="not_implemented_spec_name">should handle c-files correctly (PENDING: Not Yet Implemented)</span></dd>
+    <script type="text/javascript">moveProgressBar('38.4');</script>
+    <dd class="spec passed"><span class="passed_spec_name">should handle depending header files correctly</span></dd>
+    <script type="text/javascript">moveProgressBar('46.1');</script>
+    <dd class="spec passed"><span class="passed_spec_name">link should include cleanup</span></dd>
+  </dl>
+</div>
+<div class="example_group">
+  <dl>
+  <dt id="example_group_3">Config</dt>
+    <script type="text/javascript">makeYellow('rspec-header');</script>
+    <script type="text/javascript">makeYellow('example_group_3');</script>
+    <script type="text/javascript">moveProgressBar('53.8');</script>
+    <dd class="spec not_implemented"><span class="not_implemented_spec_name">should have an interface for configuring profiling, debugging, paths and so on (PENDING: Not Yet Implemented)</span></dd>
+    <script type="text/javascript">makeYellow('rspec-header');</script>
+    <script type="text/javascript">makeYellow('example_group_3');</script>
+    <script type="text/javascript">moveProgressBar('61.5');</script>
+    <dd class="spec not_implemented"><span class="not_implemented_spec_name">should handle config-scripts in correct order (PENDING: Not Yet Implemented)</span></dd>
+    <script type="text/javascript">makeYellow('rspec-header');</script>
+    <script type="text/javascript">makeYellow('example_group_3');</script>
+    <script type="text/javascript">moveProgressBar('69.2');</script>
+    <dd class="spec not_implemented"><span class="not_implemented_spec_name">should find libraries (PENDING: Not Yet Implemented)</span></dd>
+    <script type="text/javascript">makeYellow('rspec-header');</script>
+    <script type="text/javascript">makeYellow('example_group_3');</script>
+    <script type="text/javascript">moveProgressBar('76.9');</script>
+    <dd class="spec not_implemented"><span class="not_implemented_spec_name">should find programs (PENDING: Not Yet Implemented)</span></dd>
+    <script type="text/javascript">makeYellow('rspec-header');</script>
+    <script type="text/javascript">makeYellow('example_group_3');</script>
+    <script type="text/javascript">moveProgressBar('84.6');</script>
+    <dd class="spec not_implemented"><span class="not_implemented_spec_name">should check libraries for functions (PENDING: Not Yet Implemented)</span></dd>
+    <script type="text/javascript">makeYellow('rspec-header');</script>
+    <script type="text/javascript">makeYellow('example_group_3');</script>
+    <script type="text/javascript">moveProgressBar('92.3');</script>
+    <dd class="spec not_implemented"><span class="not_implemented_spec_name">should have an option for using mingw (PENDING: Not Yet Implemented)</span></dd>
+  </dl>
+</div>
+<div class="example_group">
+  <dl>
+  <dt id="example_group_4">Interface generation</dt>
+    <script type="text/javascript">moveProgressBar('100.0');</script>
+    <dd class="spec passed"><span class="passed_spec_name">should generate directors for all ruby-classes</span></dd>
+  </dl>
+</div>
+<script type="text/javascript">document.getElementById('duration').innerHTML = "Finished in <strong>8.36383 seconds</strong>";</script>
+<script type="text/javascript">document.getElementById('totals').innerHTML = "13 examples, 0 failures, 10 pending";</script>
+</div>
+</div>
+</body>
+</html>


Property changes on: antargis/trunk/rookey/spec_output.html
___________________________________________________________________
Name: svn:mime-type
   + text/plain

Deleted: antargis/trunk/rookey/swig.cc
===================================================================
--- antargis/trunk/rookey/swig.cc	2008-03-26 19:30:10 UTC (rev 1236)
+++ antargis/trunk/rookey/swig.cc	2008-03-28 16:59:36 UTC (rev 1237)
@@ -1,2029 +0,0 @@
-/* ----------------------------------------------------------------------------
- * This file was automatically generated by SWIG (http://www.swig.org).
- * Version 1.3.33
- * 
- * This file is not intended to be easily readable and contains a number of 
- * coding conventions designed to improve portability and efficiency. Do not make
- * changes to this file unless you know what you are doing--modify the SWIG 
- * interface file instead. 
- * ----------------------------------------------------------------------------- */
-
-#define SWIGRUBY
-
-#ifdef __cplusplus
-template<typename T> class SwigValueWrapper {
-    T *tt;
-public:
-    SwigValueWrapper() : tt(0) { }
-    SwigValueWrapper(const SwigValueWrapper<T>& rhs) : tt(new T(*rhs.tt)) { }
-    SwigValueWrapper(const T& t) : tt(new T(t)) { }
-    ~SwigValueWrapper() { delete tt; } 
-    SwigValueWrapper& operator=(const T& t) { delete tt; tt = new T(t); return *this; }
-    operator T&() const { return *tt; }
-    T *operator&() { return tt; }
-private:
-    SwigValueWrapper& operator=(const SwigValueWrapper<T>& rhs);
-};
-
-template <typename T> T SwigValueInit() {
-  return T();
-}
-#endif
-
-/* -----------------------------------------------------------------------------
- *  This section contains generic SWIG labels for method/variable
- *  declarations/attributes, and other compiler dependent labels.
- * ----------------------------------------------------------------------------- */
-
-/* template workaround for compilers that cannot correctly implement the C++ standard */
-#ifndef SWIGTEMPLATEDISAMBIGUATOR
-# if defined(__SUNPRO_CC) && (__SUNPRO_CC <= 0x560)
-#  define SWIGTEMPLATEDISAMBIGUATOR template
-# elif defined(__HP_aCC)
-/* Needed even with `aCC -AA' when `aCC -V' reports HP ANSI C++ B3910B A.03.55 */
-/* If we find a maximum version that requires this, the test would be __HP_aCC <= 35500 for A.03.55 */
-#  define SWIGTEMPLATEDISAMBIGUATOR template
-# else
-#  define SWIGTEMPLATEDISAMBIGUATOR
-# endif
-#endif
-
-/* inline attribute */
-#ifndef SWIGINLINE
-# if defined(__cplusplus) || (defined(__GNUC__) && !defined(__STRICT_ANSI__))
-#   define SWIGINLINE inline
-# else
-#   define SWIGINLINE
-# endif
-#endif
-
-/* attribute recognised by some compilers to avoid 'unused' warnings */
-#ifndef SWIGUNUSED
-# if defined(__GNUC__)
-#   if !(defined(__cplusplus)) || (__GNUC__ > 3 || (__GNUC__ == 3 && __GNUC_MINOR__ >= 4))
-#     define SWIGUNUSED __attribute__ ((__unused__)) 
-#   else
-#     define SWIGUNUSED
-#   endif
-# elif defined(__ICC)
-#   define SWIGUNUSED __attribute__ ((__unused__)) 
-# else
-#   define SWIGUNUSED 
-# endif
-#endif
-
-#ifndef SWIGUNUSEDPARM
-# ifdef __cplusplus
-#   define SWIGUNUSEDPARM(p)
-# else
-#   define SWIGUNUSEDPARM(p) p SWIGUNUSED 
-# endif
-#endif
-
-/* internal SWIG method */
-#ifndef SWIGINTERN
-# define SWIGINTERN static SWIGUNUSED
-#endif
-
-/* internal inline SWIG method */
-#ifndef SWIGINTERNINLINE
-# define SWIGINTERNINLINE SWIGINTERN SWIGINLINE
-#endif
-
-/* exporting methods */
-#if (__GNUC__ >= 4) || (__GNUC__ == 3 && __GNUC_MINOR__ >= 4)
-#  ifndef GCC_HASCLASSVISIBILITY
-#    define GCC_HASCLASSVISIBILITY
-#  endif
-#endif
-
-#ifndef SWIGEXPORT
-# if defined(_WIN32) || defined(__WIN32__) || defined(__CYGWIN__)
-#   if defined(STATIC_LINKED)
-#     define SWIGEXPORT
-#   else
-#     define SWIGEXPORT __declspec(dllexport)
-#   endif
-# else
-#   if defined(__GNUC__) && defined(GCC_HASCLASSVISIBILITY)
-#     define SWIGEXPORT __attribute__ ((visibility("default")))
-#   else
-#     define SWIGEXPORT
-#   endif
-# endif
-#endif
-
-/* calling conventions for Windows */
-#ifndef SWIGSTDCALL
-# if defined(_WIN32) || defined(__WIN32__) || defined(__CYGWIN__)
-#   define SWIGSTDCALL __stdcall
-# else
-#   define SWIGSTDCALL
-# endif 
-#endif
-
-/* Deal with Microsoft's attempt at deprecating C standard runtime functions */
-#if !defined(SWIG_NO_CRT_SECURE_NO_DEPRECATE) && defined(_MSC_VER) && !defined(_CRT_SECURE_NO_DEPRECATE)
-# define _CRT_SECURE_NO_DEPRECATE
-#endif
-
-/* Deal with Microsoft's attempt at deprecating methods in the standard C++ library */
-#if !defined(SWIG_NO_SCL_SECURE_NO_DEPRECATE) && defined(_MSC_VER) && !defined(_SCL_SECURE_NO_DEPRECATE)
-# define _SCL_SECURE_NO_DEPRECATE
-#endif
-
-
-/* -----------------------------------------------------------------------------
- *  This section contains generic SWIG labels for method/variable
- *  declarations/attributes, and other compiler dependent labels.
- * ----------------------------------------------------------------------------- */
-
-/* template workaround for compilers that cannot correctly implement the C++ standard */
-#ifndef SWIGTEMPLATEDISAMBIGUATOR
-# if defined(__SUNPRO_CC) && (__SUNPRO_CC <= 0x560)
-#  define SWIGTEMPLATEDISAMBIGUATOR template
-# elif defined(__HP_aCC)
-/* Needed even with `aCC -AA' when `aCC -V' reports HP ANSI C++ B3910B A.03.55 */
-/* If we find a maximum version that requires this, the test would be __HP_aCC <= 35500 for A.03.55 */
-#  define SWIGTEMPLATEDISAMBIGUATOR template
-# else
-#  define SWIGTEMPLATEDISAMBIGUATOR
-# endif
-#endif
-
-/* inline attribute */
-#ifndef SWIGINLINE
-# if defined(__cplusplus) || (defined(__GNUC__) && !defined(__STRICT_ANSI__))
-#   define SWIGINLINE inline
-# else
-#   define SWIGINLINE
-# endif
-#endif
-
-/* attribute recognised by some compilers to avoid 'unused' warnings */
-#ifndef SWIGUNUSED
-# if defined(__GNUC__)
-#   if !(defined(__cplusplus)) || (__GNUC__ > 3 || (__GNUC__ == 3 && __GNUC_MINOR__ >= 4))
-#     define SWIGUNUSED __attribute__ ((__unused__)) 
-#   else
-#     define SWIGUNUSED
-#   endif
-# elif defined(__ICC)
-#   define SWIGUNUSED __attribute__ ((__unused__)) 
-# else
-#   define SWIGUNUSED 
-# endif
-#endif
-
-#ifndef SWIGUNUSEDPARM
-# ifdef __cplusplus
-#   define SWIGUNUSEDPARM(p)
-# else
-#   define SWIGUNUSEDPARM(p) p SWIGUNUSED 
-# endif
-#endif
-
-/* internal SWIG method */
-#ifndef SWIGINTERN
-# define SWIGINTERN static SWIGUNUSED
-#endif
-
-/* internal inline SWIG method */
-#ifndef SWIGINTERNINLINE
-# define SWIGINTERNINLINE SWIGINTERN SWIGINLINE
-#endif
-
-/* exporting methods */
-#if (__GNUC__ >= 4) || (__GNUC__ == 3 && __GNUC_MINOR__ >= 4)
-#  ifndef GCC_HASCLASSVISIBILITY
-#    define GCC_HASCLASSVISIBILITY
-#  endif
-#endif
-
-#ifndef SWIGEXPORT
-# if defined(_WIN32) || defined(__WIN32__) || defined(__CYGWIN__)
-#   if defined(STATIC_LINKED)
-#     define SWIGEXPORT
-#   else
-#     define SWIGEXPORT __declspec(dllexport)
-#   endif
-# else
-#   if defined(__GNUC__) && defined(GCC_HASCLASSVISIBILITY)
-#     define SWIGEXPORT __attribute__ ((visibility("default")))
-#   else
-#     define SWIGEXPORT
-#   endif
-# endif
-#endif
-
-/* calling conventions for Windows */
-#ifndef SWIGSTDCALL
-# if defined(_WIN32) || defined(__WIN32__) || defined(__CYGWIN__)
-#   define SWIGSTDCALL __stdcall
-# else
-#   define SWIGSTDCALL
-# endif 
-#endif
-
-/* Deal with Microsoft's attempt at deprecating C standard runtime functions */
-#if !defined(SWIG_NO_CRT_SECURE_NO_DEPRECATE) && defined(_MSC_VER) && !defined(_CRT_SECURE_NO_DEPRECATE)
-# define _CRT_SECURE_NO_DEPRECATE
-#endif
-
-/* Deal with Microsoft's attempt at deprecating methods in the standard C++ library */
-#if !defined(SWIG_NO_SCL_SECURE_NO_DEPRECATE) && defined(_MSC_VER) && !defined(_SCL_SECURE_NO_DEPRECATE)
-# define _SCL_SECURE_NO_DEPRECATE
-#endif
-
-
-/* -----------------------------------------------------------------------------
- * swigrun.swg
- *
- * This file contains generic CAPI SWIG runtime support for pointer
- * type checking.
- * ----------------------------------------------------------------------------- */
-
-/* This should only be incremented when either the layout of swig_type_info changes,
-   or for whatever reason, the runtime changes incompatibly */
-#define SWIG_RUNTIME_VERSION "3"
-
-/* define SWIG_TYPE_TABLE_NAME as "SWIG_TYPE_TABLE" */
-#ifdef SWIG_TYPE_TABLE
-# define SWIG_QUOTE_STRING(x) #x
-# define SWIG_EXPAND_AND_QUOTE_STRING(x) SWIG_QUOTE_STRING(x)
-# define SWIG_TYPE_TABLE_NAME SWIG_EXPAND_AND_QUOTE_STRING(SWIG_TYPE_TABLE)
-#else
-# define SWIG_TYPE_TABLE_NAME
-#endif
-
-/*
-  You can use the SWIGRUNTIME and SWIGRUNTIMEINLINE macros for
-  creating a static or dynamic library from the swig runtime code.
-  In 99.9% of the cases, swig just needs to declare them as 'static'.
-  
-  But only do this if is strictly necessary, ie, if you have problems
-  with your compiler or so.
-*/
-
-#ifndef SWIGRUNTIME
-# define SWIGRUNTIME SWIGINTERN
-#endif
-
-#ifndef SWIGRUNTIMEINLINE
-# define SWIGRUNTIMEINLINE SWIGRUNTIME SWIGINLINE
-#endif
-
-/*  Generic buffer size */
-#ifndef SWIG_BUFFER_SIZE
-# define SWIG_BUFFER_SIZE 1024
-#endif
-
-/* Flags for pointer conversions */
-#define SWIG_POINTER_DISOWN        0x1
-
-/* Flags for new pointer objects */
-#define SWIG_POINTER_OWN           0x1
-
-
-/* 
-   Flags/methods for returning states.
-   
-   The swig conversion methods, as ConvertPtr, return and integer 
-   that tells if the conversion was successful or not. And if not,
-   an error code can be returned (see swigerrors.swg for the codes).
-   
-   Use the following macros/flags to set or process the returning
-   states.
-   
-   In old swig versions, you usually write code as:
-
-     if (SWIG_ConvertPtr(obj,vptr,ty.flags) != -1) {
-       // success code
-     } else {
-       //fail code
-     }
-
-   Now you can be more explicit as:
-
-    int res = SWIG_ConvertPtr(obj,vptr,ty.flags);
-    if (SWIG_IsOK(res)) {
-      // success code
-    } else {
-      // fail code
-    }
-
-   that seems to be the same, but now you can also do
-
-    Type *ptr;
-    int res = SWIG_ConvertPtr(obj,(void **)(&ptr),ty.flags);
-    if (SWIG_IsOK(res)) {
-      // success code
-      if (SWIG_IsNewObj(res) {
-        ...
-	delete *ptr;
-      } else {
-        ...
-      }
-    } else {
-      // fail code
-    }
-    
-   I.e., now SWIG_ConvertPtr can return new objects and you can
-   identify the case and take care of the deallocation. Of course that
-   requires also to SWIG_ConvertPtr to return new result values, as
-
-      int SWIG_ConvertPtr(obj, ptr,...) {         
-        if (<obj is ok>) {			       
-          if (<need new object>) {		       
-            *ptr = <ptr to new allocated object>; 
-            return SWIG_NEWOBJ;		       
-          } else {				       
-            *ptr = <ptr to old object>;	       
-            return SWIG_OLDOBJ;		       
-          } 				       
-        } else {				       
-          return SWIG_BADOBJ;		       
-        }					       
-      }
-
-   Of course, returning the plain '0(success)/-1(fail)' still works, but you can be
-   more explicit by returning SWIG_BADOBJ, SWIG_ERROR or any of the
-   swig errors code.
-
-   Finally, if the SWIG_CASTRANK_MODE is enabled, the result code
-   allows to return the 'cast rank', for example, if you have this
-
-       int food(double)
-       int fooi(int);
-
-   and you call
- 
-      food(1)   // cast rank '1'  (1 -> 1.0)
-      fooi(1)   // cast rank '0'
-
-   just use the SWIG_AddCast()/SWIG_CheckState()
-
-
- */
-#define SWIG_OK                    (0) 
-#define SWIG_ERROR                 (-1)
-#define SWIG_IsOK(r)               (r >= 0)
-#define SWIG_ArgError(r)           ((r != SWIG_ERROR) ? r : SWIG_TypeError)  
-
-/* The CastRankLimit says how many bits are used for the cast rank */
-#define SWIG_CASTRANKLIMIT         (1 << 8)
-/* The NewMask denotes the object was created (using new/malloc) */
-#define SWIG_NEWOBJMASK            (SWIG_CASTRANKLIMIT  << 1)
-/* The TmpMask is for in/out typemaps that use temporal objects */
-#define SWIG_TMPOBJMASK            (SWIG_NEWOBJMASK << 1)
-/* Simple returning values */
-#define SWIG_BADOBJ                (SWIG_ERROR)
-#define SWIG_OLDOBJ                (SWIG_OK)
-#define SWIG_NEWOBJ                (SWIG_OK | SWIG_NEWOBJMASK)
-#define SWIG_TMPOBJ                (SWIG_OK | SWIG_TMPOBJMASK)
-/* Check, add and del mask methods */
-#define SWIG_AddNewMask(r)         (SWIG_IsOK(r) ? (r | SWIG_NEWOBJMASK) : r)
-#define SWIG_DelNewMask(r)         (SWIG_IsOK(r) ? (r & ~SWIG_NEWOBJMASK) : r)
-#define SWIG_IsNewObj(r)           (SWIG_IsOK(r) && (r & SWIG_NEWOBJMASK))
-#define SWIG_AddTmpMask(r)         (SWIG_IsOK(r) ? (r | SWIG_TMPOBJMASK) : r)
-#define SWIG_DelTmpMask(r)         (SWIG_IsOK(r) ? (r & ~SWIG_TMPOBJMASK) : r)
-#define SWIG_IsTmpObj(r)           (SWIG_IsOK(r) && (r & SWIG_TMPOBJMASK))
-
-
-/* Cast-Rank Mode */
-#if defined(SWIG_CASTRANK_MODE)
-#  ifndef SWIG_TypeRank
-#    define SWIG_TypeRank             unsigned long
-#  endif
-#  ifndef SWIG_MAXCASTRANK            /* Default cast allowed */
-#    define SWIG_MAXCASTRANK          (2)
-#  endif
-#  define SWIG_CASTRANKMASK          ((SWIG_CASTRANKLIMIT) -1)
-#  define SWIG_CastRank(r)           (r & SWIG_CASTRANKMASK)
-SWIGINTERNINLINE int SWIG_AddCast(int r) { 
-  return SWIG_IsOK(r) ? ((SWIG_CastRank(r) < SWIG_MAXCASTRANK) ? (r + 1) : SWIG_ERROR) : r;
-}
-SWIGINTERNINLINE int SWIG_CheckState(int r) { 
-  return SWIG_IsOK(r) ? SWIG_CastRank(r) + 1 : 0; 
-}
-#else /* no cast-rank mode */
-#  define SWIG_AddCast
-#  define SWIG_CheckState(r) (SWIG_IsOK(r) ? 1 : 0)
-#endif
-
-
-
-
-#include <string.h>
-
-#ifdef __cplusplus
-extern "C" {
-#endif
-
-typedef void *(*swig_converter_func)(void *);
-typedef struct swig_type_info *(*swig_dycast_func)(void **);
-
-/* Structure to store inforomation on one type */
-typedef struct swig_type_info {
-  const char             *name;			/* mangled name of this type */
-  const char             *str;			/* human readable name of this type */
-  swig_dycast_func        dcast;		/* dynamic cast function down a hierarchy */
-  struct swig_cast_info  *cast;			/* linked list of types that can cast into this type */
-  void                   *clientdata;		/* language specific type data */
-  int                    owndata;		/* flag if the structure owns the clientdata */
-} swig_type_info;
-
-/* Structure to store a type and conversion function used for casting */
-typedef struct swig_cast_info {
-  swig_type_info         *type;			/* pointer to type that is equivalent to this type */
-  swig_converter_func     converter;		/* function to cast the void pointers */
-  struct swig_cast_info  *next;			/* pointer to next cast in linked list */
-  struct swig_cast_info  *prev;			/* pointer to the previous cast */
-} swig_cast_info;
-
-/* Structure used to store module information
- * Each module generates one structure like this, and the runtime collects
- * all of these structures and stores them in a circularly linked list.*/
-typedef struct swig_module_info {
-  swig_type_info         **types;		/* Array of pointers to swig_type_info structures that are in this module */
-  size_t                 size;		        /* Number of types in this module */
-  struct swig_module_info *next;		/* Pointer to next element in circularly linked list */
-  swig_type_info         **type_initial;	/* Array of initially generated type structures */
-  swig_cast_info         **cast_initial;	/* Array of initially generated casting structures */
-  void                    *clientdata;		/* Language specific module data */
-} swig_module_info;
-
-/* 
-  Compare two type names skipping the space characters, therefore
-  "char*" == "char *" and "Class<int>" == "Class<int >", etc.
-
-  Return 0 when the two name types are equivalent, as in
-  strncmp, but skipping ' '.
-*/
-SWIGRUNTIME int
-SWIG_TypeNameComp(const char *f1, const char *l1,
-		  const char *f2, const char *l2) {
-  for (;(f1 != l1) && (f2 != l2); ++f1, ++f2) {
-    while ((*f1 == ' ') && (f1 != l1)) ++f1;
-    while ((*f2 == ' ') && (f2 != l2)) ++f2;
-    if (*f1 != *f2) return (*f1 > *f2) ? 1 : -1;
-  }
-  return (int)((l1 - f1) - (l2 - f2));
-}
-
-/*
-  Check type equivalence in a name list like <name1>|<name2>|...
-  Return 0 if not equal, 1 if equal
-*/
-SWIGRUNTIME int
-SWIG_TypeEquiv(const char *nb, const char *tb) {
-  int equiv = 0;
-  const char* te = tb + strlen(tb);
-  const char* ne = nb;
-  while (!equiv && *ne) {
-    for (nb = ne; *ne; ++ne) {
-      if (*ne == '|') break;
-    }
-    equiv = (SWIG_TypeNameComp(nb, ne, tb, te) == 0) ? 1 : 0;
-    if (*ne) ++ne;
-  }
-  return equiv;
-}
-
-/*
-  Check type equivalence in a name list like <name1>|<name2>|...
-  Return 0 if equal, -1 if nb < tb, 1 if nb > tb
-*/
-SWIGRUNTIME int
-SWIG_TypeCompare(const char *nb, const char *tb) {
-  int equiv = 0;
-  const char* te = tb + strlen(tb);
-  const char* ne = nb;
-  while (!equiv && *ne) {
-    for (nb = ne; *ne; ++ne) {
-      if (*ne == '|') break;
-    }
-    equiv = (SWIG_TypeNameComp(nb, ne, tb, te) == 0) ? 1 : 0;
-    if (*ne) ++ne;
-  }
-  return equiv;
-}
-
-
-/* think of this as a c++ template<> or a scheme macro */
-#define SWIG_TypeCheck_Template(comparison, ty)         \
-  if (ty) {                                             \
-    swig_cast_info *iter = ty->cast;                    \
-    while (iter) {                                      \
-      if (comparison) {                                 \
-        if (iter == ty->cast) return iter;              \
-        /* Move iter to the top of the linked list */   \
-        iter->prev->next = iter->next;                  \
-        if (iter->next)                                 \
-          iter->next->prev = iter->prev;                \
-        iter->next = ty->cast;                          \
-        iter->prev = 0;                                 \
-        if (ty->cast) ty->cast->prev = iter;            \
-        ty->cast = iter;                                \
-        return iter;                                    \
-      }                                                 \
-      iter = iter->next;                                \
-    }                                                   \
-  }                                                     \
-  return 0
-
-/*
-  Check the typename
-*/
-SWIGRUNTIME swig_cast_info *
-SWIG_TypeCheck(const char *c, swig_type_info *ty) {
-  SWIG_TypeCheck_Template(strcmp(iter->type->name, c) == 0, ty);
-}
-
-/* Same as previous function, except strcmp is replaced with a pointer comparison */
-SWIGRUNTIME swig_cast_info *
-SWIG_TypeCheckStruct(swig_type_info *from, swig_type_info *into) {
-  SWIG_TypeCheck_Template(iter->type == from, into);
-}
-
-/*
-  Cast a pointer up an inheritance hierarchy
-*/
-SWIGRUNTIMEINLINE void *
-SWIG_TypeCast(swig_cast_info *ty, void *ptr) {
-  return ((!ty) || (!ty->converter)) ? ptr : (*ty->converter)(ptr);
-}
-
-/* 
-   Dynamic pointer casting. Down an inheritance hierarchy
-*/
-SWIGRUNTIME swig_type_info *
-SWIG_TypeDynamicCast(swig_type_info *ty, void **ptr) {
-  swig_type_info *lastty = ty;
-  if (!ty || !ty->dcast) return ty;
-  while (ty && (ty->dcast)) {
-    ty = (*ty->dcast)(ptr);
-    if (ty) lastty = ty;
-  }
-  return lastty;
-}
-
-/*
-  Return the name associated with this type
-*/
-SWIGRUNTIMEINLINE const char *
-SWIG_TypeName(const swig_type_info *ty) {
-  return ty->name;
-}
-
-/*
-  Return the pretty name associated with this type,
-  that is an unmangled type name in a form presentable to the user.
-*/
-SWIGRUNTIME const char *
-SWIG_TypePrettyName(const swig_type_info *type) {
-  /* The "str" field contains the equivalent pretty names of the
-     type, separated by vertical-bar characters.  We choose
-     to print the last name, as it is often (?) the most
-     specific. */
-  if (!type) return NULL;
-  if (type->str != NULL) {
-    const char *last_name = type->str;
-    const char *s;
-    for (s = type->str; *s; s++)
-      if (*s == '|') last_name = s+1;
-    return last_name;
-  }
-  else
-    return type->name;
-}
-
-/* 
-   Set the clientdata field for a type
-*/
-SWIGRUNTIME void
-SWIG_TypeClientData(swig_type_info *ti, void *clientdata) {
-  swig_cast_info *cast = ti->cast;
-  /* if (ti->clientdata == clientdata) return; */
-  ti->clientdata = clientdata;
-  
-  while (cast) {
-    if (!cast->converter) {
-      swig_type_info *tc = cast->type;
-      if (!tc->clientdata) {
-	SWIG_TypeClientData(tc, clientdata);
-      }
-    }    
-    cast = cast->next;
-  }
-}
-SWIGRUNTIME void
-SWIG_TypeNewClientData(swig_type_info *ti, void *clientdata) {
-  SWIG_TypeClientData(ti, clientdata);
-  ti->owndata = 1;
-}
-  
-/*
-  Search for a swig_type_info structure only by mangled name
-  Search is a O(log #types)
-  
-  We start searching at module start, and finish searching when start == end.  
-  Note: if start == end at the beginning of the function, we go all the way around
-  the circular list.
-*/
-SWIGRUNTIME swig_type_info *
-SWIG_MangledTypeQueryModule(swig_module_info *start, 
-                            swig_module_info *end, 
-		            const char *name) {
-  swig_module_info *iter = start;
-  do {
-    if (iter->size) {
-      register size_t l = 0;
-      register size_t r = iter->size - 1;
-      do {
-	/* since l+r >= 0, we can (>> 1) instead (/ 2) */
-	register size_t i = (l + r) >> 1; 
-	const char *iname = iter->types[i]->name;
-	if (iname) {
-	  register int compare = strcmp(name, iname);
-	  if (compare == 0) {	    
-	    return iter->types[i];
-	  } else if (compare < 0) {
-	    if (i) {
-	      r = i - 1;
-	    } else {
-	      break;
-	    }
-	  } else if (compare > 0) {
-	    l = i + 1;
-	  }
-	} else {
-	  break; /* should never happen */
-	}
-      } while (l <= r);
-    }
-    iter = iter->next;
-  } while (iter != end);
-  return 0;
-}
-
-/*
-  Search for a swig_type_info structure for either a mangled name or a human readable name.
-  It first searches the mangled names of the types, which is a O(log #types)
-  If a type is not found it then searches the human readable names, which is O(#types).
-  
-  We start searching at module start, and finish searching when start == end.  
-  Note: if start == end at the beginning of the function, we go all the way around
-  the circular list.
-*/
-SWIGRUNTIME swig_type_info *
-SWIG_TypeQueryModule(swig_module_info *start, 
-                     swig_module_info *end, 
-		     const char *name) {
-  /* STEP 1: Search the name field using binary search */
-  swig_type_info *ret = SWIG_MangledTypeQueryModule(start, end, name);
-  if (ret) {
-    return ret;
-  } else {
-    /* STEP 2: If the type hasn't been found, do a complete search
-       of the str field (the human readable name) */
-    swig_module_info *iter = start;
-    do {
-      register size_t i = 0;
-      for (; i < iter->size; ++i) {
-	if (iter->types[i]->str && (SWIG_TypeEquiv(iter->types[i]->str, name)))
-	  return iter->types[i];
-      }
-      iter = iter->next;
-    } while (iter != end);
-  }
-  
-  /* neither found a match */
-  return 0;
-}
-
-/* 
-   Pack binary data into a string
-*/
-SWIGRUNTIME char *
-SWIG_PackData(char *c, void *ptr, size_t sz) {
-  static const char hex[17] = "0123456789abcdef";
-  register const unsigned char *u = (unsigned char *) ptr;
-  register const unsigned char *eu =  u + sz;
-  for (; u != eu; ++u) {
-    register unsigned char uu = *u;
-    *(c++) = hex[(uu & 0xf0) >> 4];
-    *(c++) = hex[uu & 0xf];
-  }
-  return c;
-}
-
-/* 
-   Unpack binary data from a string
-*/
-SWIGRUNTIME const char *
-SWIG_UnpackData(const char *c, void *ptr, size_t sz) {
-  register unsigned char *u = (unsigned char *) ptr;
-  register const unsigned char *eu = u + sz;
-  for (; u != eu; ++u) {
-    register char d = *(c++);
-    register unsigned char uu;
-    if ((d >= '0') && (d <= '9'))
-      uu = ((d - '0') << 4);
-    else if ((d >= 'a') && (d <= 'f'))
-      uu = ((d - ('a'-10)) << 4);
-    else 
-      return (char *) 0;
-    d = *(c++);
-    if ((d >= '0') && (d <= '9'))
-      uu |= (d - '0');
-    else if ((d >= 'a') && (d <= 'f'))
-      uu |= (d - ('a'-10));
-    else 
-      return (char *) 0;
-    *u = uu;
-  }
-  return c;
-}
-
-/* 
-   Pack 'void *' into a string buffer.
-*/
-SWIGRUNTIME char *
-SWIG_PackVoidPtr(char *buff, void *ptr, const char *name, size_t bsz) {
-  char *r = buff;
-  if ((2*sizeof(void *) + 2) > bsz) return 0;
-  *(r++) = '_';
-  r = SWIG_PackData(r,&ptr,sizeof(void *));
-  if (strlen(name) + 1 > (bsz - (r - buff))) return 0;
-  strcpy(r,name);
-  return buff;
-}
-
-SWIGRUNTIME const char *
-SWIG_UnpackVoidPtr(const char *c, void **ptr, const char *name) {
-  if (*c != '_') {
-    if (strcmp(c,"NULL") == 0) {
-      *ptr = (void *) 0;
-      return name;
-    } else {
-      return 0;
-    }
-  }
-  return SWIG_UnpackData(++c,ptr,sizeof(void *));
-}
-
-SWIGRUNTIME char *
-SWIG_PackDataName(char *buff, void *ptr, size_t sz, const char *name, size_t bsz) {
-  char *r = buff;
-  size_t lname = (name ? strlen(name) : 0);
-  if ((2*sz + 2 + lname) > bsz) return 0;
-  *(r++) = '_';
-  r = SWIG_PackData(r,ptr,sz);
-  if (lname) {
-    strncpy(r,name,lname+1);
-  } else {
-    *r = 0;
-  }
-  return buff;
-}
-
-SWIGRUNTIME const char *
-SWIG_UnpackDataName(const char *c, void *ptr, size_t sz, const char *name) {
-  if (*c != '_') {
-    if (strcmp(c,"NULL") == 0) {
-      memset(ptr,0,sz);
-      return name;
-    } else {
-      return 0;
-    }
-  }
-  return SWIG_UnpackData(++c,ptr,sz);
-}
-
-#ifdef __cplusplus
-}
-#endif
-
-/*  Errors in SWIG */
-#define  SWIG_UnknownError    	   -1 
-#define  SWIG_IOError        	   -2 
-#define  SWIG_RuntimeError   	   -3 
-#define  SWIG_IndexError     	   -4 
-#define  SWIG_TypeError      	   -5 
-#define  SWIG_DivisionByZero 	   -6 
-#define  SWIG_OverflowError  	   -7 
-#define  SWIG_SyntaxError    	   -8 
-#define  SWIG_ValueError     	   -9 
-#define  SWIG_SystemError    	   -10
-#define  SWIG_AttributeError 	   -11
-#define  SWIG_MemoryError    	   -12 
-#define  SWIG_NullReferenceError   -13
-
-
-
-#include <ruby.h>
-
-/* Remove global macros defined in Ruby's win32.h */
-#ifdef write
-# undef write
-#endif
-#ifdef read
-# undef read
-#endif
-
-
-/* Ruby 1.7 defines NUM2LL(), LL2NUM() and ULL2NUM() macros */
-#ifndef NUM2LL
-#define NUM2LL(x) NUM2LONG((x))
-#endif
-#ifndef LL2NUM
-#define LL2NUM(x) INT2NUM((long) (x))
-#endif
-#ifndef ULL2NUM
-#define ULL2NUM(x) UINT2NUM((unsigned long) (x))
-#endif
-
-/* Ruby 1.7 doesn't (yet) define NUM2ULL() */
-#ifndef NUM2ULL
-#ifdef HAVE_LONG_LONG
-#define NUM2ULL(x) rb_num2ull((x))
-#else
-#define NUM2ULL(x) NUM2ULONG(x)
-#endif
-#endif
-
-/* RSTRING_LEN, etc are new in Ruby 1.9, but ->ptr and ->len no longer work */
-/* Define these for older versions so we can just write code the new way */
-#ifndef RSTRING_LEN
-# define RSTRING_LEN(x) RSTRING(x)->len
-#endif
-#ifndef RSTRING_PTR
-# define RSTRING_PTR(x) RSTRING(x)->ptr
-#endif
-#ifndef RARRAY_LEN
-# define RARRAY_LEN(x) RARRAY(x)->len
-#endif
-#ifndef RARRAY_PTR
-# define RARRAY_PTR(x) RARRAY(x)->ptr
-#endif
-
-/*
- * Need to be very careful about how these macros are defined, especially
- * when compiling C++ code or C code with an ANSI C compiler.
- *
- * VALUEFUNC(f) is a macro used to typecast a C function that implements
- * a Ruby method so that it can be passed as an argument to API functions
- * like rb_define_method() and rb_define_singleton_method().
- *
- * VOIDFUNC(f) is a macro used to typecast a C function that implements
- * either the "mark" or "free" stuff for a Ruby Data object, so that it
- * can be passed as an argument to API functions like Data_Wrap_Struct()
- * and Data_Make_Struct().
- */
- 
-#ifdef __cplusplus
-#  ifndef RUBY_METHOD_FUNC /* These definitions should work for Ruby 1.4.6 */
-#    define PROTECTFUNC(f) ((VALUE (*)()) f)
-#    define VALUEFUNC(f) ((VALUE (*)()) f)
-#    define VOIDFUNC(f)  ((void (*)()) f)
-#  else
-#    ifndef ANYARGS /* These definitions should work for Ruby 1.6 */
-#      define PROTECTFUNC(f) ((VALUE (*)()) f)
-#      define VALUEFUNC(f) ((VALUE (*)()) f)
-#      define VOIDFUNC(f)  ((RUBY_DATA_FUNC) f)
-#    else /* These definitions should work for Ruby 1.7+ */
-#      define PROTECTFUNC(f) ((VALUE (*)(VALUE)) f)
-#      define VALUEFUNC(f) ((VALUE (*)(ANYARGS)) f)
-#      define VOIDFUNC(f)  ((RUBY_DATA_FUNC) f)
-#    endif
-#  endif
-#else
-#  define VALUEFUNC(f) (f)
-#  define VOIDFUNC(f) (f)
-#endif
-
-/* Don't use for expressions have side effect */
-#ifndef RB_STRING_VALUE
-#define RB_STRING_VALUE(s) (TYPE(s) == T_STRING ? (s) : (*(volatile VALUE *)&(s) = rb_str_to_str(s)))
-#endif
-#ifndef StringValue
-#define StringValue(s) RB_STRING_VALUE(s)
-#endif
-#ifndef StringValuePtr
-#define StringValuePtr(s) RSTRING_PTR(RB_STRING_VALUE(s))
-#endif
-#ifndef StringValueLen
-#define StringValueLen(s) RSTRING_LEN(RB_STRING_VALUE(s))
-#endif
-#ifndef SafeStringValue
-#define SafeStringValue(v) do {\
-    StringValue(v);\
-    rb_check_safe_str(v);\
-} while (0)
-#endif
-
-#ifndef HAVE_RB_DEFINE_ALLOC_FUNC
-#define rb_define_alloc_func(klass, func) rb_define_singleton_method((klass), "new", VALUEFUNC((func)), -1)
-#define rb_undef_alloc_func(klass) rb_undef_method(CLASS_OF((klass)), "new")
-#endif
-
-static VALUE _mSWIG = Qnil;
-
-/* -----------------------------------------------------------------------------
- * error manipulation
- * ----------------------------------------------------------------------------- */
-
-
-/* Define some additional error types */
-#define SWIG_ObjectPreviouslyDeletedError  -100
-
-
-/* Define custom exceptions for errors that do not map to existing Ruby
-   exceptions.  Note this only works for C++ since a global cannot be
-   initialized by a funtion in C.  For C, fallback to rb_eRuntimeError.*/
-
-SWIGINTERN VALUE 
-getNullReferenceError(void) {
-  static int init = 0;
-  static VALUE rb_eNullReferenceError ;
-  if (!init) {
-    init = 1;
-    rb_eNullReferenceError = rb_define_class("NullReferenceError", rb_eRuntimeError);
-  }
-  return rb_eNullReferenceError;
-} 
-
-SWIGINTERN VALUE 
-getObjectPreviouslyDeletedError(void) {
-  static int init = 0;
-  static VALUE rb_eObjectPreviouslyDeleted ;
-  if (!init) {
-    init = 1;
-    rb_eObjectPreviouslyDeleted = rb_define_class("ObjectPreviouslyDeleted", rb_eRuntimeError);
-  }
-  return rb_eObjectPreviouslyDeleted;
-} 
-
-
-SWIGINTERN VALUE
-SWIG_Ruby_ErrorType(int SWIG_code) {
-  VALUE type;
-  switch (SWIG_code) {
-  case SWIG_MemoryError:
-    type = rb_eNoMemError;
-    break;
-  case SWIG_IOError:
-    type = rb_eIOError;
-    break;
-  case SWIG_RuntimeError:
-    type = rb_eRuntimeError;
-    break;
-  case SWIG_IndexError:
-    type = rb_eIndexError;
-    break;
-  case SWIG_TypeError:
-    type = rb_eTypeError;
-    break;
-  case SWIG_DivisionByZero:
-    type = rb_eZeroDivError;
-    break;
-  case SWIG_OverflowError:
-    type = rb_eRangeError;
-    break;
-  case SWIG_SyntaxError:
-    type = rb_eSyntaxError;
-    break;
-  case SWIG_ValueError:
-    type = rb_eArgError;
-    break;
-  case SWIG_SystemError:
-    type = rb_eFatal;
-    break;
-  case SWIG_AttributeError:
-    type = rb_eRuntimeError;
-    break;
-  case SWIG_NullReferenceError:
-    type = getNullReferenceError();
-    break;
-  case SWIG_ObjectPreviouslyDeletedError:
-    type = getObjectPreviouslyDeletedError();
-    break;
-  case SWIG_UnknownError:
-    type = rb_eRuntimeError;
-    break;
-  default:
-    type = rb_eRuntimeError;
-  }
-  return type;
-}
-
-
-/* This function is called when a user inputs a wrong argument to
-   a method.
- */
-SWIGINTERN 
-const char* Ruby_Format_TypeError( const char* msg,
-				   const char* type, 
-				   const char* name, 
-				   const int argn,
-				   VALUE input )
-{
-  char buf[128];
-  VALUE str;
-  VALUE asStr;
-  if ( msg && *msg )
-    {
-      str = rb_str_new2(msg);
-    }
-  else
-    {
-      str = rb_str_new(NULL, 0);
-    }
-
-  str = rb_str_cat2( str, "Expected argument " );
-  sprintf( buf, "%d of type ", argn-1 );
-  str = rb_str_cat2( str, buf );
-  str = rb_str_cat2( str, type );
-  str = rb_str_cat2( str, ", but got " );
-  str = rb_str_cat2( str, rb_obj_classname(input) );
-  str = rb_str_cat2( str, " " );
-  asStr = rb_inspect(input);
-  if ( RSTRING_LEN(asStr) > 30 )
-    {
-      str = rb_str_cat( str, StringValuePtr(asStr), 30 );
-      str = rb_str_cat2( str, "..." );
-    }
-  else
-    {
-      str = rb_str_append( str, asStr );
-    }
-
-  if ( name )
-    {
-      str = rb_str_cat2( str, "\n\tin SWIG method '" );
-      str = rb_str_cat2( str, name );
-      str = rb_str_cat2( str, "'" );
-    }
-
-  return StringValuePtr( str );
-}
-
-/* This function is called when an overloaded method fails */
-SWIGINTERN 
-void Ruby_Format_OverloadedError(
-				 const int argc,
-				 const int maxargs,
-				 const char* method, 
-				 const char* prototypes 
-				 )
-{
-  const char* msg = "Wrong # of arguments";
-  if ( argc <= maxargs ) msg = "Wrong arguments";
-  rb_raise(rb_eArgError,"%s for overloaded method '%s'.\n"  
-	   "Possible C/C++ prototypes are:\n%s",
-	   msg, method, prototypes);
-}
-
-/* -----------------------------------------------------------------------------
- * See the LICENSE file for information on copyright, usage and redistribution
- * of SWIG, and the README file for authors - http://www.swig.org/release.html.
- *
- * rubytracking.swg
- *
- * This file contains support for tracking mappings from 
- * Ruby objects to C++ objects.  This functionality is needed
- * to implement mark functions for Ruby's mark and sweep
- * garbage collector.
- * ----------------------------------------------------------------------------- */
-
-#ifdef __cplusplus
-extern "C" {
-#endif
-
-/* Ruby 1.8 actually assumes the first case. */
-#if SIZEOF_VOIDP == SIZEOF_LONG
-#  define SWIG2NUM(v) LONG2NUM((unsigned long)v)
-#  define NUM2SWIG(x) (unsigned long)NUM2LONG(x)
-#elif SIZEOF_VOIDP == SIZEOF_LONG_LONG
-#  define SWIG2NUM(v) LL2NUM((unsigned long long)v)
-#  define NUM2SWIG(x) (unsigned long long)NUM2LL(x)
-#else
-#  error sizeof(void*) is not the same as long or long long
-#endif
-
-
-/* Global Ruby hash table to store Trackings from C/C++
-   structs to Ruby Objects. 
-*/
-static VALUE swig_ruby_trackings = Qnil;
-
-/* Global variable that stores a reference to the ruby
-   hash table delete function. */
-static ID swig_ruby_hash_delete;
-
-/* Setup a Ruby hash table to store Trackings */
-SWIGRUNTIME void SWIG_RubyInitializeTrackings(void) {
-  /* Create a ruby hash table to store Trackings from C++ 
-     objects to Ruby objects. */
-
-  /* Try to see if some other .so has already created a 
-     tracking hash table, which we keep hidden in an instance var
-     in the SWIG module.
-     This is done to allow multiple DSOs to share the same
-     tracking table.
-  */
-  ID trackings_id = rb_intern( "@__trackings__" );
-  VALUE verbose = rb_gv_get("VERBOSE");
-  rb_gv_set("VERBOSE", Qfalse);
-  swig_ruby_trackings = rb_ivar_get( _mSWIG, trackings_id );
-  rb_gv_set("VERBOSE", verbose);
-
-  /* No, it hasn't.  Create one ourselves */ 
-  if ( swig_ruby_trackings == Qnil )
-    {
-      swig_ruby_trackings = rb_hash_new();
-      rb_ivar_set( _mSWIG, trackings_id, swig_ruby_trackings );
-    }
-
-  /* Now store a reference to the hash table delete function
-     so that we only have to look it up once.*/
-  swig_ruby_hash_delete = rb_intern("delete");
-}
-
-/* Get a Ruby number to reference a pointer */
-SWIGRUNTIME VALUE SWIG_RubyPtrToReference(void* ptr) {
-  /* We cast the pointer to an unsigned long
-     and then store a reference to it using
-     a Ruby number object. */
-
-  /* Convert the pointer to a Ruby number */
-  return SWIG2NUM(ptr);
-}
-
-/* Get a Ruby number to reference an object */
-SWIGRUNTIME VALUE SWIG_RubyObjectToReference(VALUE object) {
-  /* We cast the object to an unsigned long
-     and then store a reference to it using
-     a Ruby number object. */
-
-  /* Convert the Object to a Ruby number */
-  return SWIG2NUM(object);
-}
-
-/* Get a Ruby object from a previously stored reference */
-SWIGRUNTIME VALUE SWIG_RubyReferenceToObject(VALUE reference) {
-  /* The provided Ruby number object is a reference
-     to the Ruby object we want.*/
-
-  /* Convert the Ruby number to a Ruby object */
-  return NUM2SWIG(reference);
-}
-
-/* Add a Tracking from a C/C++ struct to a Ruby object */
-SWIGRUNTIME void SWIG_RubyAddTracking(void* ptr, VALUE object) {
-  /* In a Ruby hash table we store the pointer and
-     the associated Ruby object.  The trick here is
-     that we cannot store the Ruby object directly - if
-     we do then it cannot be garbage collected.  So
-     instead we typecast it as a unsigned long and
-     convert it to a Ruby number object.*/
-
-  /* Get a reference to the pointer as a Ruby number */
-  VALUE key = SWIG_RubyPtrToReference(ptr);
-
-  /* Get a reference to the Ruby object as a Ruby number */
-  VALUE value = SWIG_RubyObjectToReference(object);
-
-  /* Store the mapping to the global hash table. */
-  rb_hash_aset(swig_ruby_trackings, key, value);
-}
-
-/* Get the Ruby object that owns the specified C/C++ struct */
-SWIGRUNTIME VALUE SWIG_RubyInstanceFor(void* ptr) {
-  /* Get a reference to the pointer as a Ruby number */
-  VALUE key = SWIG_RubyPtrToReference(ptr);
-
-  /* Now lookup the value stored in the global hash table */
-  VALUE value = rb_hash_aref(swig_ruby_trackings, key);
-	
-  if (value == Qnil) {
-    /* No object exists - return nil. */
-    return Qnil;
-  }
-  else {
-    /* Convert this value to Ruby object */
-    return SWIG_RubyReferenceToObject(value);
-  }
-}
-
-/* Remove a Tracking from a C/C++ struct to a Ruby object.  It
-   is very important to remove objects once they are destroyed
-   since the same memory address may be reused later to create
-   a new object. */
-SWIGRUNTIME void SWIG_RubyRemoveTracking(void* ptr) {
-  /* Get a reference to the pointer as a Ruby number */
-  VALUE key = SWIG_RubyPtrToReference(ptr);
-
-  /* Delete the object from the hash table by calling Ruby's
-     do this we need to call the Hash.delete method.*/
-  rb_funcall(swig_ruby_trackings, swig_ruby_hash_delete, 1, key);
-}
-
-/* This is a helper method that unlinks a Ruby object from its
-   underlying C++ object.  This is needed if the lifetime of the
-   Ruby object is longer than the C++ object */
-SWIGRUNTIME void SWIG_RubyUnlinkObjects(void* ptr) {
-  VALUE object = SWIG_RubyInstanceFor(ptr);
-
-  if (object != Qnil) {
-    DATA_PTR(object) = 0;
-  }
-}
-
-
-#ifdef __cplusplus
-}
-#endif
-
-/* -----------------------------------------------------------------------------
- * Ruby API portion that goes into the runtime
- * ----------------------------------------------------------------------------- */
-
-#ifdef __cplusplus
-extern "C" {
-#endif
-
-SWIGINTERN VALUE
-SWIG_Ruby_AppendOutput(VALUE target, VALUE o) {
-  if (NIL_P(target)) {
-    target = o;
-  } else {
-    if (TYPE(target) != T_ARRAY) {
-      VALUE o2 = target;
-      target = rb_ary_new();
-      rb_ary_push(target, o2);
-    }
-    rb_ary_push(target, o);
-  }
-  return target;
-}
-
-/* For ruby1.8.4 and earlier. */
-#ifndef RUBY_INIT_STACK
-   RUBY_EXTERN void Init_stack(VALUE* addr);
-#  define RUBY_INIT_STACK \
-   VALUE variable_in_this_stack_frame; \
-   Init_stack(&variable_in_this_stack_frame);
-#endif
-
-
-#ifdef __cplusplus
-}
-#endif
-
-
-/* -----------------------------------------------------------------------------
- * See the LICENSE file for information on copyright, usage and redistribution
- * of SWIG, and the README file for authors - http://www.swig.org/release.html.
- *
- * rubyrun.swg
- *
- * This file contains the runtime support for Ruby modules
- * and includes code for managing global variables and pointer
- * type checking.
- * ----------------------------------------------------------------------------- */
-
-/* For backward compatibility only */
-#define SWIG_POINTER_EXCEPTION  0
-
-/* for raw pointers */
-#define SWIG_ConvertPtr(obj, pptr, type, flags)         SWIG_Ruby_ConvertPtrAndOwn(obj, pptr, type, flags, 0)
-#define SWIG_ConvertPtrAndOwn(obj,pptr,type,flags,own)  SWIG_Ruby_ConvertPtrAndOwn(obj, pptr, type, flags, own)
-#define SWIG_NewPointerObj(ptr, type, flags)            SWIG_Ruby_NewPointerObj(ptr, type, flags)
-#define SWIG_AcquirePtr(ptr, own)                       SWIG_Ruby_AcquirePtr(ptr, own)
-#define swig_owntype                                    ruby_owntype
-
-/* for raw packed data */
-#define SWIG_ConvertPacked(obj, ptr, sz, ty)            SWIG_Ruby_ConvertPacked(obj, ptr, sz, ty, flags)
-#define SWIG_NewPackedObj(ptr, sz, type)                SWIG_Ruby_NewPackedObj(ptr, sz, type)
-
-/* for class or struct pointers */
-#define SWIG_ConvertInstance(obj, pptr, type, flags)    SWIG_ConvertPtr(obj, pptr, type, flags)
-#define SWIG_NewInstanceObj(ptr, type, flags)           SWIG_NewPointerObj(ptr, type, flags)
-
-/* for C or C++ function pointers */
-#define SWIG_ConvertFunctionPtr(obj, pptr, type)        SWIG_ConvertPtr(obj, pptr, type, 0)
-#define SWIG_NewFunctionPtrObj(ptr, type)               SWIG_NewPointerObj(ptr, type, 0)
-
-/* for C++ member pointers, ie, member methods */
-#define SWIG_ConvertMember(obj, ptr, sz, ty)            SWIG_Ruby_ConvertPacked(obj, ptr, sz, ty)
-#define SWIG_NewMemberObj(ptr, sz, type)                SWIG_Ruby_NewPackedObj(ptr, sz, type)
-
-
-/* Runtime API */
-
-#define SWIG_GetModule(clientdata)                      SWIG_Ruby_GetModule()	
-#define SWIG_SetModule(clientdata, pointer) 		SWIG_Ruby_SetModule(pointer)
-
-
-/* Error manipulation */
-
-#define SWIG_ErrorType(code)                            SWIG_Ruby_ErrorType(code)               
-#define SWIG_Error(code, msg)            		rb_raise(SWIG_Ruby_ErrorType(code), msg)
-#define SWIG_fail                        		goto fail				 
-
-
-/* Ruby-specific SWIG API */
-
-#define SWIG_InitRuntime()                              SWIG_Ruby_InitRuntime()              
-#define SWIG_define_class(ty)                        	SWIG_Ruby_define_class(ty)
-#define SWIG_NewClassInstance(value, ty)             	SWIG_Ruby_NewClassInstance(value, ty)
-#define SWIG_MangleStr(value)                        	SWIG_Ruby_MangleStr(value)		  
-#define SWIG_CheckConvert(value, ty)                 	SWIG_Ruby_CheckConvert(value, ty)	  
-
-
-/* -----------------------------------------------------------------------------
- * pointers/data manipulation
- * ----------------------------------------------------------------------------- */
-
-#ifdef __cplusplus
-extern "C" {
-#endif
-
-typedef struct {
-  VALUE klass;
-  VALUE mImpl;
-  void  (*mark)(void *);
-  void  (*destroy)(void *);
-  int trackObjects;
-} swig_class;
-
-
-/* Global pointer used to keep some internal SWIG stuff */
-static VALUE _cSWIG_Pointer = Qnil;
-static VALUE swig_runtime_data_type_pointer = Qnil;
-
-/* Global IDs used to keep some internal SWIG stuff */
-static ID swig_arity_id = 0;
-static ID swig_call_id  = 0;
-
-/*
-  If your swig extension is to be run within an embedded ruby and has
-  director callbacks, you should set -DRUBY_EMBEDDED during compilation.  
-  This will reset ruby's stack frame on each entry point from the main 
-  program the first time a virtual director function is invoked (in a 
-  non-recursive way).
-  If this is not done, you run the risk of Ruby trashing the stack.
-*/
-
-#ifdef RUBY_EMBEDDED
-
-#  define SWIG_INIT_STACK                            \
-      if ( !swig_virtual_calls ) { RUBY_INIT_STACK } \
-      ++swig_virtual_calls;
-#  define SWIG_RELEASE_STACK --swig_virtual_calls;
-#  define Ruby_DirectorTypeMismatchException(x) \
-          rb_raise( rb_eTypeError, x ); return c_result;
-
-      static unsigned int swig_virtual_calls = 0;
-
-#else  /* normal non-embedded extension */
-
-#  define SWIG_INIT_STACK
-#  define SWIG_RELEASE_STACK
-#  define Ruby_DirectorTypeMismatchException(x) \
-          throw Swig::DirectorTypeMismatchException( x );
-
-#endif  /* RUBY_EMBEDDED */
-
-
-SWIGRUNTIME VALUE 
-getExceptionClass(void) {
-  static int init = 0;
-  static VALUE rubyExceptionClass ;
-  if (!init) {
-    init = 1;
-    rubyExceptionClass = rb_const_get(_mSWIG, rb_intern("Exception"));
-  }
-  return rubyExceptionClass;
-} 
-
-/* This code checks to see if the Ruby object being raised as part
-   of an exception inherits from the Ruby class Exception.  If so,
-   the object is simply returned.  If not, then a new Ruby exception
-   object is created and that will be returned to Ruby.*/
-SWIGRUNTIME VALUE
-SWIG_Ruby_ExceptionType(swig_type_info *desc, VALUE obj) {
-  VALUE exceptionClass = getExceptionClass();
-  if (rb_obj_is_kind_of(obj, exceptionClass)) {
-    return obj;
-  }  else {
-    return rb_exc_new3(rb_eRuntimeError, rb_obj_as_string(obj));
-  }
-}
-
-/* Initialize Ruby runtime support */
-SWIGRUNTIME void
-SWIG_Ruby_InitRuntime(void)
-{
-  if (_mSWIG == Qnil) {
-    _mSWIG = rb_define_module("SWIG");
-    swig_call_id  = rb_intern("call");
-    swig_arity_id = rb_intern("arity");
-  }
-}
-
-/* Define Ruby class for C type */
-SWIGRUNTIME void
-SWIG_Ruby_define_class(swig_type_info *type)
-{
-  VALUE klass;
-  char *klass_name = (char *) malloc(4 + strlen(type->name) + 1);
-  sprintf(klass_name, "TYPE%s", type->name);
-  if (NIL_P(_cSWIG_Pointer)) {
-    _cSWIG_Pointer = rb_define_class_under(_mSWIG, "Pointer", rb_cObject);
-    rb_undef_method(CLASS_OF(_cSWIG_Pointer), "new");
-  }
-  klass = rb_define_class_under(_mSWIG, klass_name, _cSWIG_Pointer);
-  free((void *) klass_name);
-}
-
-/* Create a new pointer object */
-SWIGRUNTIME VALUE
-SWIG_Ruby_NewPointerObj(void *ptr, swig_type_info *type, int flags)
-{
-  int own =  flags & SWIG_POINTER_OWN; 
-  int track;
-  char *klass_name;
-  swig_class *sklass;
-  VALUE klass;
-  VALUE obj;
-  
-  if (!ptr)
-    return Qnil;
-  
-  if (type->clientdata) {
-    sklass = (swig_class *) type->clientdata;
-		
-    /* Are we tracking this class and have we already returned this Ruby object? */
-    track = sklass->trackObjects;
-    if (track) {
-      obj = SWIG_RubyInstanceFor(ptr);
-      
-      /* Check the object's type and make sure it has the correct type.
-        It might not in cases where methods do things like 
-        downcast methods. */
-      if (obj != Qnil) {
-        VALUE value = rb_iv_get(obj, "@__swigtype__");
-        char* type_name = RSTRING_PTR(value);
-				
-        if (strcmp(type->name, type_name) == 0) {
-          return obj;
-        }
-      }
-    }
-
-    /* Create a new Ruby object */
-    obj = Data_Wrap_Struct(sklass->klass, VOIDFUNC(sklass->mark), 
-			   ( own ? VOIDFUNC(sklass->destroy) : 
-			     (track ? VOIDFUNC(SWIG_RubyRemoveTracking) : 0 )
-			     ), ptr);
-
-    /* If tracking is on for this class then track this object. */
-    if (track) {
-      SWIG_RubyAddTracking(ptr, obj);
-    }
-  } else {
-    klass_name = (char *) malloc(4 + strlen(type->name) + 1);
-    sprintf(klass_name, "TYPE%s", type->name);
-    klass = rb_const_get(_mSWIG, rb_intern(klass_name));
-    free((void *) klass_name);
-    obj = Data_Wrap_Struct(klass, 0, 0, ptr);
-  }
-  rb_iv_set(obj, "@__swigtype__", rb_str_new2(type->name));
-  
-  return obj;
-}
-
-/* Create a new class instance (always owned) */
-SWIGRUNTIME VALUE
-SWIG_Ruby_NewClassInstance(VALUE klass, swig_type_info *type)
-{
-  VALUE obj;
-  swig_class *sklass = (swig_class *) type->clientdata;
-  obj = Data_Wrap_Struct(klass, VOIDFUNC(sklass->mark), VOIDFUNC(sklass->destroy), 0);
-  rb_iv_set(obj, "@__swigtype__", rb_str_new2(type->name));
-  return obj;
-}
-
-/* Get type mangle from class name */
-SWIGRUNTIMEINLINE char *
-SWIG_Ruby_MangleStr(VALUE obj)
-{
-  VALUE stype = rb_iv_get(obj, "@__swigtype__");
-  return StringValuePtr(stype);
-}
-
-/* Acquire a pointer value */
-typedef void (*ruby_owntype)(void*);
-
-SWIGRUNTIME ruby_owntype
-SWIG_Ruby_AcquirePtr(VALUE obj, ruby_owntype own) {
-  if (obj) {
-    ruby_owntype oldown = RDATA(obj)->dfree;
-    RDATA(obj)->dfree = own;
-    return oldown;
-  } else {
-    return 0;
-  }
-}
-
-/* Convert a pointer value */
-SWIGRUNTIME int
-SWIG_Ruby_ConvertPtrAndOwn(VALUE obj, void **ptr, swig_type_info *ty, int flags, ruby_owntype *own)
-{
-  char *c;
-  swig_cast_info *tc;
-  void *vptr = 0;
-
-  /* Grab the pointer */
-  if (NIL_P(obj)) {
-    *ptr = 0;
-    return SWIG_OK;
-  } else {
-    if (TYPE(obj) != T_DATA) {
-      return SWIG_ERROR;
-    }
-    Data_Get_Struct(obj, void, vptr);
-  }
-  
-  if (own) *own = RDATA(obj)->dfree;
-    
-  /* Check to see if the input object is giving up ownership
-     of the underlying C struct or C++ object.  If so then we
-     need to reset the destructor since the Ruby object no 
-     longer owns the underlying C++ object.*/ 
-  if (flags & SWIG_POINTER_DISOWN) {
-    /* Is tracking on for this class? */
-    int track = 0;
-    if (ty && ty->clientdata) {
-      swig_class *sklass = (swig_class *) ty->clientdata;
-      track = sklass->trackObjects;
-    }
-		
-    if (track) {
-      /* We are tracking objects for this class.  Thus we change the destructor
-       * to SWIG_RubyRemoveTracking.  This allows us to
-       * remove the mapping from the C++ to Ruby object
-       * when the Ruby object is garbage collected.  If we don't
-       * do this, then it is possible we will return a reference 
-       * to a Ruby object that no longer exists thereby crashing Ruby. */
-      RDATA(obj)->dfree = SWIG_RubyRemoveTracking;
-    } else {    
-      RDATA(obj)->dfree = 0;
-    }
-  }
-
-  /* Do type-checking if type info was provided */
-  if (ty) {
-    if (ty->clientdata) {
-      if (rb_obj_is_kind_of(obj, ((swig_class *) (ty->clientdata))->klass)) {
-        if (vptr == 0) {
-          /* The object has already been deleted */
-          return SWIG_ObjectPreviouslyDeletedError;
-        }
-        *ptr = vptr;
-        return SWIG_OK;
-      }
-    }
-    if ((c = SWIG_MangleStr(obj)) == NULL) {
-      return SWIG_ERROR;
-    }
-    tc = SWIG_TypeCheck(c, ty);
-    if (!tc) {
-      return SWIG_ERROR;
-    }
-    *ptr = SWIG_TypeCast(tc, vptr);
-  } else {
-    *ptr = vptr;
-  }
-  
-  return SWIG_OK;
-}
-
-/* Check convert */
-SWIGRUNTIMEINLINE int
-SWIG_Ruby_CheckConvert(VALUE obj, swig_type_info *ty)
-{
-  char *c = SWIG_MangleStr(obj);
-  if (!c) return 0;
-  return SWIG_TypeCheck(c,ty) != 0;
-}
-
-SWIGRUNTIME VALUE
-SWIG_Ruby_NewPackedObj(void *ptr, int sz, swig_type_info *type) {
-  char result[1024];
-  char *r = result;
-  if ((2*sz + 1 + strlen(type->name)) > 1000) return 0;
-  *(r++) = '_';
-  r = SWIG_PackData(r, ptr, sz);
-  strcpy(r, type->name);
-  return rb_str_new2(result);
-}
-
-/* Convert a packed value value */
-SWIGRUNTIME int
-SWIG_Ruby_ConvertPacked(VALUE obj, void *ptr, int sz, swig_type_info *ty) {
-  swig_cast_info *tc;
-  const char  *c;
-
-  if (TYPE(obj) != T_STRING) goto type_error;
-  c = StringValuePtr(obj);
-  /* Pointer values must start with leading underscore */
-  if (*c != '_') goto type_error;
-  c++;
-  c = SWIG_UnpackData(c, ptr, sz);
-  if (ty) {
-    tc = SWIG_TypeCheck(c, ty);
-    if (!tc) goto type_error;
-  }
-  return SWIG_OK;
-
- type_error:
-  return SWIG_ERROR;
-}
-
-SWIGRUNTIME swig_module_info *
-SWIG_Ruby_GetModule(void)
-{
-  VALUE pointer;
-  swig_module_info *ret = 0;
-  VALUE verbose = rb_gv_get("VERBOSE");
-
- /* temporarily disable warnings, since the pointer check causes warnings with 'ruby -w' */
-  rb_gv_set("VERBOSE", Qfalse);
-  
-  /* first check if pointer already created */
-  pointer = rb_gv_get("$swig_runtime_data_type_pointer" SWIG_RUNTIME_VERSION SWIG_TYPE_TABLE_NAME);
-  if (pointer != Qnil) {
-    Data_Get_Struct(pointer, swig_module_info, ret);
-  }
-
-  /* reinstate warnings */
-  rb_gv_set("VERBOSE", verbose);
-  return ret;
-}
-
-SWIGRUNTIME void 
-SWIG_Ruby_SetModule(swig_module_info *pointer)
-{
-  /* register a new class */
-  VALUE cl = rb_define_class("swig_runtime_data", rb_cObject);
-  /* create and store the structure pointer to a global variable */
-  swig_runtime_data_type_pointer = Data_Wrap_Struct(cl, 0, 0, pointer);
-  rb_define_readonly_variable("$swig_runtime_data_type_pointer" SWIG_RUNTIME_VERSION SWIG_TYPE_TABLE_NAME, &swig_runtime_data_type_pointer);
-}
-
-/* This function can be used to check whether a proc or method or similarly
-   callable function has been passed.  Usually used in a %typecheck, like:
-
-   %typecheck(c_callback_t, precedence=SWIG_TYPECHECK_POINTER) {
-        $result = SWIG_Ruby_isCallable( $input );
-   }
- */
-SWIGINTERN
-int SWIG_Ruby_isCallable( VALUE proc )
-{
-  if ( rb_respond_to( proc, swig_call_id ) == Qtrue )
-    return 1;
-  return 0;
-}
-
-/* This function can be used to check the arity (number of arguments)
-   a proc or method can take.  Usually used in a %typecheck.
-   Valid arities will be that equal to minimal or those < 0
-   which indicate a variable number of parameters at the end.
- */
-SWIGINTERN
-int SWIG_Ruby_arity( VALUE proc, int minimal )
-{
-  if ( rb_respond_to( proc, swig_arity_id ) == Qtrue )
-    {
-      VALUE num = rb_funcall( proc, swig_arity_id, 0 );
-      int arity = NUM2INT(num);
-      if ( arity < 0 && (arity+1) < -minimal ) return 1;
-      if ( arity == minimal ) return 1;
-      return 1;
-    }
-  return 0;
-}
-
-
-#ifdef __cplusplus
-}
-#endif
-
-
-
-#define SWIG_exception_fail(code, msg) do { SWIG_Error(code, msg); SWIG_fail; } while(0) 
-
-#define SWIG_contract_assert(expr, msg) if (!(expr)) { SWIG_Error(SWIG_RuntimeError, msg); SWIG_fail; } else 
-
-
-
-/* -------- TYPES TABLE (BEGIN) -------- */
-
-#define SWIGTYPE_p_char swig_types[0]
-static swig_type_info *swig_types[2];
-static swig_module_info swig_module = {swig_types, 1, 0, 0, 0, 0};
-#define SWIG_TypeQuery(name) SWIG_TypeQueryModule(&swig_module, &swig_module, name)
-#define SWIG_MangledTypeQuery(name) SWIG_MangledTypeQueryModule(&swig_module, &swig_module, name)
-
-/* -------- TYPES TABLE (END) -------- */
-
-#define SWIG_init    Init_antargis
-#define SWIG_name    "Antargis"
-
-static VALUE mAntargis;
-
-#define SWIG_RUBY_THREAD_BEGIN_BLOCK
-#define SWIG_RUBY_THREAD_END_BLOCK
-
-
-#define SWIGVERSION 0x010333 
-#define SWIG_VERSION SWIGVERSION
-
-
-#define SWIG_as_voidptr(a) const_cast< void * >(static_cast< const void * >(a)) 
-#define SWIG_as_voidptrptr(a) ((void)SWIG_as_voidptr(*a),reinterpret_cast< void** >(a)) 
-
-
-#include <stdexcept>
-
-
-/* -------- TYPE CONVERSION AND EQUIVALENCE RULES (BEGIN) -------- */
-
-static swig_type_info _swigt__p_char = {"_p_char", "char *", 0, 0, (void*)0, 0};
-
-static swig_type_info *swig_type_initial[] = {
-  &_swigt__p_char,
-};
-
-static swig_cast_info _swigc__p_char[] = {  {&_swigt__p_char, 0, 0, 0},{0, 0, 0, 0}};
-
-static swig_cast_info *swig_cast_initial[] = {
-  _swigc__p_char,
-};
-
-
-/* -------- TYPE CONVERSION AND EQUIVALENCE RULES (END) -------- */
-
-/* -----------------------------------------------------------------------------
- * Type initialization:
- * This problem is tough by the requirement that no dynamic 
- * memory is used. Also, since swig_type_info structures store pointers to 
- * swig_cast_info structures and swig_cast_info structures store pointers back
- * to swig_type_info structures, we need some lookup code at initialization. 
- * The idea is that swig generates all the structures that are needed. 
- * The runtime then collects these partially filled structures. 
- * The SWIG_InitializeModule function takes these initial arrays out of 
- * swig_module, and does all the lookup, filling in the swig_module.types
- * array with the correct data and linking the correct swig_cast_info
- * structures together.
- *
- * The generated swig_type_info structures are assigned staticly to an initial 
- * array. We just loop through that array, and handle each type individually.
- * First we lookup if this type has been already loaded, and if so, use the
- * loaded structure instead of the generated one. Then we have to fill in the
- * cast linked list. The cast data is initially stored in something like a
- * two-dimensional array. Each row corresponds to a type (there are the same
- * number of rows as there are in the swig_type_initial array). Each entry in
- * a column is one of the swig_cast_info structures for that type.
- * The cast_initial array is actually an array of arrays, because each row has
- * a variable number of columns. So to actually build the cast linked list,
- * we find the array of casts associated with the type, and loop through it 
- * adding the casts to the list. The one last trick we need to do is making
- * sure the type pointer in the swig_cast_info struct is correct.
- *
- * First off, we lookup the cast->type name to see if it is already loaded. 
- * There are three cases to handle:
- *  1) If the cast->type has already been loaded AND the type we are adding
- *     casting info to has not been loaded (it is in this module), THEN we
- *     replace the cast->type pointer with the type pointer that has already
- *     been loaded.
- *  2) If BOTH types (the one we are adding casting info to, and the 
- *     cast->type) are loaded, THEN the cast info has already been loaded by
- *     the previous module so we just ignore it.
- *  3) Finally, if cast->type has not already been loaded, then we add that
- *     swig_cast_info to the linked list (because the cast->type) pointer will
- *     be correct.
- * ----------------------------------------------------------------------------- */
-
-#ifdef __cplusplus
-extern "C" {
-#if 0
-} /* c-mode */
-#endif
-#endif
-
-#if 0
-#define SWIGRUNTIME_DEBUG
-#endif
-
-
-SWIGRUNTIME void
-SWIG_InitializeModule(void *clientdata) {
-  size_t i;
-  swig_module_info *module_head, *iter;
-  int found;
-
-  clientdata = clientdata;
-
-  /* check to see if the circular list has been setup, if not, set it up */
-  if (swig_module.next==0) {
-    /* Initialize the swig_module */
-    swig_module.type_initial = swig_type_initial;
-    swig_module.cast_initial = swig_cast_initial;
-    swig_module.next = &swig_module;
-  }
-
-  /* Try and load any already created modules */
-  module_head = SWIG_GetModule(clientdata);
-  if (!module_head) {
-    /* This is the first module loaded for this interpreter */
-    /* so set the swig module into the interpreter */
-    SWIG_SetModule(clientdata, &swig_module);
-    module_head = &swig_module;
-  } else {
-    /* the interpreter has loaded a SWIG module, but has it loaded this one? */
-    found=0;
-    iter=module_head;
-    do {
-      if (iter==&swig_module) {
-        found=1;
-        break;
-      }
-      iter=iter->next;
-    } while (iter!= module_head);
-
-    /* if the is found in the list, then all is done and we may leave */
-    if (found) return;
-    /* otherwise we must add out module into the list */
-    swig_module.next = module_head->next;
-    module_head->next = &swig_module;
-  }
-
-  /* Now work on filling in swig_module.types */
-#ifdef SWIGRUNTIME_DEBUG
-  printf("SWIG_InitializeModule: size %d\n", swig_module.size);
-#endif
-  for (i = 0; i < swig_module.size; ++i) {
-    swig_type_info *type = 0;
-    swig_type_info *ret;
-    swig_cast_info *cast;
-  
-#ifdef SWIGRUNTIME_DEBUG
-    printf("SWIG_InitializeModule: type %d %s\n", i, swig_module.type_initial[i]->name);
-#endif
-
-    /* if there is another module already loaded */
-    if (swig_module.next != &swig_module) {
-      type = SWIG_MangledTypeQueryModule(swig_module.next, &swig_module, swig_module.type_initial[i]->name);
-    }
-    if (type) {
-      /* Overwrite clientdata field */
-#ifdef SWIGRUNTIME_DEBUG
-      printf("SWIG_InitializeModule: found type %s\n", type->name);
-#endif
-      if (swig_module.type_initial[i]->clientdata) {
-	type->clientdata = swig_module.type_initial[i]->clientdata;
-#ifdef SWIGRUNTIME_DEBUG
-      printf("SWIG_InitializeModule: found and overwrite type %s \n", type->name);
-#endif
-      }
-    } else {
-      type = swig_module.type_initial[i];
-    }
-
-    /* Insert casting types */
-    cast = swig_module.cast_initial[i];
-    while (cast->type) {
-    
-      /* Don't need to add information already in the list */
-      ret = 0;
-#ifdef SWIGRUNTIME_DEBUG
-      printf("SWIG_InitializeModule: look cast %s\n", cast->type->name);
-#endif
-      if (swig_module.next != &swig_module) {
-        ret = SWIG_MangledTypeQueryModule(swig_module.next, &swig_module, cast->type->name);
-#ifdef SWIGRUNTIME_DEBUG
-	if (ret) printf("SWIG_InitializeModule: found cast %s\n", ret->name);
-#endif
-      }
-      if (ret) {
-	if (type == swig_module.type_initial[i]) {
-#ifdef SWIGRUNTIME_DEBUG
-	  printf("SWIG_InitializeModule: skip old type %s\n", ret->name);
-#endif
-	  cast->type = ret;
-	  ret = 0;
-	} else {
-	  /* Check for casting already in the list */
-	  swig_cast_info *ocast = SWIG_TypeCheck(ret->name, type);
-#ifdef SWIGRUNTIME_DEBUG
-	  if (ocast) printf("SWIG_InitializeModule: skip old cast %s\n", ret->name);
-#endif
-	  if (!ocast) ret = 0;
-	}
-      }
-
-      if (!ret) {
-#ifdef SWIGRUNTIME_DEBUG
-	printf("SWIG_InitializeModule: adding cast %s\n", cast->type->name);
-#endif
-        if (type->cast) {
-          type->cast->prev = cast;
-          cast->next = type->cast;
-        }
-        type->cast = cast;
-      }
-      cast++;
-    }
-    /* Set entry in modules->types array equal to the type */
-    swig_module.types[i] = type;
-  }
-  swig_module.types[i] = 0;
-
-#ifdef SWIGRUNTIME_DEBUG
-  printf("**** SWIG_InitializeModule: Cast List ******\n");
-  for (i = 0; i < swig_module.size; ++i) {
-    int j = 0;
-    swig_cast_info *cast = swig_module.cast_initial[i];
-    printf("SWIG_InitializeModule: type %d %s\n", i, swig_module.type_initial[i]->name);
-    while (cast->type) {
-      printf("SWIG_InitializeModule: cast type %s\n", cast->type->name);
-      cast++;
-      ++j;
-    }
-  printf("---- Total casts: %d\n",j);
-  }
-  printf("**** SWIG_InitializeModule: Cast List ******\n");
-#endif
-}
-
-/* This function will propagate the clientdata field of type to
-* any new swig_type_info structures that have been added into the list
-* of equivalent types.  It is like calling
-* SWIG_TypeClientData(type, clientdata) a second time.
-*/
-SWIGRUNTIME void
-SWIG_PropagateClientData(void) {
-  size_t i;
-  swig_cast_info *equiv;
-  static int init_run = 0;
-
-  if (init_run) return;
-  init_run = 1;
-
-  for (i = 0; i < swig_module.size; i++) {
-    if (swig_module.types[i]->clientdata) {
-      equiv = swig_module.types[i]->cast;
-      while (equiv) {
-        if (!equiv->converter) {
-          if (equiv->type && !equiv->type->clientdata)
-            SWIG_TypeClientData(equiv->type, swig_module.types[i]->clientdata);
-        }
-        equiv = equiv->next;
-      }
-    }
-  }
-}
-
-#ifdef __cplusplus
-#if 0
-{ /* c-mode */
-#endif
-}
-#endif
-
-/*
-
-*/
-#ifdef __cplusplus
-extern "C"
-#endif
-SWIGEXPORT void Init_antargis(void) {
-  size_t i;
-  
-  SWIG_InitRuntime();
-  mAntargis = rb_define_module("Antargis");
-  
-  SWIG_InitializeModule(0);
-  for (i = 0; i < swig_module.size; i++) {
-    SWIG_define_class(swig_module.types[i]);
-  }
-  
-  SWIG_RubyInitializeTrackings();
-}
-

Modified: antargis/trunk/rookey/tasks.rb
===================================================================
--- antargis/trunk/rookey/tasks.rb	2008-03-26 19:30:10 UTC (rev 1236)
+++ antargis/trunk/rookey/tasks.rb	2008-03-28 16:59:36 UTC (rev 1237)
@@ -36,7 +36,7 @@
     }
     file=target+"_interface.i"
     templates=[source].flatten.select{|f|f=~/i$/}
-    source=source.grep(/INCLUDE_SWIG/)
+    source=source.grep(/INCLUDE_SWIG/)+[getAGRubyObjectHeader]
     
     rule file=>source do
 	    parser=CppHierarchyParser.new([source].flatten.select{|f|f=~/h$/})
@@ -71,8 +71,14 @@
 	    swigCompiler.swig(t,interface)
 	  end
 	  CLEAN << output << output.gsub(/\.cc?/,".h")
-	  output
+	  [output,getAGRubyObjectSource]
 	end
+  def Rookey.getAGRubyObjectSource
+    File.join(File.split(__FILE__)[0],"cpp","ag_rubyobj.cc")
+  end
+  def Rookey.getAGRubyObjectHeader
+    File.join(File.split(__FILE__)[0],"cpp","ag_rubyobj.h")
+  end
 	
 	def Rookey.compile(files,config=nil)
 	  files=[files].flatten

Modified: antargis/trunk/rookey/tools.rb
===================================================================
--- antargis/trunk/rookey/tools.rb	2008-03-26 19:30:10 UTC (rev 1236)
+++ antargis/trunk/rookey/tools.rb	2008-03-28 16:59:36 UTC (rev 1237)
@@ -19,24 +19,19 @@
 end
 
 module Rookey
-  module Tools
-    # creates a directory *dir* and parent-dirs if they don't exist
-		def Tools.mkdir(dir)
-		  return if File.exists?(dir)
-		  pp dir
-		  begin
-		    puts "making #{dir}"
-		    Dir.mkdir(dir.to_s)
-		    puts "ok"
-		  rescue
-		    p=File.split(dir)[0]
-		    return if p==dir
-		    Rookey.mkdir(p)
-		    begin
-		      Dir.mkdir(dir)
-		    rescue
-		    end
-		  end
-		end
-  end
+  # creates a directory *dir* and parent-dirs if they don't exist
+  def Rookey.mkdir(dir)
+	  return if File.exists?(dir)
+	  begin
+	    Dir.mkdir(dir.to_s)
+	  rescue
+	    p=File.split(dir)[0]
+	    return if p==dir
+	    Rookey.mkdir(p)
+	    begin
+	      Dir.mkdir(dir)
+	    rescue
+	    end
+	  end
+	end
 end
\ No newline at end of file



